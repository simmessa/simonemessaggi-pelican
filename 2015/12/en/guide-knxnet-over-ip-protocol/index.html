<!DOCTYPE html>

<html lang="it">
<head>
<meta charset="utf-8"/>
<meta charset="utf-8" content="text/html" http-equiv="Content-Type"/>
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<title>Guide to the KNXnet/IP protocol i.e. KNX over IP</title>
<meta content="Il sito personale di Simone Messaggi, blog tecnico opinionistico musicale di uno che di errori ne ha commessi, e tanti." name="description"/>
<meta content="True" name="HandheldFriendly"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="origin" name="referrer"/>
<meta content="Pelican" name="generator"/>
<link href="http://127.0.0.1:8000/2015/12/en/guide-knxnet-over-ip-protocol/" rel="canonical"/>
<!-- Feed -->
<link href="http://127.0.0.1:8000/theme/css/style.css" rel="stylesheet" type="text/css"/>
<link href="http://127.0.0.1:8000/extra/ico/favicon.ico" rel="icon"/>
<link href="http://127.0.0.1:8000/extra/ico/favicon.svg" rel="icon" type="image/svg+xml"/>
<link href="http://127.0.0.1:8000/extra/ico/apple-touch-icon.png" rel="apple-touch-icon"/><!-- 180×180 -->
<link href="http://127.0.0.1:8000/extra/ico/site.webmanifest" rel="manifest"/>
<!-- CSS specified by the user -->
<link href="http://127.0.0.1:8000/theme/css/simonemessaggi.css" rel="stylesheet" type="text/css"/>
<!-- Custom fonts -->
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,300" rel="stylesheet" type="text/css"/>
<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css"/>
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
<script>
    var siteUrl = 'http://127.0.0.1:8000';
  </script>
<script>
    var localTheme = localStorage.getItem('attila_theme');
    switch (localTheme) {
      case 'dark':
        document.documentElement.classList.add('theme-dark');
        break;
      case 'light':
        document.documentElement.classList.add('theme-light');
        break;
      default:
        break;
    }
  </script>
<meta content="Today (original article published on 31 December 2015 at Simmessa.com) I came across a useful English tutorial explaining how the KNX..." name="description"/>
<meta content="simmessa" name="author"/>
<meta content="IOT" name="tags"/>
<meta content="Home automation" name="tags"/>
<meta content="KNX" name="tags"/>
<!-- Open Graph -->
<meta content="SimoneMessaggi.it" prefix="og: http://ogp.me/ns#" property="og:site_name"/>
<meta content="Guide to the KNXnet/IP protocol i.e. KNX over IP" prefix="og: http://ogp.me/ns#" property="og:title"/>
<meta content="Today (original article published on 31 December 2015 at Simmessa.com) I came across a useful English tutorial explaining how the KNX..." prefix="og: http://ogp.me/ns#" property="og:description"/>
<meta content="en_US" prefix="og: http://ogp.me/ns#" property="og:locale"/>
<meta content="http://127.0.0.1:8000/2015/12/en/guide-knxnet-over-ip-protocol/" prefix="og: http://ogp.me/ns#" property="og:url"/>
<meta content="article" prefix="og: http://ogp.me/ns#" property="og:type">
<meta content="2015-12-31 00:00:00+01:00" prefix="og: http://ogp.me/ns#" property="article:published_time">
<meta content="" prefix="og: http://ogp.me/ns#" property="article:modified_time">
<meta content="http://127.0.0.1:8000/author/simmessa/" prefix="og: http://ogp.me/ns#" property="article:author">
<meta content="Tech" prefix="og: http://ogp.me/ns#" property="article:section"/>
<meta content="IOT" prefix="og: http://ogp.me/ns#" property="article:tag">
<meta content="Home automation" prefix="og: http://ogp.me/ns#" property="article:tag">
<meta content="KNX" prefix="og: http://ogp.me/ns#" property="article:tag"/>
<meta content="http://127.0.0.1:8000/images/webp/knxiprouterinterfaceoverlay.webp" prefix="og: http://ogp.me/ns#" property="og:image"/>
<!-- Twitter Card -->
<meta content="summary_large_image" name="twitter:card"/>
<meta content="@simmessa" name="twitter:site"/>
<meta content="Guide to the KNXnet/IP protocol i.e. KNX over IP" name="twitter:title"/>
<meta content="http://127.0.0.1:8000/2015/12/en/guide-knxnet-over-ip-protocol/" name="twitter:url"/>
<meta content="http://127.0.0.1:8000/images/webp/knxiprouterinterfaceoverlay.webp" name="twitter:image:src"/>
<meta content="Today (original article published on 31 December 2015 at Simmessa.com) I came across a useful English tutorial explaining how the KNX..." name="twitter:description"/>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "name": "Guide to the KNXnet/IP protocol i.e. KNX over IP",
  "headline": "Guide to the KNXnet/IP protocol i.e. KNX over IP",
  "datePublished": "2015-12-31 00:00:00+01:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "Simmessa",
    "url": "http://127.0.0.1:8000/author/simmessa/"
  },
  "image": "http://127.0.0.1:8000/images/webp/knxiprouterinterfaceoverlay.webp",
  "url": "http://127.0.0.1:8000/2015/12/en/guide-knxnet-over-ip-protocol/",
  "description": "Today (original article published on 31 December 2015 at Simmessa.com) I came across a useful English tutorial explaining how the KNX..."
}
</script>
</meta></meta></meta></meta></meta></meta></meta><link href="http://127.0.0.1:8000/2015/12/en/guide-knxnet-over-ip-protocol/" rel="canonical"/><script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "SimoneMessaggi.it", "item": "http://127.0.0.1:8000"}, {"@type": "ListItem", "position": 2, "name": "2015", "item": "http://127.0.0.1:8000/2015"}, {"@type": "ListItem", "position": 3, "name": "12", "item": "http://127.0.0.1:8000/2015/12"}, {"@type": "ListItem", "position": 4, "name": "En", "item": "http://127.0.0.1:8000/2015/12/en"}, {"@type": "ListItem", "position": 5, "name": "Guide knxnet over ip protocol", "item": "http://127.0.0.1:8000/2015/12/en/guide-knxnet-over-ip-protocol"}, {"@type": "ListItem", "position": 6, "name": "Index", "item": "http://127.0.0.1:8000/2015/12/en/guide-knxnet-over-ip-protocol/index.html"}]}</script><script type="application/ld+json">{"@context": "https://schema.org", "@type": "Article", "author": {"@type": "Person", "name": "simmessa"}, "publisher": {"@type": "Organization", "name": "SimoneMessaggi.it"}, "headline": "Guide to the KNXnet/IP protocol i.e. KNX over IP", "about": "Tech", "datePublished": "2015-12-31 00:00"}</script><meta content="summary" name="twitter:card"/><meta content="http://127.0.0.1:8000/2015/12/en/guide-knxnet-over-ip-protocol/" property="og:url"/><meta content="article" property="og:type"/><meta content="Guide to the KNXnet/IP protocol i.e. KNX over IP" property="og:title"/><meta content="en_US" property="og:locale"/></head>
<body class="category-template">
<div class="nav-header">
<nav aria-label="Main" class="nav-wrapper">
<ul>
<li class="nav-Home" role="presentation"><a href="/"><span>Home</span></a></li>
<li class="nav-Rants" role="presentation"><a href="/category/rants/"><span>Rants</span></a></li>
<li class="nav-Tech active" role="presentation"><a href="/category/tech/"><span>Tech</span></a></li>
<li class="nav-Humans" role="presentation"><a href="/category/humans/"><span>Humans</span></a></li>
<li class="nav-Music" role="presentation"><a href="/category/music/"><span>Music</span></a></li>
<li role="presentation"><a href="http://127.0.0.1:8000/pages/contact/"><span>Contact</span></a></li>
</ul>
<ul class="nav-meta">
<li class="nav-twitter"><a aria-label="Twitter" href="http://twitter.com/simmessa" target="_blank"><i aria-hidden="true" class="icon icon-twitter"></i>
<span>Twitter</span>
</a></li>
<li class="nav-github"><a aria-label="Github" href="https://github.com/simmessa" target="_blank"><i aria-hidden="true" class="icon icon-github"></i>
<span>Github</span>
</a></li>
<li class="nav-search" style="display: none;">
<a title="Search">
<i aria-hidden="true" class="icon icon-search"></i>
<span>Search</span>
</a>
</li>
</ul> </nav>
<div class="nav-wrapper-control">
<div class="inner">
<a class="nav-menu" role="button"><i aria-hidden="true" class="icon icon-menu"></i>Menu</a>
<a class="nav-search" role="button" style="display: none;" title="Search"><i aria-hidden="true" class="icon icon-search"></i></a>
</div>
</div>
</div>
<div aria-label="Close" class="nav-close" role="button"></div>
<section class="page-wrapper" id="wrapper">
<!-- Progressbar -->
<div class="progress-container">
<span class="progress-bar"></span>
</div>
<!-- Page Header -->
<!-- Set your background image for this header on the line below. -->
<header class="post-header has-cover">
<div class="inner">
<span class="post-info">
<a href="http://127.0.0.1:8000"><span class="post-type">Home</span></a> &gt; 
          <span class="post-type">Article</span>
<a href="http://127.0.0.1:8000/category/tech/"><span class="post-count">Tech</span></a>
</span>
<h1 class="post-title">Guide to the KNXnet/IP protocol i.e. KNX over IP</h1>
<div class="post-meta">
<div class="post-meta-avatars">
<figure class="post-meta-avatar avatar">
<a class="author-avatar" href="http://127.0.0.1:8000/author/simmessa/">
<img alt="Simone Messaggi" class="author-profile-image" fetchpriority="high" rel="preload" src="http://127.0.0.1:8000/images/simmessa.png"/>
</a>
</figure>
</div>
<h4 class="post-meta-author">
            Simone Messaggi
          </h4>
<time datetime="Thu 31 December 2015">Thu 31 December 2015</time>
          • 6 min read
          <div>
<hr/>
<p>Read <strong><a href="http://127.0.0.1:8000/2015/12/guide-knxnet-over-ip-protocol/">this article</a></strong> in 
                    Italian
 
                language <strong><a href="http://127.0.0.1:8000/2015/12/guide-knxnet-over-ip-protocol/"> here &gt;&gt;</a></strong>
</p>
</div>
</div>
<div class="post-cover cover">
<img alt="Category Tech" fetchpriority="high" rel="preload" src="http://127.0.0.1:8000/images/webp/knxiprouterinterfaceoverlay.webp"/>
</div>
</div>
</header>
<!-- Post content -->
<main class="content" role="main">
<article class="post">
<div class="inner">
<section class="post-content">
<p><em>Today (original article published on 31 December 2015 at Simmessa.com) I came across a useful English tutorial explaining how the KNX protocol works IP or KNX over IP, for those of you who did not know it, we are talking about Konnex, that is one of the most popular protocols for home automation and home automation, find more info about http://knx.org however the article I read seemed interesting to me and I thought to rewrite it here in Italian for those who were curious! Find the original on http://knxtoday.com/2014/01/3056/solutions-ip-and-knx-bringing-you-up-to-speed.html</em></p>
<p>People often ask me what the limitations of KNX are and whether it is really an ancient system, even considering that it was thought almost 20 years ago.
One of the most used data in this debate is the relatively low speed of the KNX bus, with a baud rate of 9600bps, and the fact that many modern systems can communicate at speeds thousands of times faster.</p>
<p>But what is sometimes not considered is that at 9600bps the bus can get very long with a free topology and low consumption of connected devices.</p>
<p>At this baud rate, let's not forget that our bus can support up to 50 telegrams per second!</p>
<p>However, with the progress in using KNX there is certainly a need for greater speed, especially at the backbone level.</p>
<p>With centralized video surveillance and monitoring devices that are becoming very common, there is often a requirement for all telegrams to be available at the highest topological level.</p>
<p>With the KNX TP1 bus cable, we are therefore in the presence of a bottleneck, which IP can solve.</p>
<p>To support this protocol (IP) the KNX group has developed the KNX/IP telegram, now an official part of the KNX specifications. This allows us to use Ethernet as a cheap alternative and broadband to the old bus. We also have the advantage that Ethernet is already present in many residential and commercial buildings.</p>
<p>But it is important to understand that if LAN networks also have many benefits, the requirements of having a controlled and defined infrastructure need to maintain KNX TP1 as a basis.</p>
<p><img alt="The KNX TP1 cable" src="/images/KNX-cable.jpg"/>
<em>fig.1 - The KNX TP1 cable</em></p>
<h2>The KNX/IP telegram</h2>
<p>To allow the inclusion of the IP protocol as a means of communication, the KNX group has created a standard KNX/IP telegram.</p>
<p>This is based on the OSI reference model that defines transport, network and physical levels.</p>
<p>To simplify this allows us to define how to distribute TP1 telegrams in the presence of IP networks.</p>
<p>The TP1 telegram is maintained, but an additional field is used to define the KNXnet/IP action, which can implement one of the following services:</p>
<ul>
<li>KNXnet/IP Core</li>
<li>KNXnet/IP Device Management</li>
<li><strong>KNXnet/IP Tunnelling</strong></li>
<li><strong>KNXnet/IP Routing</strong>*</li>
<li>KNXnet/IP Remote Logging</li>
<li>KNXnet/IP Remote Configuration and Diagnosis</li>
<li>KNXnet/IP Object Server</li>
</ul>
<p>Most of these services are self-maintained and do not require our intervention, so it will be important for us to focus on the two highlighted above, <strong>tunnelling and routing.</strong></p>
<h2>KNXnet/IP Tunnelling</h2>
<p>The simplest mode, as well as the main one to interface with a KNX system, and allows point-to-point communication (unicast) between a single external device and the KNX system, the operation is completely analogous to using USB or a serial interface!</p>
<p>It’s the simplest form of communication for KNX over IP and it’s easy to understand why, as it’s enough to point a device to its IP address of the KNX IP card.</p>
<p>This allows us to see all bus traffic and communicate directly with each device for example for ETS programming.
It is also commonly used to communicate external systems with KNX.</p>
<p>Note: In ETS this method is simply defined as KNX/net IP</p>
<h2>KNXnet/IP Routing</h2>
<p>Here we have a multicast-based telegram, so a KNX IP router will work from line or coupler area. By doing so we make the backbone of an ethernet-based KNX system, with higher transmission speed and installation flexibility!</p>
<p>The IP router will also manage the filter table to manage traffic ( congestion, etc.) where necessary.</p>
<p>Clearly, being multicasts, we have that to contact multiple devices we will aim at a standard multicast address, in which way we have a communication one to many, the KNX association has reserved the address of multicast 224.0.23.12 for convenience but any other address can be used, as long as it is laid on all devices.</p>
<p><img alt="We use an IP router like backbone and line coupler" src="/images/KNX-IP-network.jpg"/></p>
<p><em>fig.2 - We use an IP router like backbone and line coupler</em></p>
<p>With the KNXnet/IP routing we have a communication method that allows all traffic on the bus to be monitored, this is very useful in all cases where the devices require access for example to the display systems, but the disadvantage is that it does not allow to perform ETS functions as a bus monitor or download on the devices.</p>
<h2>What hardware do I need?</h2>
<p>Given the main communication methods, let's take a look at the products we need to make a KNX system on IP.</p>
<p>The main devices we need will be interfaces (IP network cards) and routers.</p>
<p><strong>The KNX interfaces IP</strong>* only support the KNXnet/IP tunnelling communication method, despite a single interface, such as the Weinzierl 730, can support multiple connections.</p>
<p>This card in fact manages up to 5 simultaneous connections that are obtained by defining multiple KNX physical addresses on the device.</p>
<p>Obviously this technique is very useful as we have multiple instances of ETS accessing the same KNX system or if we want to use the interface for both an ETS connection and an external board for an Audio/Video system, for example.</p>
<p><strong>The KNX IP</strong> routers, on the contrary, support both methods of tunnelling and KNXnet/IP routing, as well as manage the filter tables that allow the device to function as coupler.</p>
<p>In fact, some IP routers, such as the Gira 216700, allow multiple tunnelling connections (such as interfaces).</p>
<p>The routing, however, by its very nature, has no limits to the number of connections that it is able to establish through the multicast protocol.</p>
<p>Some devices also have time servers and memory cards to record the bus.</p>
<p><img alt="This is the router KNXnet / IP Gira 2167 00" src="/images/Gira-KNX-IP-router.jpg"/>
<em>fig.3 - This is the router KNXnet / IP Gira 2167 00</em></p>
<p><strong>Please note:</strong>*</p>
<p><strong>It is very important that we remember to treat this device as a line coupler, it must be addressed correctly in our network topology, and the Medium types of all segments must be properly assigned to ETS.</strong></p>
<p>Both devices we have seen, tabs and routers generally require a voltage higher than (24V) KNX bus. This can usually be provided by the aux voltage of many PSU KNX, but we remember that generally a PSU KNX offers a maximum output of 640mA.</p>
<p>To avoid risk, it is better to run each device with its dedicated PSU, or, alternatively, use the Power over Ethernet (PoE) protocol if our switch allows it, the cost of the switch could increase, but the installation simplifies considerably!</p>
<h2>Security and remote access</h2>
<p>Once we have implemented an IP solution, you can configure one of the above types of connection for remote access.</p>
<p>Using a tunnelling interface, we can establish an external direct connection if we know the WAN address. It will need a port redirection on the router to cross the firewall, however, since the KNX system does not require a password to be used, it is not the safest method. This consideration is important if a KNX system controls an entire building, for obvious security reasons!</p>
<p>If we needed to connect two KNX systems with KNXnet/IP routing, the VPN must necessarily support multicast traffic and have this grant from the system administrator.</p>
<h2>Conclusion</h2>
<p>Considered everything, it is not strange at all for us to receive a lot of questions about KNX IP, also because it does not talk much about it during the certification KNX.</p>
<p>Once the above terms are understood, however, it becomes much easier to specify and install the correct products. By combining the speed and flexibility of the IP protocol with the reliability and simplicity of the KNX bus we get a very powerful, flexible and ready-to-wear system.</p>
<p><em>The original English article written by Mark Warburton is available at:
http://knxtoday.com/2014/01/3056/solutions-ip-and-knx-bringing-you-up-to-speed.html</em></p>
<p><strong>Translated by yours truly, Simone Messaggi.</strong></p>
<div id="back_home">
<p><a href="http://127.0.0.1:8000">done reading? go back to the homepage &gt;</a></p>
</div>
</section>
<section class="post-footer">
<div class="post-share">
<span class="post-info-label">Share</span>
<a aria-label="Twitter" class="twitter" href="https://twitter.com/share?text=Guide to the KNXnet/IP protocol i.e. KNX over IP&amp;url=http://127.0.0.1:8000/2015/12/en/guide-knxnet-over-ip-protocol/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title="Twitter">
<i aria-hidden="true" class="icon icon-twitter"></i><span class="hidden">Twitter</span>
</a>
<a aria-label="Facebook" class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://127.0.0.1:8000/2015/12/en/guide-knxnet-over-ip-protocol/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title="Facebook">
<i aria-hidden="true" class="icon icon-facebook"></i><span class="hidden">Facebook</span>
</a>
<a aria-label="LinkedIn" class="linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http://127.0.0.1:8000/2015/12/en/guide-knxnet-over-ip-protocol/&amp;title=Guide to the KNXnet/IP protocol i.e. KNX over IP" onclick="window.open(this.href, 'linkedin-share', 'width=930,height=720');return false;" title="LinkedIn">
<i aria-hidden="true" class="icon icon-linkedin"></i><span class="hidden">LinkedIn</span>
</a>
<a aria-label="Email" class="email" href="mailto:?subject=Guide to the KNXnet/IP protocol i.e. KNX over IP&amp;body=http://127.0.0.1:8000/2015/12/en/guide-knxnet-over-ip-protocol/" title="Email">
<i aria-hidden="true" class="icon icon-mail"></i><span class="hidden">Email</span>
</a>
<div class="clear"></div>
</div>
<aside class="post-tags">
<a href="http://127.0.0.1:8000/tag/iot/">IOT</a><a href="http://127.0.0.1:8000/tag/home-automation/">Home automation</a><a href="http://127.0.0.1:8000/tag/knx/">KNX</a> </aside>
<div class="clear"></div>
</section>
<aside class="post-nav">
<a class="post-nav-next" href="http://127.0.0.1:8000/2016/02/en/bruteforce-ssh-server/">
<section class="post-nav-teaser">
<i class="icon icon-arrow-left"></i>
<h2 class="post-nav-title">For those seeking to bruteforce your SSH server</h2>
<p class="post-nav-excerpt">Today a quick recipe to avoid unauthorized access to your favorite SSH server. Article...</p>
<p class="post-nav-meta"><time datetime="Sat 06 February 2016">Sat 06 February 2016</time></p>
</section>
</a>
<a class="post-nav-prev" href="http://127.0.0.1:8000/2014/08/en/post-wordpress-cms-era/">
<section class="post-nav-teaser">
<i class="icon icon-arrow-right"></i>
<h2 class="post-nav-title">Do we live in a post Wordpress era?</h2>
<p class="post-nav-excerpt">Of course, as is appropriate, my prediction is far from true, and after a number of...</p>
<p class="post-nav-meta"><time datetime="Thu 21 August 2014">Thu 21 August 2014</time></p>
</section>
</a>
<div class="clear"></div>
</aside>
</div>
</article>
</main>
<div class="nav-footer">
<nav aria-label="Footer" class="nav-wrapper">
<span class="nav-copy"><a href="/">SimoneMessaggi.it © 2025</a>
</span>
<span class="nav-credits">



          Published with <a href="https://github.com/getpelican/pelican" rel="nofollow">Pelican</a> • Theme <a href="https://github.com/arulrajnet/attila" rel="nofollow">Attila</a> •
          <a class="menu-item js-theme" data-dark="Dark theme" data-light="Light theme" data-system="System theme" href="#">
<span class="theme-icon"></span><span class="theme-text">System theme</span>
</a>
</span>
</nav>
</div>
</section>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
<script src="http://127.0.0.1:8000/theme/js/jquery.fitvids.min.js?cb=123" type="text/javascript"></script>
<script src="http://127.0.0.1:8000/theme/js/script.min.js?cb=123" type="text/javascript"></script>
<!-- 	The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in article.html, but it needs to be included down here, after jQuery has already loaded. -->
<script>
  $(document).ready(function () {
    var viewport = $(window);
    var post = $('.post-content');
    // Responsive videos with fitVids
    post.fitVids();

    var mdSelector=".highlight pre";
    var rstSelector=".highlight pre";
    var selector=mdSelector;
    // Format code blocks and add line numbers
    function codestyling() {
      $(selector).each(function(i, e) {
        // Code highlight
        hljs.highlightElement(e);
        // No lines for plain text blocks
        if (!$(this).hasClass('language-text')) {
          var code = $(this);
          // Calculate amount of lines
          var lines = code.html().split(/\n(?!$)/g).length;
          var numbers = [];
          if (lines > 1) {
            lines++;
          }
          for (i = 1; i < lines; i++) {
            numbers += '<span class="line" aria-hidden="true">' + i + '</span>';
          }
          code.parent().append('<div class="lines">' + numbers + '</div>');
        }
      });
    }

    // Format code blocks only
    function codestylingWithoutLineNumbers() {
      $(selector).each(function(i, e) {
        // Code highlight
        hljs.highlightElement(e);
      });
    }

    codestylingWithoutLineNumbers();
    // Reading progress bar on window top
    function readingProgress() {
      var postBottom = post.offset().top + post.height();
      var viewportHeight = viewport.height();
      var progress = 100 - (((postBottom - (viewport.scrollTop() + viewportHeight) + viewportHeight / 3) / (postBottom - viewportHeight + viewportHeight / 3)) * 100);
      $('.progress-bar').css('width', progress + '%');
      (progress > 100) ? $('.progress-container').addClass('complete'): $('.progress-container').removeClass('complete');
    }
    readingProgress();
    // Trigger reading progress
    viewport.on({
      'scroll': function() {
        readingProgress();
      },
      'resize': function() {
        readingProgress();
      },
      'orientationchange': function() {
        readingProgress();
      }
    });

  });
</script>
</body>
</html>