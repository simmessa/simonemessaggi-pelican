<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>SimoneMessaggi.it</title><link href="https://www.simonemessaggi.it/" rel="alternate"/><link href="https://www.simonemessaggi.it/feeds/all.atom.xml" rel="self"/><id>https://www.simonemessaggi.it/</id><updated>2025-09-20T00:00:00+02:00</updated><subtitle>Learn the most from the worst</subtitle><entry><title>Controlling Govee lights from your LAN in Home Assistant</title><link href="https://www.simonemessaggi.it/2025/09/en/control-govee-lights-local-lan-home-assistant/" rel="alternate"/><published>2025-09-20T00:00:00+02:00</published><updated>2025-09-20T00:00:00+02:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2025-09-20:/2025/09/en/control-govee-lights-local-lan-home-assistant/</id><summary type="html">&lt;p&gt;I'm a big fan of Govee lights (&lt;a href="https://amzn.to/3KcybEE"&gt;this&lt;/a&gt; is the latest I've bought, and it's excellent), they're cheap, work well and you can also integrate them with your home automation.&lt;/p&gt;
&lt;p&gt;By the way, I'm using home assistant to control my smart home.&lt;/p&gt;
&lt;h2&gt;API key from China?&lt;/h2&gt;
&lt;p&gt;I used to apply â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;I'm a big fan of Govee lights (&lt;a href="https://amzn.to/3KcybEE"&gt;this&lt;/a&gt; is the latest I've bought, and it's excellent), they're cheap, work well and you can also integrate them with your home automation.&lt;/p&gt;
&lt;p&gt;By the way, I'm using home assistant to control my smart home.&lt;/p&gt;
&lt;h2&gt;API key from China?&lt;/h2&gt;
&lt;p&gt;I used to apply for an API key in order to interact with the Govee ecosystem, Govee are more than happy to hand out API keys to interact with their cloud services but in my experience they sometimes fail or the Home Assistant extensions stop working and in that case, it's a mess.&lt;/p&gt;
&lt;p&gt;Finally someone at Govee understood this and decided to enable a feature on some of their products (the most recent ones, to be fair) that would make life slightly easier for the smart home owners: &lt;strong&gt;local LAN control&lt;/strong&gt; of Govee lights!&lt;/p&gt;
&lt;h2&gt;What extension in Home Assistant?&lt;/h2&gt;
&lt;p&gt;There are many integrations for Govee light control, and I found this pretty confusing at first, so here's a list:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Govee on HACS &lt;a href="https://www.home-assistant.io/integrations/govee_light_local"&gt;link&lt;/a&gt; now discontinued :(&lt;/li&gt;
&lt;li&gt;GoveeLife &lt;a href="https://github.com/disforw/goveelife"&gt;link&lt;/a&gt; which seems more of a &lt;em&gt;work in progress&lt;/em&gt; at the moment&lt;/li&gt;
&lt;li&gt;Govee LAN control &lt;a href="https://www.home-assistant.io/integrations/govee_light_local"&gt;link&lt;/a&gt; / &lt;a href="https://github.com/home-assistant/core/tree/dev/homeassistant/components/govee_light_local"&gt;link&lt;/a&gt; last commit about 1 year ago :(&lt;/li&gt;
&lt;li&gt;Govee MQTT &lt;a href="https://github.com/wez/govee2mqtt"&gt;link&lt;/a&gt; last commit about 5 months ago :S&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It's quite messy, I know, and if you care about integrations that are properly maintained, the situation looks a bit dire I'm afraid.&lt;/p&gt;
&lt;p&gt;After a bit of struggle I decided to go with GoveeMQTT which should be preferable to Govee LAN control (both from the same author). At the same time I stopped using the original Govee integration found on HACS, which had issues from time to time. Smart life is complicated, you know :|
This choice also appeared as the best one since Govee LAN control doesn't even work with recent home assistant versions (the issue is very similar to this one here: &lt;a href="https://github.com/LaggAt/hacs-govee/issues/234"&gt;issue&lt;/a&gt;)&lt;/p&gt;
&lt;h2&gt;Docker install&lt;/h2&gt;
&lt;p&gt;I run everything on Docker in my home lab, so I started from this guide:
&lt;a href="https://github.com/wez/govee2mqtt/blob/main/docs/DOCKER.md"&gt;Docker.md&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;version&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;'3.8'&lt;/span&gt;
&lt;span class="nt"&gt;services&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;pv2mqtt&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;ghcr.io/wez/govee2mqtt:latest&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;govee2mqtt&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;env_file&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;.env&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# Host networking is required&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;network_mode&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;host&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And converted to something that would run on k8s, for my convenience.&lt;/p&gt;
&lt;p&gt;Keep in mind an .env file is required to set a bunch of env variables, older versions also used a &lt;em&gt;config.yaml&lt;/em&gt; file but recent ones don't need it so don't bother.&lt;/p&gt;
&lt;p&gt;Is this able to control from LAN? Well, let me cite the project developer, when he speaks about the project features:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Robust LAN-first design. Not all of Govee's devices support LAN control, but for those that do, you'll have the lowest latency and ability to control them even when your primary internet connection is offline.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;So, that's basically what we're looking for, great news!&lt;/p&gt;
&lt;p&gt;After you have installed and run the docker container and you're sure it's up and running with the config.yaml you just created, you can install the Govee2Mqtt Add-on, here's a guide:
&lt;a href="https://github.com/wez/govee2mqtt/blob/main/docs/ADDON.md"&gt;Link&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This works only if you're on HAOS or HA supervised, since I don't do that, I need to use the alternative way, described here:
&lt;a href="https://github.com/wez/govee2mqtt/blob/main/docs/DOCKER.md"&gt;Link&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Oh, if I had a dime for every time somebody created HA integrations via Add-ons and forget to give other users a way to make'em work... but this is an example of how this can usually be figured out.&lt;/p&gt;
&lt;p&gt;Ok, we need to add those env vars, use a .env file if that suits you, while I put them in the k8s yaml manifest, details are irrelevant here.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# Optional, but strongly recommended&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;GOVEE_EMAIL=user@example.com&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# DON'T PUT THIS!!!&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;GOVEE_PASSWORD=secret&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# DON'T PUT THIS!!!&lt;/span&gt;
&lt;span class="c1"&gt;# Optional, but recommended&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;GOVEE_API_KEY=UUID&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;GOVEE_MQTT_HOST=mqtt&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;GOVEE_MQTT_PORT=1883&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;# Uncomment if your mqtt broker requires authentication&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;#GOVEE_MQTT_USER=user&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;#GOVEE_MQTT_PASSWORD=password&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;# Specify the temperature scale to use, either C for Celsius&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;# or F for Fahrenheit&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;GOVEE_TEMPERATURE_SCALE=C&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;# Always use colorized output&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;RUST_LOG_STYLE=always&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;# If you are asked to set the debug level, uncomment the next line&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;#RUST_LOG=govee=trace&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;# Set the timezone for timestamps in the log&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;TZ=America/Phoenix&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You should absolutely avoid putting your govee credentials in the env, or it might not even work (see &lt;a href="https://github.com/wez/govee2mqtt/issues/141#issuecomment-1957655671"&gt;issue&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Come on this addon has pretty bad issues with docs... well I guess we can't complain given it's free and it works in the end, we're almost there!&lt;/p&gt;
&lt;p&gt;One of the good news is that the MQTT devices will be auto discovered on Home Assistant, provided that you have the MQTT integration installed, that is. If you don't already have it you really should, trust me.&lt;/p&gt;
&lt;p&gt;Ok, it's not really well documented but the docker container will also expose a decent enough HTTP interface, here's an example:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Govee MQTT gui" src="/images/webp/govee_lan_gui.webp"/&gt;&lt;/p&gt;
&lt;p&gt;I especially like the fact that you can check what's being controlled via LAN API vs Govee (somewhat unreliable) cloud.&lt;/p&gt;
&lt;p&gt;That's all, I hope your govee experience will be smooth as mine (or even smoother :) )&lt;/p&gt;</content><category term="Tech"/><category term="Govee"/><category term="Led lights"/><category term="Home Assistant"/><category term="DIY"/><category term="Home automation"/><category term="Tech"/></entry><entry><title>Calibre-web, how to fix being locked out and reset password from shell</title><link href="https://www.simonemessaggi.it/2025/09/en/calibre-web-fix-account-lockout/" rel="alternate"/><published>2025-09-08T00:00:00+02:00</published><updated>2025-09-08T00:00:00+02:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2025-09-08:/2025/09/en/calibre-web-fix-account-lockout/</id><summary type="html">&lt;p&gt;I totally love &lt;a href="https://github.com/janeczku/calibre-web/"&gt;Calibre-web&lt;/a&gt;, over the years it's become my go to repository / archive for everything from webcomic to eBooks that I've download from the web.&lt;/p&gt;
&lt;p&gt;Here's an example screenshot:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Calibre-web gui" src="/images/webp/calibre-web-gui.webp"&gt;&lt;/p&gt;
&lt;p&gt;Pretty cool huh? you can do everything from shelving your books in categories, join books from a collection, edit your â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;I totally love &lt;a href="https://github.com/janeczku/calibre-web/"&gt;Calibre-web&lt;/a&gt;, over the years it's become my go to repository / archive for everything from webcomic to eBooks that I've download from the web.&lt;/p&gt;
&lt;p&gt;Here's an example screenshot:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Calibre-web gui" src="/images/webp/calibre-web-gui.webp"/&gt;&lt;/p&gt;
&lt;p&gt;Pretty cool huh? you can do everything from shelving your books in categories, join books from a collection, edit your review, load metadata from the internet, and the list goes on... here's what listed on the github page:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Modern and responsive Bootstrap 3 HTML5 interface&lt;/li&gt;
&lt;li&gt;Full graphical setup&lt;/li&gt;
&lt;li&gt;Comprehensive user management with fine-grained per-user permissions&lt;/li&gt;
&lt;li&gt;Admin interface&lt;/li&gt;
&lt;li&gt;Multilingual user interface supporting 20+ languages (&lt;a href="https://github.com/janeczku/calibre-web/wiki/Translation-Status"&gt;supported languages&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;OPDS feed for eBook reader apps&lt;/li&gt;
&lt;li&gt;Advanced search and filtering options&lt;/li&gt;
&lt;li&gt;Custom book collection (shelves) creation&lt;/li&gt;
&lt;li&gt;eBook metadata editing and deletion support&lt;/li&gt;
&lt;li&gt;Metadata download from various sources (extensible via plugins)&lt;/li&gt;
&lt;li&gt;eBook conversion through Calibre binaries&lt;/li&gt;
&lt;li&gt;eBook download restriction to logged-in users&lt;/li&gt;
&lt;li&gt;Public user registration support&lt;/li&gt;
&lt;li&gt;Send eBooks to E-Readers with a single click&lt;/li&gt;
&lt;li&gt;Sync Kobo devices with your Calibre library&lt;/li&gt;
&lt;li&gt;In-browser eBook reading support for multiple formats&lt;/li&gt;
&lt;li&gt;Upload new books in various formats, including audio formats&lt;/li&gt;
&lt;li&gt;Calibre Custom Columns support&lt;/li&gt;
&lt;li&gt;Content hiding based on categories and Custom Column content per user&lt;/li&gt;
&lt;li&gt;Self-update capability&lt;/li&gt;
&lt;li&gt;"Magic Link" login for easy access on eReaders&lt;/li&gt;
&lt;li&gt;LDAP, Google/GitHub OAuth, and proxy authentication support&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can even read books directly from the web interface, but I must admit the resulting experience is everything but stellar...&lt;/p&gt;
&lt;p&gt;I run my own via docker container, using the image provided by the excellent &lt;a href="https://docs.linuxserver.io/images/docker-calibre-web"&gt;linux-server&lt;/a&gt;. Setup is pretty straightforward&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;run&lt;span class="w"&gt; &lt;/span&gt;-d&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;--name&lt;span class="o"&gt;=&lt;/span&gt;calibre-web&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;PUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1000&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;PGID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1000&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;TZ&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;Etc/UTC&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;DOCKER_MODS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;linuxserver/mods:universal-calibre&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="c1"&gt;#optional` \&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;OAUTHLIB_RELAX_TOKEN_SCOPE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="c1"&gt;#optional` \&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;-p&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;8083&lt;/span&gt;:8083&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;-v&lt;span class="w"&gt; &lt;/span&gt;/path/to/calibre-web/data:/config&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;-v&lt;span class="w"&gt; &lt;/span&gt;/path/to/calibre/library:/books&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;--restart&lt;span class="w"&gt; &lt;/span&gt;unless-stopped&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;lscr.io/linuxserver/calibre-web:latest
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And I love the fact this is a single container without a separate db or anything like that, it's very selfhosting friendy and easy to use.&lt;/p&gt;
&lt;h2&gt;The lockout problem&lt;/h2&gt;
&lt;p&gt;Let's say you're logging in from mobile and you accidentally click on the "Forgot Password?" button...&lt;/p&gt;
&lt;p&gt;&lt;img alt="Don't click the forgot password button" src="/images/webp/calibre-web-forgot-password.webp"/&gt;&lt;/p&gt;
&lt;p&gt;And well, by design calibreweb will then set a &lt;em&gt;random password&lt;/em&gt; for the user you selected and send it via email to the email address linked to that user.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Except that your calibreweb install might not be allowed to send email in ANY WAY&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I know that's what mine does, as I don't let docker containers send mail in normal conditions.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;WELL, You just LOCKED yourself out of your calibre-web instance my friend :/&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Is there a way we can fix this without re-creating the calibre-web instance from scratch?&lt;/p&gt;
&lt;h2&gt;Solution: reset that password from inside&lt;/h2&gt;
&lt;p&gt;Assuming that you're using docker, enter the calibreweb container:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;exec&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-it&lt;span class="w"&gt; &lt;/span&gt;calibre-web&lt;span class="w"&gt; &lt;/span&gt;bash

&lt;span class="c1"&gt;#now that you're in just run this command:&lt;/span&gt;
root@xxx:/app/calibre-web#&lt;span class="w"&gt; &lt;/span&gt;python3&lt;span class="w"&gt; &lt;/span&gt;cps.py&lt;span class="w"&gt; &lt;/span&gt;-s&lt;span class="w"&gt; &lt;/span&gt;myuser:myvery_STRONG_password789
Password&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;user&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'myuser'&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;changed
root@xxx:/app/calibre-web#
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And that's all! You should now be able to login with your user and the new password.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;p.s.: Thanks to this Reddit thread for the info: &lt;a href="https://www.reddit.com/r/Calibre/comments/v4h16j/calibreweb_for_some_reason_i_can_no_longer_log_in"&gt;https://www.reddit.com/r/Calibre/comments/v4h16j/calibreweb_for_some_reason_i_can_no_longer_log_in_&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;</content><category term="tech"/><category term="eBook"/><category term="Selfhosted"/><category term="Howto"/></entry><entry><title>Artec POA4, get pro tone on your p-bass for 27 euros!</title><link href="https://www.simonemessaggi.it/2025/09/en/artec-poa4-pro-tone-precision-bass-27-euros/" rel="alternate"/><published>2025-09-06T00:00:00+02:00</published><updated>2025-09-06T00:00:00+02:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2025-09-06:/2025/09/en/artec-poa4-pro-tone-precision-bass-27-euros/</id><summary type="html">&lt;p&gt;&lt;em&gt;Are you stuck on a bass that is a blast to play but has a bad sound? Here's a quick test and the resulting experience of upgrading the stock pickups to the Artec POA4 Precision bass pickups for an HB DIY bass kit I built. The difference with the stock â€¦&lt;/em&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;em&gt;Are you stuck on a bass that is a blast to play but has a bad sound? Here's a quick test and the resulting experience of upgrading the stock pickups to the Artec POA4 Precision bass pickups for an HB DIY bass kit I built. The difference with the stock pickups is very detectable, in my opinion, but the newer pickups come with their own issue... Luckily, it's an easy fix! Check out the video for sound samples, my opinions and a before / after comparison of the bass sound.&lt;/em&gt;&lt;/p&gt;
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="" frameborder="0" height="315" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/IXKsPk_UORQ?si=TgulNkEDwJx8jQX_" title="YouTube video player" width="560"&gt;&lt;/iframe&gt;
&lt;h2&gt;Stuck on a mediocre bass sound?&lt;/h2&gt;
&lt;p&gt;Hi there! back in 2009 I bought a precision bass kit from &lt;a href="https://www.thomann.com"&gt;Thomann&lt;/a&gt;, it was made by a then unknown brand called Harley Benton (!), it was way before they started selling complete instruments for very low price points.
Of course, they're a pretty popular brand as of today, but I guess you already know that...&lt;/p&gt;
&lt;h3&gt;DIY bass package&lt;/h3&gt;
&lt;p&gt;I've checked the order confirmation email I got from Thomann and it seems I spent about 89 euros for mine. I checked on their website and I was able to track it down even today, it's now priced at 99 euros, and that's not too bad, less than the inflation rate anyway!&lt;/p&gt;
&lt;p&gt;If you want to try building your next bass, I suggest you give one of these kits a try, as this was such a good learning experience for me. Of course it's a pretty basic instrument, right now my biggest issue with it is that the pickups sound a bit muddy. &lt;/p&gt;
&lt;p&gt;I went to Amazon to look for cheap alternatives to the onboard pickups. That's when I found out these &lt;a href="https://amzn.to/4nhMLZu"&gt;alnico V pickups by Artec&lt;/a&gt;, for the low low price of 27 euros, a deal that looks pretty juicy to me!&lt;/p&gt;
&lt;p&gt;While I was at it, I also decided to replace the pickup covers with these &lt;a href="https://amzn.to/3IbAEOP"&gt;cream colored ones&lt;/a&gt;, it's 6 euros more to shell out but I found it useful to better match the color theme of the bass, which is what makes it so lovely to me.&lt;/p&gt;
&lt;h3&gt;A pleasant (sonic) surprise!&lt;/h3&gt;
&lt;p&gt;After replacing the pickups with the new ones I was pleased, these have more high end, a better low end and less muddines in the mids. I would call &lt;a href="https://amzn.to/4nhMLZu"&gt;these Artec pickups&lt;/a&gt; more modern sounding alternatives to the stock pickups.&lt;/p&gt;
&lt;p&gt;After a bit of playing with the new pickups onboard, I've realized there's a new issue I didn't experience with the old ones... it happens when you accidentally touch the pole pieces when not touching the strings. It's an annoying buzzing noise that drives me crazy!&lt;/p&gt;
&lt;h3&gt;Ground those poles, ladies...&lt;/h3&gt;
&lt;p&gt;After a bit of research online, I finally figured it out, the Artec pickups sound nice but the manufacturer didn't bother to ground the actual pole pieces! I've learned that even Fender original pickups often have the same issue, and that's pretty crazy, if you ask me, especially if you pay premium price for these. Thankfully, that's absolutely not our case ;)&lt;/p&gt;
&lt;p&gt;Luckily, &lt;strong&gt;the fix isn't hard to do,&lt;/strong&gt; you just have to apply some adhesive foil or metal strip to the back of the pickups, touching the exposed poles, then solder a wire from one coil to the other, and finally wire a jumper to the pickup grounds, takes about 20 minutes with a soldering iron.&lt;/p&gt;
&lt;p&gt;That's all for now, I hope you enjoyed my little test of the Artec Alnico V precision bass pickups, if you're the kind of person that subscribes to youtube channels, feel free to do so... or not! &lt;/p&gt;
&lt;p&gt;Here's my &lt;a href="https://www.youtube.com/simmessa"&gt;Youtube channel link.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;See you next time!&lt;/p&gt;</content><category term="Music"/><category term="P-bass"/><category term="Bass pickups"/><category term="Upgrades"/><category term="Howto"/></entry><entry><title>La mia breve storia di tastiere meccaniche - parte 1</title><link href="https://www.simonemessaggi.it/2020/12/my-brief-history-mechanical-keyboards-part1/" rel="alternate"/><published>2020-12-25T00:00:00+01:00</published><updated>2020-12-25T00:00:00+01:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2020-12-25:/2020/12/my-brief-history-mechanical-keyboards-part1/</id><summary type="html">&lt;p&gt;&lt;em&gt;Questo articolo e' il primo di una serie di post originali che parla delle mie esperienze con le tastiere meccaniche, buona lettura!&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Se avete usato un pc negli anni '90 sapete gia' di cosa sto parlando... Nell'epoca in cui mi sono avvicinato per la prima volta al mondo dei personal â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;em&gt;Questo articolo e' il primo di una serie di post originali che parla delle mie esperienze con le tastiere meccaniche, buona lettura!&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Se avete usato un pc negli anni '90 sapete gia' di cosa sto parlando... Nell'epoca in cui mi sono avvicinato per la prima volta al mondo dei personal computer, quando ancora li chiamavamo PC IBM compatibili... le tastiere erano molto meglio di adesso.&lt;/p&gt;
&lt;p&gt;E davvero mi capitava spesso di usarle, su MS-DOS 3.30, erano imprescindibili, non essendo ancora diffuse le interfacce grafiche di Windows.&lt;/p&gt;
&lt;p&gt;Se devo essere sincero a me principalmente servivano ad editare due file: AUTOEXEC.BAT e CONFIG.SYS... ma quando hai un solo modo di interagire con il tuo PC, di certo non dovrebbe essere un'agonia, questo e' un fatto.&lt;/p&gt;
&lt;p&gt;Se vi suono come un vecchio che si lamenta dei bei tempi andati, beh, probabilmente lo sono... fatto sta' che a quei tempi tastiera e mouse (incredibile a dirsi, proprio in quest'ordine!) erano i protagonisti dell'uso quotidiano del PC.&lt;/p&gt;
&lt;p&gt;Lanciare un gioco significava lanciare comandi da un terminale, prima di tutto, e in alcuni casi la tastiera era proprio il centro dell'interazione con la UI del gioco stesso.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Quest for Glory, un ottimo esempio di parser testuale" src="/images/webp/quest_for_glory.png"/&gt;&lt;/p&gt;
&lt;p&gt;La prima tastiera che mi e' capitato di usare con il PC non era male, nel senso che la  qualita' media era piu' che accettabile, purtroppo piu' tardi negli anni la qualita' media di tastiera e mouse declino' rapidamente e capitava spesso di ricevere, con l'acquisto di un PC nuovo, oggetti che sembravano destinati alla spazzatura. Ovviamente vi parlo sempre dei classici computer "assemblati" da qualche venditore di componenti, ma nemmeno i marchi, come Compaq, HP, Acer e Dell erano completamente immuni a questo fenomeno, complice la necessita' di tagliare i costi su un segmento che assicurava guadagni sempre piu' risicati.&lt;/p&gt;
&lt;p&gt;Quindi molti di noi si trovavano a sostituire questi disastrosi accessori con qualcosa di decente fatto da Logitech ed ecco che tutto tornava ad essere normale.&lt;/p&gt;
&lt;p&gt;Arriviamo a ieri, tutti noi o quasi ci siamo trovati tra le mani un portatile, con la sua economicissima tastiera ad isola, switch a farfalla, e se va bene nel giro di qualche anno tasti scoloriti che registrano la pressione l'80% delle volte. Un esempio su tutti quelle tastiere da incubo dei portatili Mac di penultima generazione, dimostrazione del fatto che quando una grande azienda (Apple, in questo caso) vuole risparmiare a danno dei consumatori ci riesce sempre benissimo.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Esempio di Macbook con tasti abbondantemente consumati" src="/images/webp/macbook-worn-keys.webp"/&gt;&lt;/p&gt;
&lt;h2&gt;Tastiere a membrana&lt;/h2&gt;
&lt;p&gt;C'e' un fattore che quasi tutte le tastiere economiche "di una volta" hanno in comune: &lt;strong&gt;non&lt;/strong&gt; sono tastiere meccaniche, a parte rarissime eccezioni (come la &lt;a href="https://en.wikipedia.org/wiki/Model_M_keyboard"&gt;Model M&lt;/a&gt; di IBM). La maggior parte delle tastiere che abbiamo utilizzato con il PC sfruttavano infatti la costruzione basata sull'utilizzo di membrane di gomma.&lt;/p&gt;
&lt;p&gt;Le tastiere basate su questa membrana di gomma sono infatti tra le piu' diffuse, almeno fino ad oggi, anche perche' sono tra le piu' economiche da produrre. Il loro meccanismo e' basato su una singola membrana gommosa larga quanto tutta la tastiera che e' la parte che oppone resistenza alla pressione di ciascun tasto. Come si dice una foto vale mille parole per cui:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Sezione di una tastiera a membrana" src="/images/webp/membrane_keyboard.webp"/&gt;&lt;/p&gt;
&lt;p&gt;Quindi, riassumiamo, il nostro dito preme su un tasto che e' montato sulla sommita' di un cilindretto cavo di gomma, superando una certa forza il cilindro di gomma non oppone piu' una resistenza sufficiente per cui il tasto arriva a fine corsa dove fa contatto con un sensore che ne registra la pressione per comunicarla al controller della tastiera e infine al PC.&lt;/p&gt;
&lt;p&gt;Personalmente non ho nulla contro le tastiere a membrana, anzi, una tastiera a membrana, se ben costruita, puo' essere anche molto piacevole da utilizzare, risultando, a mio avviso, la tipologia piu' "tattile" in assoluto.&lt;/p&gt;
&lt;p&gt;Questo perche' a me piace che ciascun tasto opponga una certa resistenza alla pressione, questa resistenza mi serve ad avere la certezza di averlo premuto prima di poter proseguire con il resto della digitazione.&lt;/p&gt;
&lt;p&gt;Per molti altri, al contrario, questo fatto della resistenza e' &lt;strong&gt;estremamente spiacevole&lt;/strong&gt;, una sorta di impedimento.&lt;/p&gt;
&lt;p&gt;Alla fine, dipende tutto dal tocco di ciascuno, visto che non siamo tutti uguali. C'e' chi ha le dita leggere e preferisce "volare" su una tastiera che registra la pressione al minimo tocco, c'e' chi ha invece le mani pesanti e pigia i tasti come se dovesse martellare talpe sul whack-a-mole...&lt;/p&gt;
&lt;h2&gt;Altre tastiere strane: da laptop e a farfalla&lt;/h2&gt;
&lt;p&gt;Un'altra tipologia di tastiere parecchio diffusa e' quella che troviamo sulla maggioranza dei portatili, con tastiere ad isola. La tipologia costruttiva e' quella degli &lt;em&gt;scissors switch&lt;/em&gt; (a forbice), con tutte le varianti del caso ovvero i "fantasmagorici" switch butterfly (a farfalla) brevettati da Apple.&lt;/p&gt;
&lt;p&gt;Anche qui, se va tutto bene ci sono soluzioni decenti, ma quando i produttori decidono di risparmiare arrivano le (brutte) sorprese, soprattutto in termini di durata nel tempo.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Switch a farfalla e a forbice, anche Apple ammette di aver sbagliato" src="/images/webp/scissors-vs-butterfly-keyboard-switch.webp"/&gt;&lt;em&gt;Switch a forbice o a farfalla, non esattamente il massimo&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Su queste tastiere i tasti hanno una corsa molto limitata, complici gli spazi esigui di un portatile, e la soddisfazione durante la digitazione puo' risentirne parecchio, ma se le tastiere a membrana generalmente facilitano chi ha un tocco pesante quelle a forbice/farfalla sembrano piu' indicate per chi ha dita leggere.&lt;/p&gt;
&lt;h2&gt;Tastiere meccaniche? Si, grazie&lt;/h2&gt;
&lt;p&gt;Purtroppo, spesso non abbiamo la possibilita' di scegliere la tastiera piu' adatta alle nostre esigenze, e ci affidiamo a quello che "passa in convento", a maggior ragione se si tratta di un portatile. Fortunatamente, esiste una tipologia di tastiere completamente diversa da quelle analizzate sino ad ora, ovvero le famose "tastiere meccaniche", ma perche' si chiamano cosi'?&lt;/p&gt;
&lt;p&gt;Le tastiere meccaniche prendono il nome da un particolare tipo di switch utilizzato per ciascun tasto, che e' appunto di tipo "meccanico".&lt;/p&gt;
&lt;p&gt;Il funzionamento di questi switch e' infatti diverso da quello degli switch a membrana o a forbice, vediamone alcuni da vicino:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Le tre principali tipologie di switch meccanico riassunti in una animazione" src="/images/cherry_switch_animation.gif"/&gt;&lt;/p&gt;
&lt;p&gt;Come potete vedere, questi sono i tre fondamentali switch meccanici visti nel dettaglio del loro funzionamento, e sono contraddistinti da 3 colori diversi, in base al funzionamento interno.&lt;/p&gt;
&lt;p&gt;Il colore di riferimento, anche se con eventuali variazioni, e' dovuto al fatto che questi sono i colori del principale produttore di switch meccanici, ovvero &lt;a href="https://www.cherrymx.de/en"&gt;Cherry Mx&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Vediamo allora le tre principali tipologie di switch per tastiera meccanica&lt;/p&gt;
&lt;h3&gt;Gli switch lineari "rossi"&lt;/h3&gt;
&lt;p&gt;Questi switch sono di tipo lineare, ovvero, quando una forza viene impressa sullo switch, si comportano linearmente. In breve, significa che la pressione di attuazione, ovvero la pressione minima con cui il tasto registra un segnale, e' piuttosto bassa, e questo rende gli switch rossi particolarmente indicati per due tipologie di utilizzatori:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;i gamer:&lt;/strong&gt; che necessitano dei tempi di risposta piu' rapidi in assoluto&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;i typer "leggeri":&lt;/strong&gt; dato che questi switch richiedono di una pressione minima per essere attivati&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Gli switch tattili "marroni"&lt;/h3&gt;
&lt;p&gt;Questi switch sono di tipo tattile, la differenza tra brown e red puo' sembrare minima dall'animazione che avete visto poco sopra, ma in realta' il feeling e' molto diverso. Uno switch tattile, infatti, non ha un comportamento lineare, ma registra la pressione solo quando questa supera una certa soglia.&lt;/p&gt;
&lt;p&gt;I brown sono forse gli switch che assomigliano di piu' a quelli delle tastiere a membrana, oppongono una resistenza sensibile, anche se mediamente inferiore, e danno una feeling ideale per la digitazione, quando questa avviene con un tocco medio / pesante.&lt;/p&gt;
&lt;p&gt;Per questa ragione sono quelli piu' indicati per chi si trova, per lavoro o per altra ragione, a dover scrivere molto alla tastiera del suo computer.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Se siete programmatori o per un normale lavoro da ufficio, gli switch brown sono tra quelli piu' indicati per voi&lt;/em&gt;&lt;/p&gt;
&lt;h3&gt;Gli switch blu, ovvero i "rumorosi"&lt;/h3&gt;
&lt;p&gt;I blue sono senza dubbio gli switch meccanici piu' riconoscibili del trio, questo perche' hanno una caratteristica unica: se ci fate caso c'e' una parte di switch separata dal corpo blu a contatto con il tasto.&lt;/p&gt;
&lt;p&gt;Questa parte dello switch durante la pressione va a fare contatto con il fondo producendo un tipico suono "click" che e' la caratteristica distintiva dei blue.&lt;/p&gt;
&lt;p&gt;Gli switch di questo tipo sono gli unici che producono questo suono quando il tasto viene effettivamente premuto, restituendo all'utente un ulteriore feedback uditivo dell'avvenuta pressione.&lt;/p&gt;
&lt;p&gt;Sembra una piccola differenza, ma vi assicuro che il feeling e' unico e molto diverso da quello di tastiere dotate di red o brown.&lt;/p&gt;
&lt;p&gt;I blue sono gli switch che molti da sempre collegano alle tastiere meccaniche, sapete perche'?&lt;/p&gt;
&lt;p&gt;Perche' la tastiera meccanica piu' famosa di tutti i tempi, ovvero il modello M fabbricato da IBM a partire dal 1985 e' dotato proprio di cherry mx blue.&lt;/p&gt;
&lt;p&gt;&lt;img alt="l'originale con gli switch blue, la tastiera meccanica per antonomasia, il Model M di IBM" src="/images/webp/model_m.webp"/&gt;&lt;/p&gt;
&lt;p&gt;La caratteristica principale degli switch blu, quindi, e' - passatemi il termine - la &lt;em&gt;cliccosita'&lt;/em&gt; che producono quando li premiamo. Dal punto di vista del feeling, gli switch blu sono ideali per chi ama un ulteriore feedback e vuole essere certo di aver premuto il tasto, perfetto per chi possiede un tocco pesante e non frequenta ambienti troppo affolati.&lt;/p&gt;
&lt;p&gt;La principale controindicazione dei blu, a mio avviso, e' la rumorosita' durante l'utilizzo, questi switch sono assolutamente da sconsigliare per chi si trova a lavorare in un ufficio con dei colleghi, ad esempio in un open space, e di questi giorni, chi non lavora in un open space?&lt;/p&gt;
&lt;p&gt;Certo, sempre per rimanere (pandemicamente) attuali, le tastiere con cherry blue non hanno controindicazioni per chi lavora da casa e ha il lusso di non avere vicino altre persone che potrebbero esserne disturbate.&lt;/p&gt;
&lt;h2&gt;Switch esotici e altre tipologie&lt;/h2&gt;
&lt;p&gt;Come avrete gia' notato, il bello degli switch meccanici e' che ci sono grandi possibilita' di personalizzazione della tastiera, non male per un accessorio che da sempre consideravamo "standard".&lt;/p&gt;
&lt;p&gt;In particolare, non ci fermiamo ai soli tre tipi di switch visti qui sopra, esistono infatti moltissimi produttori e, data la recente domanda del mercato, centinaia se non migliaia di variazioni dei tre switch classici red, brown &amp;amp; blue.&lt;/p&gt;
&lt;p&gt;Vederli tutti e' semplicemente impossibile per cui cercheremo di parlare di quelli piu' interessanti e/o originali.&lt;/p&gt;
&lt;h3&gt;Silenzio, entra lo switch silenziato&lt;/h3&gt;
&lt;p&gt;Il suono delle tastiere meccaniche senza dubbio richiede un capitolo speciale di questa serie di articoli, perche' per molti, incluso chi scrive, il sound di una tastiera meccanica e' una componente fondamentale nella scelta.&lt;/p&gt;
&lt;p&gt;In generale, rispetto alle normali tastiere a membrana considerate come la tipologia di tastiera piu' diffusa e comune in un ufficio, le tastiere meccaniche sono mediamente piu' rumorose.&lt;/p&gt;
&lt;p&gt;Questa loro caratteristica, che deriva direttamente dagli switch utilizzati, ha portato i produttori ad ideare una prima variante, sono gli switch cosiddetti "silent".&lt;/p&gt;
&lt;p&gt;E' stata proprio la Cherry MX &lt;a href="https://www.anandtech.com/show/9498/corsair-and-cherry-introduce-new-quieter-mechanical-keyboard-switches"&gt;nel 2015&lt;/a&gt; la prima ad introdurre questa nuova tipologia di switch silenzati con i suoi silent MX, offerti nelle colorazioni standard, ovvero red, brown e black (una variante lineare dotata di una molla che richiede una forza di attuazione superiore rispetto ai red). Per ovvie ragioni non esiste una versione silent dei blue.&lt;/p&gt;
&lt;p&gt;Le caratteristiche sono fondamentalmente le stesse dei corrispettivi "non silent", ma internamente ci sono alcuni accorgimenti utili a ridurre in modo significativo il rumore. Non e' questa la sede per parlare delle tecniche costruttive in dettaglio ma esistono numerosi articoli dedicati all'argomento (&lt;a href="https://switchandclick.com/2020/06/20/are-silent-switches-worth-it/#:~:text=Silent%20Switch%20Construction&amp;amp;text=The%20rubber%20limits%20the%20amount,more%20rubbery%20and%20mushy%20response."&gt;un esempio&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Attenzione pero', il rumore di una tastiera non dipende dal solo switch, andrebbero considerati anche altri componenti tra cui, fondamentale, lo chassis che funge da vera e propria cassa di risonanza.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Gli O-ring sono la soluzione piu' economica al problema di rumorosita' degli switch" src="/images/webp/o_ring_dampeners.webp"/&gt;&lt;/p&gt;
&lt;p&gt;Gli switch silent solitamente sono piu' cari delle versioni "standard", esistono pero' alcuni accorgimenti, tra cui principalmente l'utilizzo di &lt;em&gt;o-ring&lt;/em&gt;, per silenziare gli switch classici che con pochi euro permettono di raggiungere risultati interessanti.&lt;/p&gt;
&lt;h3&gt;Switch low profile&lt;/h3&gt;
&lt;p&gt;Altra variante molto diffusa dei singoli switch e' quella dei &lt;em&gt;low profile&lt;/em&gt; che sono sostanzialmente delle versioni ridotte degli switch standard.&lt;/p&gt;
&lt;p&gt;I low profile nascono come variante per due ragioni storiche:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Permettere un tocco piu' veloce, avendo una corsa minore dello switch&lt;/li&gt;
&lt;li&gt;Rendere possibile la costruzione di tastiere meno alte, quindi piu' ergonomiche e trasportabili&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Secondo me la reale innovazione introdotta dagli switch low profile e' quella di avvicinare anche i portatili/laptop ad avere tastiere meccaniche.&lt;/p&gt;
&lt;p&gt;Probabilmente un giorno ci arriveremo, ma per il momento gli unici laptop in commercio dotati di tastiera meccanica sono tutti modelli dedicati al mondo del gaming... &lt;em&gt;E a noi computer scientist? chi ci pensa?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="MSI Titan ovvero il primo laptop al mondo dotato di tastiera meccanica - source: TheVerge" src="/images/webp/msi_titan_laptop_mechanical.webp"/&gt;&lt;/p&gt;
&lt;p&gt;Credo comunque che presto arriveranno delle novita' in questo senso e, se succedera', lo dovremo alle innovazioni degli switch meccanici low profile.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;~ Continua ~&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Spero vi sia piaciuto l'articolo! ci ritroviamo presto con la seconda parte&lt;/em&gt;&lt;/p&gt;</content><category term="Tech"/><category term="Mechanical Keyboards"/><category term="Cherry MX"/></entry><entry><title>My brief history of mechanical keyboards - part 1</title><link href="https://www.simonemessaggi.it/2020/12/en/my-brief-history-mechanical-keyboards-part1/" rel="alternate"/><published>2020-12-25T00:00:00+01:00</published><updated>2020-12-25T00:00:00+01:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2020-12-25:/2020/12/en/my-brief-history-mechanical-keyboards-part1/</id><summary type="html">&lt;p&gt;&lt;em&gt;This article is the first of a series of original posts that talks about my experiences with mechanical keyboards, good reading!&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;If you used a pc in the '90s you already know what I'm talking about... At the time when I first approached the world of personal computers, when we â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;em&gt;This article is the first of a series of original posts that talks about my experiences with mechanical keyboards, good reading!&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;If you used a pc in the '90s you already know what I'm talking about... At the time when I first approached the world of personal computers, when we still called them compatible IBM PCs... keyboards were much better than now.&lt;/p&gt;
&lt;p&gt;And I really often used them, on MS-DOS 3.30, they were impossible to avoid, due to the graphic interfaces of Windows not being so widespread at the time.&lt;/p&gt;
&lt;p&gt;If I have to be honest, I mostly needed to edit two files: AUTOEXEC.BAT and CONFIG.SYS... but when you just have one way to interact with your PC, it certainly shouldn't be agony, this is a fact.&lt;/p&gt;
&lt;p&gt;If I sound like an old man who complains about the good times gone, well, that's probably what I am... because in those keyboard and mouse times (that's a bit incredible, exactly in this order!) they were the protagonists of everyday use of the PC.&lt;/p&gt;
&lt;p&gt;Running a game meant running the commands from a terminal, first of all, and in some cases the keyboard was the center of the interaction with the UI of the game itself.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Quest for Glory, a great example of text parser" src="/images/webp/quest_for_glory.webp"/&gt;&lt;/p&gt;
&lt;p&gt;The first keyboard that I got my hands on a PC was not bad, in the sense that the average quality was more than acceptable, unfortunately later in the years the average quality of keyboard and mouse declined quickly. So I often received, with the purchase of a new PC, objects that seemed destined to the garbage bin. Of course, I'm still talking about those classic computers "assembled" by some component vendors, but not even the brands, such as Compaq, HP, Acer and Dell were completely immune to this phenomenon, 'cause they also needed to cut costs on a segment that ensured increasingly reduced earnings.&lt;/p&gt;
&lt;p&gt;So many of us were replacing these disastrous accessories (keyboard and mouse) with something decent done by Logitech, and that's all you needed to go back to standard quality.&lt;/p&gt;
&lt;p&gt;Let's talk a bit about the recent past, almost all of us went from a desktop PC to a laptop, keyboard wise, this was for the worst, laptops generally have some of the cheapest keyboards out there, with island layouts, butterfly switches and the cheap keys tend to fade within a few years and respond to a keypress about 80% of the time. Do you want a great example of this? Just look at those previous-gen Mac nightmare keyboards. If we needed a true demonstration of a large company (Apple, in this case) cutting corners while sacrificing their esteemed consumer experience, we don't need to look further.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Example of Macbook with abundantly consumed keys" src="/images/webp/macbook-worn-keys.webp"/&gt;&lt;/p&gt;
&lt;h2&gt;Membrane keyboard&lt;/h2&gt;
&lt;p&gt;There's a factor that almost all of the "old times" economic keyboards have in common: Most of them are &lt;strong&gt;NOT&lt;/strong&gt; mechanical keyboards, apart from rare exceptions (such as the &lt;a href="https://en.wikipedia.org/wiki/Model_M_keyboard"&gt;Model M&lt;/a&gt; by IBM, but that's the legendary material). Most of the keyboards we used with our PCs employed way cheaper rubber membranes.&lt;/p&gt;
&lt;p&gt;The keyboards based on this rubber membrane were among the most widespread, at least until today, especially because they are among the cheapest to produce. Their mechanism is based on a single rubber membrane as wide as all the keyboard that is the part that opposes pressure resistance for each key. As they say a photo is worth a thousand words so let's look at one and I'm pretty sure you'll understand what I'm talking about:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Section of a membrane keyboard" src="/images/webp/membrane_keyboard.webp"/&gt;&lt;/p&gt;
&lt;p&gt;So, let's summarize a bit, our finger presses on a key that is mounted on the top of a small rubber cylinder, overcoming a certain force (the resistance of rubber) we apply pressure directly to the sensor that records a keystroke which, in turn, communicates an electrical signal the keyboard controller and finally to the PC.&lt;/p&gt;
&lt;p&gt;Generally speaking I have nothing against membrane keyboards, indeed, a membrane keyboard, if well designed and executed, can be very pleasant to use, producing, in my opinion, the most 'tactile' feeling when typing.&lt;/p&gt;
&lt;p&gt;That's because I personally like each key to oppose a certain pressure resistance wehn typing. I really need this tactile feedback to be sure I pressed a key before I can continue with the rest of my typing.&lt;/p&gt;
&lt;p&gt;For many others, this kind of resistance is &lt;strong&gt;extremely unpleasant&lt;/strong&gt;, a kind of impediment, so to say. Keep this in mind as your mileage may vary a lot.&lt;/p&gt;
&lt;p&gt;In the end, it all depends on the touch sensibility of each individual, since we are not all equal in this regard. There are those who have light fingers and prefer to "fly" on a keyboard that records the pressure at the slightest touch. Then there are those (more like me) who have heavy hands and hammer on the keys as if they should whack moles at the arcade...&lt;/p&gt;
&lt;h2&gt;More keyboard madness: Portable and butterfly keyboards&lt;/h2&gt;
&lt;p&gt;Another kind of keyboards is the one we find on the majority of laptops, with island keyboards. This type of construction usually employs a &lt;em&gt;scissors switch&lt;/em&gt; (as in a miniature scissors), with all the variants of the case or the "phantasmagoric" switch butterfly that were (uselessly, IMO) patented by Apple.&lt;/p&gt;
&lt;p&gt;And again, if well executed there are some pretty decent laptop kkeyboards out there. It's only when producers decide to really cut some spending that bad surprises come in spades. That's especially true when we think in terms of duration over time.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Switch butterfly and scissors, even Apple admits to having made a mistake" src="/images/webp/scissors-vs-butterfly-keyboard-switch.webp"/&gt;&lt;em&gt;Switch with scissors or butterfly, not exactly the best typing experience or duration&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;On these keyboards the keys have a very limited run, due to the very tiny space tolerance of a laptop. This is where the typing satisfaction can really suffer plenty. Anyway, if the membrane keyboards are generally more suited to heavy handed typers, those with scissors/butterfly switched seem more targeted at those with light fingers.&lt;/p&gt;
&lt;h2&gt;Mechanical keyboards? Yes, thank you&lt;/h2&gt;
&lt;p&gt;Unfortunately, we often don't have the chance to choose the keyboard that best suits our needs, and we rely on what's available at the moment, most of which is a rather s**tty laptop keyboard. Luckily, there is a type of keyboard completely different from those analyzed until now, that's what we call a "mechanical keyboards", but why are these different, and what's so special?&lt;/p&gt;
&lt;p&gt;Mechanical keyboards take the name from a particular type of switch used for each key, which is precisely of the "mechanical" type.&lt;/p&gt;
&lt;p&gt;The operation of these switches is in fact different from that of diaphragm switches or scissors, let's look at them more closely:&lt;/p&gt;
&lt;p&gt;&lt;img alt="The three main types of mechanical switches summarized in an animation" src="/images/cherry_switch_animation.gif"/&gt;&lt;/p&gt;
&lt;p&gt;As you can see, these are the three most fundamental mechanical switches seen in detail during their operation, by convention the different switches are characterized by 3 different colors, according to the internal operation.&lt;/p&gt;
&lt;p&gt;The reference color, although with any changes, is due to the fact that these are the colors of the most well known manufacturer of mechanical switches, i.e. &lt;a href="https://www.cherrymx.de/en"&gt;Cherry Mx&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Let's see then the three main types of switches for mechanical keyboard&lt;/p&gt;
&lt;h3&gt;The "red" switches or linear switches&lt;/h3&gt;
&lt;p&gt;These switches are linear, that is, when a force is applied to the key and switch below, they behave linearly. In short, it means that the actuation pressure, or the minimum pressure with which the key registers as a key press, is rather low, and this makes the red switches particularly suitable for two types of users:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;gamers:&lt;/strong&gt; needing the absolute faster response times&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;"light" typers:&lt;/strong&gt; as these switches require minimum pressure to be activated&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;The "brown" or tactile switches&lt;/h3&gt;
&lt;p&gt;These switches are the so called "tactile" ones, the difference between brown and red can seem minimal from the animation you saw just above, but in good ole reality the feeling is very different. A tactile switch when pushed, does not have a linear behavior, but records the pressure only when this exceeds a certain threshold.&lt;/p&gt;
&lt;p&gt;Browns are perhaps the switches that look more like those of the membrane keyboards, in the fact they oppose a sensible resistance, even if it's usually lower than their rubber counterparts. These give the ideal feeling for typing in my humble opinion, and it's well suited to a medium/heavy touch.&lt;/p&gt;
&lt;p&gt;For this reason, they are the most suitable ones for those who need, for work or other reasons, to type a lot on their computers.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;If you're a programmer or the average Joe office worker, brown are probably among the most suitable switches for you&lt;/em&gt;&lt;/p&gt;
&lt;h3&gt;"Blue" switches aka "the clicky ones"&lt;/h3&gt;
&lt;p&gt;Blues are undoubtedly the most recognizable mechanical switches of the trio, because they have a unique feature: If you check them close enough, there's a separate switch from the blue body in contact with the key.&lt;/p&gt;
&lt;p&gt;This part of the switch during the pressure goes into contact with the bottom producing a typical "click" sound which is the distinctive feature of blue switches.&lt;/p&gt;
&lt;p&gt;TThis kind of switches are the only ones that produce additional sound when the key is actually pressed, returning to the user an additional auditory feedback when the key press occurs.&lt;/p&gt;
&lt;p&gt;It might seem such a small difference, but I assure you that the feeling is unique and very different from that of keyboards equipped with reds or browns.&lt;/p&gt;
&lt;p&gt;These blue switches are the ones that are more frequently lined to mechanical keyboards, do you wanna know why?&lt;/p&gt;
&lt;p&gt;Because the most famous mechanical keyboard of all time, i.e. the M model manufactured by IBM since 1985 is equipped with cherry mx blue.&lt;/p&gt;
&lt;p&gt;&lt;img alt="the original with blue switches, the mechanical keyboard for antonomasia, the IBM Model M" src="/images/webp/model_m.webp"/&gt;&lt;/p&gt;
&lt;p&gt;The main feature of blue switches, therefore, is - pass me the term - the &lt;em&gt;clickety noise&lt;/em&gt; they produce when we press them. From the point of view of the feeling, the blue switches are ideal for those who love further feedback and want to be really sure to have pressed the button. It's just perfect for those who have a heavy touch and do not share office space with others.&lt;/p&gt;
&lt;p&gt;The main issue with blues, if you ask me, is the amount of noise they generate during use, these switches are absolutely not recommended for those who are working in an office with colleagues, for example in an open space, and these days, who has the luxury of not working in an open space (bless remote workers devoid of spouse/husband, I suppose)?&lt;/p&gt;
&lt;p&gt;Of course, in order to stay current, keyboards with cherry blue have no contraindications for those who work from home and have the luxury of not having other people close who might be disturbed.&lt;/p&gt;
&lt;h2&gt;The exotic kind and other types of switches&lt;/h2&gt;
&lt;p&gt;As you have already noticed, the beauty of mechanical switches is that there are great possibilities for keyboard customization, not bad for an accessory that we have always considered pretty much "standard".&lt;/p&gt;
&lt;p&gt;In particular, we cannot really stop at the only three types of switches seen above. That's because there are many other producers and, given the recent market demand, hundreds if not thousands of variations of the three classic red, brown &amp;amp; blue switches.&lt;/p&gt;
&lt;p&gt;Seeing them all is simply impossible in this context so we will try to talk about the most interesting and/or original ones.&lt;/p&gt;
&lt;h2&gt;Shush, behold the silent switch&lt;/h2&gt;
&lt;p&gt;The sound of mechanical keyboards undoubtedly requires a special chapter of this series of articles, because for many, including this writer, the sound of a mechanical keyboard is a fundamental component in its choice.&lt;/p&gt;
&lt;p&gt;In general, compared to the normal membrane keyboards considered as the most widespread and common keyboard in an office, the mechanical keyboards are on average the most noisy.&lt;/p&gt;
&lt;p&gt;This (somehow undesired?) feature, which comes directly from the switches employed, has led manufacturers to design a switch variant, or the so-called "silent" switches.&lt;/p&gt;
&lt;p&gt;It was precisely Cherry MX &lt;a href="https://www.anandtech.com/show/9498/corsair-and-cherry-introduce-new-quieter-mechanical-keyboard-switches"&gt;in 2015&lt;/a&gt; the first to introduce this new type of switch with its silent MX, offered in standard colors, i.e. red, brown and black (a linear variant with a higher spring requiring higher actuation force than the one found in red switches). There is no silent blue version for obvious reasons.&lt;/p&gt;
&lt;p&gt;The characteristics are basically the same as the "non-silent" kind, but internally there are some useful insights to significantly reduce noise. This is not the place to talk about detailes switch construction techniques but there are numerous articles dedicated to this topic, here's [an example](https://switchandclick.com/2020/06/20/are-silent-switches-worth-it/#:~:text=Silent%20Switch%20Construction&amp;amp;text=The%20rubber%20limits%20the%20amount,more%20&lt;/p&gt;
&lt;p&gt;However, the noise produced by a keyboard does not depend on the switch alone, as surely the other components pay a huge role in sound production. For one, the keyboard chassis acts as a real resonance box and should also be considered primary in the sound generated by a keyboard.&lt;/p&gt;
&lt;p&gt;&lt;img alt="O-rings are the cheapest solution to the noise problem of switches" src="/images/webp/o_ring_dampeners.webp"/&gt;&lt;/p&gt;
&lt;p&gt;The silent switches are usually more expensive than the "standard" versions, but there are other kind of adjustments, including mainly the use of &lt;em&gt;o-rings&lt;/em&gt;, to silence classic switches. These usually are cheap enough that a few euros invested allow us to achieve interesting results.&lt;/p&gt;
&lt;h3&gt;Low profile switches&lt;/h3&gt;
&lt;p&gt;Another very common variant of the individual switches is that of the &lt;em&gt;low profile&lt;/em&gt; which are substantially shortened versions of the standard switches.&lt;/p&gt;
&lt;p&gt;Low profiles arise as a variant for two historical reasons:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;They allow a faster touch, having a lesser stroke than the traditional switches they're derived from&lt;/li&gt;
&lt;li&gt;They make possible to build more "compressed" keyboards, that might be more ergonomic and/or transportable&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In my opinion, the real innovation introduced by low-profile switches is maybe their role in bringing even more mechanical keyboards to laptops.&lt;/p&gt;
&lt;p&gt;Probably one day we will get there, but for the time being the only commercial laptops with mechanical keyboard are  models dedicated to the world of gaming... &lt;em&gt;What about us computer scientist? Where's the love for programmers?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="MSI Titan or the world's first laptop with mechanical keyboard - source: TheVerge" src="/images/webp/msi_titan_laptop_mechanical.webp"/&gt;&lt;/p&gt;
&lt;p&gt;I still think there'll be huge news in regard to mechanical keyboards, and if that happens, we'll probably have to thank  the innovations of low-profile mechanical switches.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;~ This article will be continued ~&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;I hope you enjoyed this post! Hope to see you soon with the second part&lt;/em&gt;&lt;/p&gt;</content><category term="Tech"/><category term="Mechanical Keyboards"/><category term="Cherry MX"/></entry><entry><title>Container security: migliorare la sicurezza con i distroless container</title><link href="https://www.simonemessaggi.it/2019/09/distroless-containers-improve-security/" rel="alternate"/><published>2019-09-01T00:00:00+02:00</published><updated>2019-09-01T00:00:00+02:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2019-09-01:/2019/09/distroless-containers-improve-security/</id><summary type="html">&lt;p&gt;&lt;em&gt;Segue un breve riassunto di un talk che ho composto durante la mia collaborazione con Mia Platform&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Bio:&lt;/strong&gt;
La mia storia d'amore con i computer Ã¨ iniziata ad 8 anni, grazie al Commodore64, poi ho fatto di questa passione la mia professione.&lt;/p&gt;
&lt;p&gt;Ho lavorato su reti, sviluppo web (back &amp;amp; front â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;em&gt;Segue un breve riassunto di un talk che ho composto durante la mia collaborazione con Mia Platform&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Bio:&lt;/strong&gt;
La mia storia d'amore con i computer Ã¨ iniziata ad 8 anni, grazie al Commodore64, poi ho fatto di questa passione la mia professione.&lt;/p&gt;
&lt;p&gt;Ho lavorato su reti, sviluppo web (back &amp;amp; front), come sysadm Linux, technical project manager e ho creato e guidato team tecnologici nelle aziende di cui ho fatto parte.&lt;/p&gt;
&lt;p&gt;Negli ultimi anni ho iniziato ad adottare la filosofia DevOps con grande soddisfazione.&lt;/p&gt;
&lt;p&gt;Adoro Docker, Kubernetes ed Elasticsearch.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Job Title:&lt;/strong&gt;
Devops e Operation Master presso Mia-Platform, &lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;&lt;strong&gt;Titolo:&lt;/strong&gt;
Rafforzare la security con i distroless container&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Breve Descrizione:&lt;/strong&gt;
Viviamo nell'era della container revolution e questo trend giÃ  diffuso esploderÃ  ulteriormente nei prossimi anni.&lt;/p&gt;
&lt;p&gt;I container continuano ad essere uno dei trend piÃ¹ caldi del momento, ma se con i container progettiamo, sviluppiamo e deployamo applicazioni, perchÃ© spesso non dedichiamo piÃ¹ di 5 minuti alla sicurezza dei container?&lt;/p&gt;
&lt;p&gt;Parliamo di distroless container, una tecnica promettente ideata da Google con cui Ã¨ possibile limitare al massimo la superficie di attacco delle nostre applicazioni containerizzate. Vedremo i principali metodi per realizzare distroless container e impareremo ad:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Analizzare container con tool per individuarne le vulnerabilitÃ  di sicurezza&lt;/li&gt;
&lt;li&gt;Ottenere immagini snelle attraverso le build multi-stage &lt;/li&gt;
&lt;li&gt;Fare il debugging di container distroless in modo efficace&lt;/li&gt;
&lt;/ul&gt;
&lt;hr/&gt;
&lt;p&gt;Siamo nel 2019, e viviamo ormai nell'era della &lt;em&gt;Container revolution&lt;/em&gt;, nel giro di pochi anni siamo passati dallo shared hosting alle VPS fino al cloud e ai container dei giorni nostri.&lt;/p&gt;
&lt;p&gt;L'utilizzo dei container in produzione e' ormai un fenomeno "normale" e consolidato, secondo &lt;a href="https://www.gartner.com/smarterwithgartner/6-best-practices-for-creating-a-container-platform-strategy/"&gt;Gartner&lt;/a&gt; entro il 2022 il 75% delle aziende utilizzera' in produzione applicazioni containerizzate (la percentuale nel 2019 e' di circa il 30% e in crescita).&lt;/p&gt;
&lt;p&gt;Come sempre succede, quando emergono nuove tecnologie, la prima preoccupazione e' fare in modo che "funzionino" e alcuni aspetti vengono tralasciati, per questa ragione docker e i container si sono fatti una reputazione tutt'altro che buona per quanto riguarda gli aspetti di &lt;strong&gt;cybersecurity.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Molte realta', per la fretta di inseguire l'ultimo trend tecnologico/informatico (oggi sono i container, domani...chissa'!), hanno tralasciato in parte o del tutto la parte di sicurezza, e sottovalutato il fatto che, alcune caratteristiche di isolamento dei processi a cui ci avevano abituato le VM nei container nemmeno esistono!&lt;/p&gt;
&lt;p&gt;Volendo vedere, il ridotto grado di isolamento offerto dai container non deriva da un disinteresse verso il tema security ma, piu' semplicemente, e' una feature della containerizzazione che serve a guadagnare in termini di flessibilita'.&lt;/p&gt;
&lt;h2&gt;Distroless container&lt;/h2&gt;
&lt;p&gt;Proprio per approfondire il tema security, oggi vi voglio proporre una tecnica per la messa in sicurezza di container che utilizza l'approccio &lt;em&gt;distroless&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Se con le VM il focus era su istanze di macchine virtuali isolate e ciascuna "dedicata" ad una certa applicazione, con i container arriviamo ad avere quasi un'identita' tra l'applicazione stessa e il container in cui gira. Arriviamo a dire che &lt;strong&gt;il container, in fondo e' l'applicazione.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Chiunque di voi si sia preso la briga di scrivere un &lt;em&gt;Dockerfile&lt;/em&gt; o due sa pero' bene che non e' cosi' semplice. &lt;/p&gt;
&lt;p&gt;Perche' oltre all'applicazione nel container e' presente una base costituita dal sistema operativo sottostante, leggero quanto volete, ma comunque sempre presente.&lt;/p&gt;
&lt;p&gt;Per i miei primi Dockerfile, ad esempio, mi sono sempre affidato ad una base &lt;strong&gt;debian&lt;/strong&gt; (debian:stretch) perche' avevo buona confidenza con questo OS e sapevo quanti e quali pacchetti potevo installare, inoltre avevo a disposizione software testato e stabile, anche se a discapito del numero di versione. Immagini basate su debian pesavano facilmente centinaia di MB ma erano piu' facili da usare e da debuggare.&lt;/p&gt;
&lt;p&gt;Poi nel tempo, sono passato alla &lt;a href="https://hub.docker.com/_/debian"&gt;&lt;strong&gt;stretch-slim&lt;/strong&gt;&lt;/a&gt;, una distribuzione debian minimale che pero' garantiva l'80% degli strumenti di debian, in un formato piu' compatto ed efficiente.&lt;/p&gt;
&lt;p&gt;Con gli anni, sono venuto a conoscenza di &lt;a href="https://hub.docker.com/_/alpine"&gt;&lt;strong&gt;Alpine&lt;/strong&gt;&lt;/a&gt;, una distro Linux estremamente minimale e dal peso irrisorio, perfetta per mantenere leggeri e performanti i container. Alpine e' davvero la versione di Linux piu' ristretta all'osso che mi sia capitata di vedere, si tratta in pratica di un &lt;a href="https://hub.docker.com/_/busybox"&gt;&lt;strong&gt;busybox&lt;/strong&gt;&lt;/a&gt; (usato nel mondo embedded) con l'aggiunta del package manager minimale apk. Le immagini basate su Alpine tendono a pesare anche meno di 100 MB il che comporta un bel guadagno in termini risparmio di banda e tempo.&lt;/p&gt;
&lt;p&gt;I distroless, se volete, sono un ulteriore passo avanti verso container efficienti dove il sistema operativo scompare e sono presenti solo le librerie minime necessarie ad eseguire la nostra applicazione.&lt;/p&gt;
&lt;p&gt;Questa tecnica non e' nuova, ma esiste da qualche anno ed e' stata introdotta da Google, che si trova da tempo nella situazione di avere molte applicazioni containerizzate deployate in produzione.&lt;/p&gt;
&lt;p&gt;In poche parole, un container distroless fa a meno del sistema operativo e contiene solo il kernel linux e le librerie necessarie all'applicazione che vogliamo deployare...&lt;/p&gt;
&lt;h2&gt;Slide&lt;/h2&gt;
&lt;p&gt;Seguono le slide del talk, nella versione per il &lt;a href="https://www.meetup.com/kubernetes-milano/"&gt;meetup di Kubernetes Milano&lt;/a&gt;:&lt;/p&gt;
&lt;iframe allowfullscreen="true" frameborder="0" height="569" mozallowfullscreen="true" src="https://docs.google.com/presentation/d/e/2PACX-1vQFRtZvdtt2Scc4cQM4m4vnOtn-Lvvz0OVnEBE8_hCVE05A0heatr6RG1rR-goLckrqxhPF287dL9Or/embed?start=false&amp;amp;loop=false&amp;amp;delayms=3000" webkitallowfullscreen="true" width="960"&gt;&lt;/iframe&gt;</content><category term="Tech"/><category term="Docker"/><category term="Kubernetes"/><category term="Distroless"/><category term="Security"/><category term="Talk"/></entry><entry><title>Container security or how to improve security with distroless containers</title><link href="https://www.simonemessaggi.it/2019/09/en/distroless-containers-improve-security/" rel="alternate"/><published>2019-09-01T00:00:00+02:00</published><updated>2019-09-01T00:00:00+02:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2019-09-01:/2019/09/en/distroless-containers-improve-security/</id><summary type="html">&lt;p&gt;&lt;em&gt;What follows is a brief summary of a talk I composed during my collaboration with Mia Platform&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Bio:&lt;/strong&gt;
My love story with computers began at 8 years, thanks to Commodore64, then I made this passion my profession.&lt;/p&gt;
&lt;p&gt;I worked on networks, web development (back &amp;amp; front), such as Linux sysadm, technical â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;em&gt;What follows is a brief summary of a talk I composed during my collaboration with Mia Platform&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Bio:&lt;/strong&gt;
My love story with computers began at 8 years, thanks to Commodore64, then I made this passion my profession.&lt;/p&gt;
&lt;p&gt;I worked on networks, web development (back &amp;amp; front), such as Linux sysadm, technical project manager and I created and guided technological teams in the companies I was part of.&lt;/p&gt;
&lt;p&gt;In recent years I have begun to adopt DevOps philosophy with great satisfaction.&lt;/p&gt;
&lt;p&gt;I love Docker, Kubernetes and Elasticsearch.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Job Title:&lt;/strong&gt;
Devops and Operation Master at Mia-Platform,&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;&lt;strong&gt;Title:&lt;/strong&gt;
Strengthen security with distroless container&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Short Description:&lt;/strong&gt;
We live in the era of the container revolution and this already widespread trend will explode further in the coming years.&lt;/p&gt;
&lt;p&gt;The containers continue to be one of the hottest trends of the moment, but if with the container we design, develop and deploy applications, why often we do not dedicate more than 5 minutes to the safety of the container?&lt;/p&gt;
&lt;p&gt;We talk about distroless container, a promising technique created by Google with which you can limit to the maximum the attack surface of our containerized applications. We will see the main methods to realize distroless container and we will learn to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Analyze containers with tools to detect security vulnerabilities&lt;/li&gt;
&lt;li&gt;Get slender images through multi-stage builds&lt;/li&gt;
&lt;li&gt;Making debugging of distroless container effectively&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We are in 2019, and we live now in the age of the &lt;em&gt;Container revolution&lt;/em&gt;, within a few years we passed from shared hosting to VPS to the cloud and container of today.&lt;/p&gt;
&lt;p&gt;The use of containers in production is now a "normal" and consolidated phenomenon, according to &lt;a href="https://www.gartner.com/smarterwithgartner/6-best-practices-for-creating-a-container-platform-strategy/"&gt;Gartner&lt;/a&gt; by 2022 75% of companies will use containerized applications in production (the percentage in 2019 is about 30% and still growing).&lt;/p&gt;
&lt;p&gt;As always happens, when new technologies emerge, the first concern is to make sure that "function" and some aspects are leaked, for this reason docker and the container have made a reputation far from good as regards the aspects of &lt;strong&gt;cybersecurity.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Many realities, due to the rush of pursuing the latest technological/informatic trend (today are the container, tomorrow...chissa'!), have left in part or entirely the safety part, and underestimated the fact that, some characteristics of isolation of the processes to which we had accustomed the VMs in the containers even exist!&lt;/p&gt;
&lt;p&gt;If you want to see, the reduced degree of insulation offered by the container does not result from a disinterest towards the security issue but, more simply, is a feature of the containerization that serves to gain in terms of flexibility.&lt;/p&gt;
&lt;h2&gt;Distroless container&lt;/h2&gt;
&lt;p&gt;Just to deepen the security theme, today I want to propose a technique for the safety of container that uses the approach &lt;em&gt;distroless&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;If with VMs the focus was on isolated virtual machine instances and each "dedicated" to a certain application, with the container we arrive to have almost an identity between the application itself and the container in which it turns. We come to say that &lt;strong&gt;the container, at the bottom level IS the application.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Any one of you who has taken the trouble of writing a &lt;em&gt;Dockerfile&lt;/em&gt; or two knows... it's not that simple.&lt;/p&gt;
&lt;p&gt;Because in addition to the application in the container there is a base constituted by the operating system below, light as you want, but still always present.&lt;/p&gt;
&lt;p&gt;For my first Dockerfiles, for example, I have always entrusted myself to a base &lt;strong&gt;debian&lt;/strong&gt;* (debian:stretch) because I had a good degree of confidence with this OS and I knew how many and which packages I could install, I also had software that was tested and stable, even if at the expense of the version number. Debian-based images easily weighed hundreds of MB but were easier to use and debug.&lt;/p&gt;
&lt;p&gt;Then over time, I went over to the &lt;a href="https://hub.docker.com/_/debian"&gt;&lt;strong&gt;stretch-slim&lt;/strong&gt;&lt;/a&gt;, a minimal debian distribution that however guaranteed about 80% of debian tools, in a more compact and efficient format.&lt;/p&gt;
&lt;p&gt;Over the years, I have come to know &lt;a href="https://hub.docker.com/_/alpine"&gt;&lt;strong&gt;Alpine&lt;/strong&gt;&lt;/a&gt;, an extremely minimal Linux distro and irresistible weight, perfect for keeping containers light and performing. Alpine is really the narrowest version of Linux on the bone I've seen, it's basically a &lt;a href="https://hub.docker.com/_/busybox"&gt;&lt;strong&gt;busybox&lt;/strong&gt;&lt;/a&gt; (used in the embedded world) with the addition of the apk minimal package manager. Alpine-based images tend to weigh even less than 100 MB which involves a good gain in bandwidth and time savings.&lt;/p&gt;
&lt;p&gt;Distroless, if you want, are a step further towards efficient containers where the operating system disappears and there are only the minimum libraries needed to run our application.&lt;/p&gt;
&lt;p&gt;This technique is not new, but exists for a few years and has been introduced by Google, which has long been in the situation of having many containerized applications deployed in production.&lt;/p&gt;
&lt;p&gt;In a nutshell, a distroless container does without the operating system and contains only the linux kernel and the necessary libraries to the application we want to deploy. . .&lt;/p&gt;
&lt;h2&gt;The Talk Slides&lt;/h2&gt;
&lt;p&gt;Here you'll find all the slides of this talk, in the version for the &lt;a href="https://www.meetup.com/kubernetes-milano/"&gt;meetup of Kubernetes Milan&lt;/a&gt;:&lt;/p&gt;
&lt;iframe allowfullscreen="true" frameborder="0" height="569" mozallowfullscreen="true" src="https://docs.google.com/presentation/d/e/2PACX-1vQFRtZvdtt2Scc4cQM4m4vnOtn-Lvvz0OVnEBE8_hCVE05A0heatr6RG1rR-goLckrqxhPF287dL9Or/embed?start=false&amp;amp;loop=false&amp;amp;delayms=3000" webkitallowfullscreen="true" width="960"&gt;&lt;/iframe&gt;</content><category term="Tech"/><category term="Docker"/><category term="Kubernetes"/><category term="Distroless"/><category term="Security"/><category term="Talk"/></entry><entry><title>Come attrarre talenti nel mondo del tech</title><link href="https://www.simonemessaggi.it/2018/11/attract-talent-in-tech-world/" rel="alternate"/><published>2018-11-20T00:00:00+01:00</published><updated>2018-11-20T00:00:00+01:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2018-11-20:/2018/11/attract-talent-in-tech-world/</id><summary type="html">&lt;p&gt;Se lavorate nell'informatica potrebbe esservi capitato di dover selezionare delle persone per il vostro team di tecnici/geek, questo articolo parla proprio di come selezionare tecnici bravi e di quali strategie potete adottare per attirare nel vostro team professionalitÃ  di alto livello.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Repost di articolo apparso per la prima volta â€¦&lt;/em&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Se lavorate nell'informatica potrebbe esservi capitato di dover selezionare delle persone per il vostro team di tecnici/geek, questo articolo parla proprio di come selezionare tecnici bravi e di quali strategie potete adottare per attirare nel vostro team professionalitÃ  di alto livello.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Repost di articolo apparso per la prima volta su &lt;a href="https://medium.com/@simmessa/come-attrarre-talenti-nel-mondo-del-tech-28695185e7a3"&gt;Medium&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h2&gt;Serie A&lt;/h2&gt;
&lt;p&gt;Parto da un presupposto molto semplice, ma che spessissimo viene trascurato all'interno delle aziende.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;I migliori professionisti amano lavorare con quelli come loro&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Che si tratti di developer, devops, dba sysadmin o qualsiasi altra sotto categoria questa regola vale sempre.&lt;/p&gt;
&lt;p&gt;Ovviamente non Ã¨ un mistero, chiedete ai giocatori di serie A chi gli piace affrontare sul campo... vi risponderanno che amano giocare con altri giocatori al loro stesso livello o superiore, quindi qual'Ã¨ il sogno di un cestista italiano? Giocare nell'NBA, confrontarsi con i migliori, mettersi alla prova.&lt;/p&gt;
&lt;p&gt;Questa secondo me puÃ² essere considerata la piÃ¹ utile chiave di lettura di tutto il processo di selezione.&lt;/p&gt;
&lt;p&gt;Se mirate a creare una squadra di persone "toste" (diversamente non sareste qui) Ã¨ fondamentale cercare di ingaggiare sempre persone con una professionalitÃ  di alto livello, risorse che possano trovare nel confronto con altri come loro gli stimoli che, purtroppo, molto spesso i progetti in cui sono coinvolti non gli sanno dare.&lt;/p&gt;
&lt;h2&gt;Testing 1,2,3&lt;/h2&gt;
&lt;p&gt;La mia &lt;a href="/la-mia-esperienza-di-lavoro-a-il-giornale-it"&gt;personalissima esperienza&lt;/a&gt; come responsabile del sito internet ilGiornale.it mi ha permesso di sperimentare un po' per quanto riguarda la selezione di persone per il team di sviluppo, e mi ha insegnato che per attrarre talenti spesso un normale annuncio non basta, perchÃ© manca un vero filtro che possa fare la differenza tra chi campa lavoricchiando con l'informatica e chi ha una vera e propria passione per questo campo.&lt;/p&gt;
&lt;p&gt;Le prime selezioni che ho affrontato, infatti, avevano tutte lo stesso problema, ci voleva tempo e molte risorse per vedere tanti candidati che magari non avevano la metÃ  delle skill che portavano a CV, e questo fatto emergeva generalmente dopo che gran parte di questo processo molto &lt;em&gt;time consuming&lt;/em&gt; si era giÃ  conclusa.&lt;/p&gt;
&lt;p&gt;La prima cosa che ho pensato di fare per ovviare al problema Ã¨ stata di creare un test di "proficienza" utile a tagliare i "millantatori" in questa prima fase.&lt;/p&gt;
&lt;p&gt;Ovviamente creare un simile test richiede del tempo, ma nulla che non si possa affrontare e comunque, creare il test una volta, uguale per tutti era pur sempre meno oneroso di vedere vari candidati inadatti uno ad uno.&lt;/p&gt;
&lt;p&gt;Inoltre, il test ha delle caratteristiche tali da rendere piÃ¹ trasparente e omogeneo il processo di selezione, le domande sono quelle, sono uguali per tutti e ti permettono di valutare i candidati su basi piÃ¹ oggettive.&lt;/p&gt;
&lt;p&gt;Ovviamente, fare la selezione in questo modo richiede delle competenze che non tutti potrebbero avere, e limita in un qualche modo la selezione alle conoscenze di chi scrive il test.&lt;/p&gt;
&lt;p&gt;Negli anni, ho imparato a rendere il processo di creazione del test un task da condividere con gli altri del team, in questo modo tutti sono stimolati a creare domande interessanti e, soprattutto, il test diventa uno strumento piÃ¹ competente e completo.&lt;/p&gt;
&lt;p&gt;Se non si fosse capito, ribadisco che il test non deve essere l'unica fase di selezione, ma solo una scrematura iniziale, utile a scartare i soggetti inadatti. Infatti qualsiasi test non puÃ² sostituire il contatto umano e il colloquio che seguiranno e che ci permettono di farci un'idea sulla persona che va oltre skill e competenze dimostrabili su un pezzo di carta.&lt;/p&gt;
&lt;p&gt;Il metodo che uso io per "somministrare" il test Ã¨ quello di convocare i candidati a gruppi, Ã¨ un po' laborioso dal punto di vista organizzativo perchÃ© consiste nel trovare incastri nelle timetables di piÃ¹ persone, ma ci da la possibilitÃ  di conoscerci di persona da subito, di stabilire delle "regole di ingaggio" comuni e di controllare le condizioni in cui il test viene eseguito. Personalmente non ho nulla contro chi cerca le cose su Google, lo faccio sempre anch'io, ovviamente, ma un conto Ã¨ avere un'ora per 20 domande un altro avere una settimana e la possibilitÃ  di chiedere aiuti a destra e a manca.&lt;/p&gt;
&lt;h2&gt;L'amore per la sfida, mettersi in gioco&lt;/h2&gt;
&lt;p&gt;Da anni ho adottato il test scritto come primo strumento di selezione dei candidati per il team tecnico, ma dopo qualche giro mi sono accorto che il metodo era ulteriormente migliorabile.&lt;/p&gt;
&lt;p&gt;Quello che ho notato in questi anni, infatti, Ã¨ che le persone con i profili e le caratteristiche piÃ¹ interessanti spesso sono le prime che amano mettersi in gioco e affrontare nuove sfide.&lt;/p&gt;
&lt;p&gt;Ho cercato di sfruttare questa cosa e adottato un approcio diverso.&lt;/p&gt;
&lt;p&gt;Non piÃ¹ un annuncio e una mail dove raccogliere le candidature, anche perchÃ© se lo pubblicate su un sito con un po'di traffico, succede che vi arrivino infiniti profili di cui non vi frega assolutamente niente... ma una specie di gioco / test direttamente online.&lt;/p&gt;
&lt;p&gt;Il metodo assolutamente "non canonico" a cui sono arrivato ha comportato la creazione di &lt;a href="http://www.ilgiornale.it/pagina/lavora-con-noi.html"&gt;una pagina apposita&lt;/a&gt;, messa online con un solo semplice, vago suggerimento:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Se vuoi portare alla nostra attenzione il tuo profilo professionale premi il tasto F12 sulla tastiera e buon lavoro&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Ok, lo ammetto Ã¨ piuttosto folle, ma adoro le cose un po' folli.&lt;/p&gt;
&lt;h2&gt;Il filtro naturale&lt;/h2&gt;
&lt;p&gt;Dare agli aspiranti candidati la possibilitÃ  di mettersi alla prova direttamente durante il processo di selezione, risolvendo un gioco o un test non Ã¨ una cosa nuova, ma Ã¨ molto "Silicon Valley" e per me ha prodotto interessantissimi risultati.&lt;/p&gt;
&lt;p&gt;Nello specifico, nessuna mail viene mostrata al candidato a meno che non sia stato in grado di risolvere il gioco, e questo elimina gran parte dello SPAM e delle candidature non richieste.&lt;/p&gt;
&lt;p&gt;Inoltre, il gioco ci da la possibilitÃ  di verificare alcune conoscenze tecniche o caratteristiche di chi si candida, in questo caso, un minimo di conoscenza della console di sviluppo sul browser, HTML, CSS e javascript, come dire, due piccioni con una fava.&lt;/p&gt;
&lt;p&gt;Ma non Ã¨ tutto, in questo modo, oltre ad un filtro, si crea un obbiettivo che Ã¨ quello di provare in qualche modo se stessi e di dimostrare il proprio valore.&lt;/p&gt;
&lt;p&gt;Per quanto questo metodo fosse poco ortodosso, si Ã¨ rivelato davvero interessante.&lt;/p&gt;
&lt;p&gt;Le caratteristiche che il gioco online dovrebbe avere, a mio avviso sono queste:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Una difficoltÃ  appropriata, non impossibile o banale da risolvere, qualcosa che impegni una o al massimo un paio d'ore, perchÃ© se richiede troppo tempo o se Ã¨ troppo difficile diventa troppo selettivo e impegnativo, viceversa se Ã¨ banale non Ã¨ abbastanza "sfidante"&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;La possibilitÃ  di piÃ¹ approcci o soluzioni diverse, sempre in tema di difficoltÃ , Ã¨ un po'come una di quelle vecchie avventure grafiche, gli enigmi devono portarci a pensare anche fuori dagli schemi, ma non devono essere illogici, se il problema si puÃ² risolvere in piÃ¹ modi Ã¨ interessante anche vedere che approcio sceglie il candidato per risolverlo, e puÃ² diventare, volendo, anche oggetto di discussione in fase di colloquio&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Il contatto a cui inviare il CV deve essere svelato solo una volta risolto il gioco, come detto sopra&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ricordo ancora con piacere molte delle email che ho ricevuto che si complimentavano con l'iniziativa e che spiegavano piÃ¹ o meno in dettaglio come avevano risolto.&lt;/p&gt;
&lt;p&gt;Per me questo dialogo iniziale Ã¨ fantastico, permette di rompere il ghiaccio e di creare da subito un legame diverso per cui non si partecipa alla classica "selezione" vecchio stile ma a qualcosa di nuovo e interessante.&lt;/p&gt;
&lt;h2&gt;Gli svantaggi&lt;/h2&gt;
&lt;p&gt;Purtroppo, questo metodo ha avuto anche qualche svantaggio, da un lato mi Ã¨ capitato di ricevere varie risposte da chi era interessato a risolvere il gioco, ma non a candidarsi, e questo Ã¨ sicuramente un side effect non trascurabile, dall'altro, questo approccio non tradizionale puÃ² si attirare, ma crea anche delle aspettative che non Ã¨ sempre facile mantenere, mi immagino ad esempio come questo primo step nel contesto di un'azienda tradizionale dotata del classico ufficio HR possa creare un po' di confusione, soprattutto se chi lo supera si trova poi a parlare con selezionatori "non tecnici".&lt;/p&gt;
&lt;p&gt;Altro svantaggio di questo metodo Ã¨ che richiede una mole di lavoro non trascurabile per fare in modo che il gioco funzioni per tutti e che non abbia bug che possono frustrare chi partecipa. Il mio consiglio Ã¨, non appena l'avete preparato, prima ancora di metterlo online per il mondo, chiedete a qualcuno di fiducia (magari qualcuno del team) di risolverlo, cosÃ¬ saprete subito se funziona.&lt;/p&gt;</content><category term="Humans"/><category term="Talent"/><category term="Teambuilding"/></entry><entry><title>How to attract talent in the tech world</title><link href="https://www.simonemessaggi.it/2018/11/en/attract-talent-in-tech-world/" rel="alternate"/><published>2018-11-20T00:00:00+01:00</published><updated>2018-11-20T00:00:00+01:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2018-11-20:/2018/11/en/attract-talent-in-tech-world/</id><summary type="html">&lt;p&gt;If you are working in computer science, you may have to select people for your technical/geek team, this article is about how to select good technicians and what strategies you can take to attract your high-level professional team.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Repost of article first appeared on &lt;a href="https://medium.com/@simmessa/come-attract-talenti-nel-mondo-del-tech-28695185e7a3"&gt;Medium&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h2&gt;Series A&lt;/h2&gt;
&lt;p&gt;I start â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;If you are working in computer science, you may have to select people for your technical/geek team, this article is about how to select good technicians and what strategies you can take to attract your high-level professional team.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Repost of article first appeared on &lt;a href="https://medium.com/@simmessa/come-attract-talenti-nel-mondo-del-tech-28695185e7a3"&gt;Medium&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h2&gt;Series A&lt;/h2&gt;
&lt;p&gt;I start from a very simple assumption, but that it is often overlooked within companies.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The best professionals love working with those like them&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Whether it's developer, devops, dba sysadmin or any other under category this rule always applies.&lt;/p&gt;
&lt;p&gt;Of course it's not a mystery, ask serial players Who likes to face on the field... They will respond that they love to play with other players at their own level or higher, so what is the dream of an Italian basketball player? Playing in the NBA, confronting the best, testing yourself.&lt;/p&gt;
&lt;p&gt;This may be considered the most useful key to reading the whole selection process.&lt;/p&gt;
&lt;p&gt;If you aim to create a team of "toste" people (differently you wouldn't be here) it is essential to try to always hire people with a high-level professionalism, resources that can find in comparison with others like them the stimuli that, unfortunately, very often the projects in which they are involved can not give them.&lt;/p&gt;
&lt;h2&gt;Testing 1,2,3&lt;/h2&gt;
&lt;p&gt;My &lt;a href="/2018/11/la-mia-esperienza-di-lavoro-a-ilgiornaleit"&gt;personal experience&lt;/a&gt; as manager of the website theGiornale.it has allowed me to experience a little regarding the selection of people for the development team, and taught me that to attract talents often a normal announcement is not enough, because there is a real filter that can make the difference between those who camp work with the real passion.&lt;/p&gt;
&lt;p&gt;The first selections I faced, in fact, had all the same problem, it took time and many resources to see so many candidates who perhaps did not have half of the skills they carried to CV, and this fact generally came out after much of this very &lt;em&gt;time consuming&lt;/em&gt; process had already ended.&lt;/p&gt;
&lt;p&gt;The first thing I thought of doing to overcome the problem was to create a test of "proficiency" useful to cut the "millantators" in this first phase.&lt;/p&gt;
&lt;p&gt;Of course, creating such a test requires time, but nothing you can't face and anyway, creating the test once, the same for all was even less honorable to see various unsuitable candidates one by one.&lt;/p&gt;
&lt;p&gt;Moreover, the test has characteristics such as to make the selection process more transparent and homogeneous, the questions are those, they are the same for all and allow you to evaluate candidates on more objective basis.&lt;/p&gt;
&lt;p&gt;Obviously, making selection in this way requires skills that not everyone could have, and somehow limits the selection to the knowledge of who writes the test.&lt;/p&gt;
&lt;p&gt;Over the years, I have learned how to make the process of creating the test a task to share with others of the team, in this way everyone is stimulated to create interesting questions and, above all, the test becomes a more competent and complete tool.&lt;/p&gt;
&lt;p&gt;If you hadn't understood, I repeat that the test should not be the only phase of selection, but only an initial scrambling, useful to discard unsuitable subjects. In fact, any test cannot replace the human contact and the interview that will follow and allow us to give an idea about the person who goes beyond skill and skills that can be demonstrated on a piece of paper.&lt;/p&gt;
&lt;p&gt;The method I use to "administrate" the test is to call candidates to groups, it is a bit laborious from the organizational point of view because it consists in finding pitfalls in the timetables of several people, but it gives us the opportunity to know ourselves in person from the very beginning, to establish common "engravement rules" and to check the conditions in which the test is performed. Personally I have nothing against anyone looking for things on Google, I always do it myself, of course, but an account is having an hour for 20 questions another having a week and the possibility to ask for help right and missing.&lt;/p&gt;
&lt;h2&gt;The love for a good challenge, to get involved&lt;/h2&gt;
&lt;p&gt;For years I have adopted the test written as the first candidate selection tool for the technical team, but after a few laps I realized that the method was further improved.&lt;/p&gt;
&lt;p&gt;What I have noticed in recent years, in fact, is that people with the most interesting profiles and features are often the first ones who like to put themselves in play and face new challenges.&lt;/p&gt;
&lt;p&gt;I tried to exploit this and adopted a different approach.&lt;/p&gt;
&lt;p&gt;No more an ad and an e-mail where to collect applications, even because if you publish it on a site with a bit of traffic, it happens that you get endless profiles of which you don't care absolutely nothing... but a kind of game / test directly online.&lt;/p&gt;
&lt;p&gt;The absolutely "non-canon" method I have come to has involved the creation of [a special page] (http://www.ilgiornale.it/page/work-con-noi.html), put online with just one simple, vague suggestion:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;If you want to bring your professional profile to our attention press F12 key on keyboard and good work&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Okay, I admit it's pretty crazy, but I love things a little crazy.&lt;/p&gt;
&lt;h2&gt;A natural filter&lt;/h2&gt;
&lt;p&gt;Giving aspiring candidates the opportunity to test themselves directly during the selection process, solving a game or a test is not a new thing, but it is very "Silicon Valley" and has produced very interesting results for me.&lt;/p&gt;
&lt;p&gt;Specifically, no mail is shown to the candidate unless he has been able to solve the game, and this eliminates much of the SPAM and unsolicited applications.&lt;/p&gt;
&lt;p&gt;In addition, the game gives us the possibility to verify some technical knowledge or characteristics of those who apply, in this case, a minimum of knowledge of the development console on the browser, HTML, CSS and javascript, as to say, two pigeons with a fava.&lt;/p&gt;
&lt;p&gt;But it is not all, in this way, besides a filter, you create a goal that is to try somehow yourself and to prove your own value.&lt;/p&gt;
&lt;p&gt;Although this method was unorthodox, it was really interesting.&lt;/p&gt;
&lt;p&gt;The features that the online game should have, in my opinion are these:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;An appropriate difficulty, not impossible or trivial to solve, something that commits one or at most a couple of hours, because if it takes too much time or if it is too difficult it becomes too selective and challenging, vice versa if it is trivial it is not enough "trusting"&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The possibility of several different approaches or solutions, always in the matter of difficulty, is a little like one of those old graphic adventures, puzzles must lead us to think even out of the schemes, but they must not be illogical, if the problem can be solved in several ways it is interesting also to see that I approute choose the candidate to solve it, and can become, if desired, also object of discussion in phase of interview&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The contact to which the CV must be unveiled only once the game is resolved, as mentioned above&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I still remember with pleasure many of the emails I received that complimented the initiative and that they explained more or less in detail as they had solved.&lt;/p&gt;
&lt;p&gt;For me this initial dialogue is fantastic, it allows you to break the ice and create a different bond from the very beginning so you do not participate in the classic old style "selection" but to something new and interesting.&lt;/p&gt;
&lt;h2&gt;The bad side of this method&lt;/h2&gt;
&lt;p&gt;Unfortunately, this method has also had some disadvantages, on the one hand I happened to receive various answers from who was interested in solving the game, but not to apply, and this is definitely a side effect not negligible, on the other, this non-traditional approach can attract, but also creates expectations that it is not always easy to maintain, I imagine myself as this first step in the context of a traditional company equipped of the classic HR office can create a little more confusing, then I guess.&lt;/p&gt;
&lt;p&gt;Another disadvantage of this method is that it requires a non negligible amount of work to make the game work for everyone and that it does not have bugs that can frustrate those who participate. My advice is, as soon as you prepared it, before you even put it online for the world, ask someone to trust (maybe some of the team) to solve it, so you will immediately know if it works.&lt;/p&gt;</content><category term="Humans"/><category term="Talent"/><category term="Teambuilding"/></entry><entry><title>La mia esperienza di lavoro a ilGiornale.it</title><link href="https://www.simonemessaggi.it/2018/11/la-mia-esperienza-di-lavoro-a-ilgiornaleit/" rel="alternate"/><published>2018-11-11T00:00:00+01:00</published><updated>2018-11-11T00:00:00+01:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2018-11-11:/2018/11/la-mia-esperienza-di-lavoro-a-ilgiornaleit/</id><summary type="html">&lt;p&gt;In quest'ultimo periodo, mi Ã¨ capitato di riflettere a vario titolo su quello che ho realizzato professionalmente negli ultimi 12 anni di attivitÃ  e, piÃ¹ specificamente, da quando lavoro per &lt;a href="http://www.ilgiornale.it"&gt;ilGiornale.it&lt;/a&gt;; quello che segue, Ã¨ un riassunto di questa riflessione, di quello che ho affrontato e di quanto mi â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;In quest'ultimo periodo, mi Ã¨ capitato di riflettere a vario titolo su quello che ho realizzato professionalmente negli ultimi 12 anni di attivitÃ  e, piÃ¹ specificamente, da quando lavoro per &lt;a href="http://www.ilgiornale.it"&gt;ilGiornale.it&lt;/a&gt;; quello che segue, Ã¨ un riassunto di questa riflessione, di quello che ho affrontato e di quanto mi sto trovando davanti in questo periodo, se vi ritrovate anche voi in quello che scrivo o se avete altre domande vi aspetto come sempre nei commenti, buona lettura.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Repost di articolo apparso per la prima volta su &lt;a href="https://medium.com/@simmessa/la-mia-esperienza-di-lavoro-a-ilgiornale-it-327bdf543fa3"&gt;Medium&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h2&gt;Early years (2006-2012)&lt;/h2&gt;
&lt;p&gt;Quando ho iniziato a lavorarci (2006) il sito internet ilGiornale.it era poco piÃ¹ di uno script di importazione del quotidiano su un sistema proprietario in PHP e MySQL, i server erano macchine fisiche &lt;strong&gt;Linux&lt;/strong&gt; in housing presso un hosting center.&lt;/p&gt;
&lt;p&gt;Nel giro di pochi anni, (2008) dopo aver integrato varie piattaforme esterne con il sistema principale, ho realizzato che questo motore proprietario non era piÃ¹ in grado di reggere la crescita del nostro prodotto, cosÃ¬ ho cominciato a creare un team interno di sviluppatori (2010) e nel 2012 abbiamo migrato ilGiornale.it su una nuova piattaforma, il &lt;strong&gt;CMS&lt;/strong&gt; open source &lt;strong&gt;Drupal&lt;/strong&gt;, che Ã¨ stato la base per lo sviluppo interno di moduli custom necessari a realizzare ed estendere le funzionalitÃ  del prodotto editoriale.&lt;/p&gt;
&lt;h2&gt;Welcome to the Cloud era (2013-2016)&lt;/h2&gt;
&lt;p&gt;Visto che l'aumento del traffico era continuo, ma difficile da prevedere, ho capito che il fatto di possedere un'infrastruttura di server "bare metal" era diventato un problema da gestire piÃ¹ che un valore, quindi ho iniziato a valutare l'ipotesi di migrare completamente li nostro ambiente su &lt;strong&gt;Cloud.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Il primo passo Ã¨ stato quello di far passare tutto il traffico del sito tramite &lt;strong&gt;CDN Akamai&lt;/strong&gt;, in questo modo abbiamo ridotto i tempi di latenza e diminuito il carico sulle macchine, evitando di dover acquisire nuovi server per gestire le situazioni di picco tipiche di eventi popolari o eccezionali che hanno un forte impatto sulla vita di un sito di news, come le emergenze nazionali, le elezioni politiche o i disastri naturali.&lt;/p&gt;
&lt;p&gt;Poi Ã¨ stato il momento di ripensare l'architettura in ambiente Cloud, su &lt;strong&gt;AWS&lt;/strong&gt;, attivando una batteria di server &lt;strong&gt;EC2&lt;/strong&gt; in ottica IAAS (Infrastructure As A Service) su cui andare a creare il nostro stack tecnologico (&lt;strong&gt;Varnish, Nginx, PHP-FPM&lt;/strong&gt; ma anche &lt;strong&gt;Glusterfs&lt;/strong&gt; ed &lt;strong&gt;Elasticsearch&lt;/strong&gt;) mischiandolo ad altri servizi PAAS (Platform As A Service) come &lt;a href="/fare-un-dump-da-uno-snapshot-rds-con-python-e-terraform"&gt;&lt;strong&gt;RDS (MySQL)&lt;/strong&gt;&lt;/a&gt; ed &lt;strong&gt;Elasticache (Memcache).&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Definita l'architettura e la strategia di migrazione, nel 2015 abbiamo fatto il grande passo, dismesso parecchi armadi rack in housing e puntato tutto sul Cloud.&lt;/p&gt;
&lt;h2&gt;Present and future challenges (2017-2018)&lt;/h2&gt;
&lt;p&gt;A distanza di alcuni anni dalla migrazione in &lt;strong&gt;Cloud AWS&lt;/strong&gt;, con un ritmo di crescita costante del traffico su tutto il network e la creazione di nuove properties editoriali per andare a ingaggiare segmenti di pubblico sempre nuovi sono emerse anche le principali problematiche legate alle prestazioni del CMS.&lt;/p&gt;
&lt;p&gt;Lo sviluppo del prodotto su una piattaforma CMS monolitica come Drupal ci ha reso evidenti i problemi di scalabilitÃ  delle prestazioni all'aumento del traffico e ha richiesto una fase di analisi approfondita delle soluzioni software e tecnologie impiegate.&lt;/p&gt;
&lt;p&gt;E' emersa la necessitÃ  di rinnovare ed innovare le basi della nostra piattaforma editoriale per rompere il monolita Drupal e trasformarlo in una serie di &lt;strong&gt;piattaforme e servizi&lt;/strong&gt; fortemente integrati.&lt;/p&gt;
&lt;p&gt;Per questa ragione ho deciso di investire, a livello personale e di team, tempo e risorse nell'apprendimento di nuove tecnologie, tra cui la piÃ¹ importante Ã¨ forse costituita da &lt;strong&gt;Docker&lt;/strong&gt; e dalle tecniche di &lt;strong&gt;containerizzazione&lt;/strong&gt; di applicazioni e servizi.&lt;/p&gt;
&lt;p&gt;Forti di questa nuova conoscenza abbiamo lanciato (2017) il primo servizio e la prima web app sviluppata in &lt;strong&gt;NodeJS + React&lt;/strong&gt; e interamente basata su container, per gestire dati e risultati delle elezioni politiche e amministrative.&lt;/p&gt;
&lt;p&gt;Oltre all'impiego di Docker, oggi stiamo radicalmente trasformando i metodi di sviluppo e rilascio del software per renderli aderenti all'ideologia &lt;strong&gt;devops&lt;/strong&gt;, il nostro codice non segue piÃ¹ il ciclo di "release day", come si faceva prima e con tutte le difficoltÃ  che questo metodo implicava, ma viene modificato e rilasciato costantemente.&lt;/p&gt;
&lt;p&gt;Per questo i nostri prodotti evolvono costantemente grazie alle pipeline di &lt;strong&gt;continuos deployment&lt;/strong&gt;, utilizzando i tool principali tra cui &lt;strong&gt;Git, Jenkins e Docker&lt;/strong&gt;, grazie a cui viene rilasciato in produzione solo ciÃ² che ha effettivamente superato i &lt;strong&gt;test automatici.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Allo stesso modo, ogni componente dello stack registra i suoi log con un modello centralizzato, grazie allo &lt;strong&gt;stack ELK (Elasticsearch / Logstash / Kibana),&lt;/strong&gt; oggi siamo in grado di individuare i problemi in modo rapido e, soprattutto, automatico.&lt;/p&gt;
&lt;p&gt;L'utilizzo dei container ha inoltre richiesto un vero rinnovamento degli ambienti di produzione, che si stanno trasformando a loro volta, non piÃ¹ server EC2 individuali da lanciare e AMI da mantenere, ma veri e propri cluster in tecnologia &lt;strong&gt;Kubernetes&lt;/strong&gt; con un forte grado di automazione e capacitÃ  di scaling pressochÃ© illimitate.&lt;/p&gt;
&lt;p&gt;In questo modello ogni modifica infrastrutturale Ã¨ descritta dal codice, e vive in un proprio repository Git, grazie a &lt;strong&gt;Terraform e Kops&lt;/strong&gt;. Nel mondo Kubernetes in cui ci stiamo muovendo i container contenenti le applicazioni vengono orchestrati direttamente dal supervisor, e ogni deployment Ã¨ descritto da uno script preciso, per cui Ã¨ &lt;strong&gt;attivabile, scalabile e replicabile&lt;/strong&gt; nel giro di pochi secondi.&lt;/p&gt;
&lt;p&gt;Mi chiamo Simone Messaggi e se volete approfondire potete trovarmi su:
&lt;em&gt;http://linkedin.com/in/simmessa&lt;/em&gt;&lt;/p&gt;</content><category term="Humans"/><category term="Startups"/><category term="Teambuilding"/></entry><entry><title>Fare un dump da uno snapshot RDS con Python e Terraform</title><link href="https://www.simonemessaggi.it/2018/10/dump-rds-snapshot-to-sql-python-terraform/" rel="alternate"/><published>2018-10-31T00:00:00+01:00</published><updated>2018-10-31T00:00:00+01:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2018-10-31:/2018/10/dump-rds-snapshot-to-sql-python-terraform/</id><summary type="html">&lt;p&gt;Ok, giÃ  tutti voi conoscete le prodezze del cloud di Amazon, per cui non vi annoio con i dettagli, e se i vostri server si trovano su AWS Ã¨ molto facile che giÃ  utilizziate il loro &lt;em&gt;db engine as a service&lt;/em&gt;, ovvero &lt;strong&gt;RDS&lt;/strong&gt; (che sta per Relational Database Service).&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Repost â€¦&lt;/em&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Ok, giÃ  tutti voi conoscete le prodezze del cloud di Amazon, per cui non vi annoio con i dettagli, e se i vostri server si trovano su AWS Ã¨ molto facile che giÃ  utilizziate il loro &lt;em&gt;db engine as a service&lt;/em&gt;, ovvero &lt;strong&gt;RDS&lt;/strong&gt; (che sta per Relational Database Service).&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Repost di articolo apparso per la prima volta su &lt;a href="https://medium.com/@simmessa/fare-un-dump-da-uno-snapshot-rds-con-python-e-terraform-7cbd0fa026fc"&gt;Medium&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Oggi parliamo proprio di un hack utile per chi usa questo servizio, e nello specifico, andremo a vedere come creare un classico dump del db (formato .sql) da un'istanza di database.&lt;/p&gt;
&lt;h2&gt;Ma non esistono giÃ  i backup?&lt;/h2&gt;
&lt;p&gt;RDS, tra le tante cose interessanti, offre la funzionalitÃ  di avere dei backup automatici, ed se lo avete provato sapete giÃ  che Ã¨ davvero comodo. In ogni momento potete ripristinare uno snapshot esistente o anche creare una nuova istanza del database, di cui scegliere la dimensione (intesa come "potenza" del server), andando a pescare dai dati dello snapshot.&lt;/p&gt;
&lt;p&gt;&lt;img alt="RDS ha degli ottimi backup, ma non sono i dump sql che servono a noiâ€¦" src="/images/RDS_snapshot.png"/&gt;
&lt;em&gt;RDS ha degli ottimi backup, ma non sono i dump sql che servono a noiâ€¦&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Spesso mi Ã¨ capitato di pensare che questi backup fossero giÃ  quello che mi serviva, ovvero un modo come un altro di dumpare il db in file sql compresso per duplicare un servizio, purtroppo mi sono accorto a mie spese che non Ã¨ cosÃ¬ semplice, soprattutto se vi va di automatizzare il processo e volete trovare il modo di rischiare il meno possibile con un db live in produzione.&lt;/p&gt;
&lt;p&gt;Il succo del discorso Ã¨ che, su RDS, Ã¨ estremamente facile duplicare un database tramite snapshot e creando una nuova istanza, ma il livello di portabilitÃ  di questo genere di "dump" Ã¨ praticamente nullo, vale solo su RDS.&lt;/p&gt;
&lt;p&gt;Al contrario, se volete ottenere un dump non Ã¨ cosÃ¬ banale.&lt;/p&gt;
&lt;h2&gt;Il metodo basic&lt;/h2&gt;
&lt;p&gt;Il processo Ã¨ abbastanza semplice:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Creiamo uno snapshot&lt;/li&gt;
&lt;li&gt;Lanciamo una nuova istanza di db "piccola" a piacere (ad esempio una db.t2.micro, con 1 vCPU e 1 Gb di RAM) selezionando come source lo snapshot che ci interessa&lt;/li&gt;
&lt;li&gt;Ci colleghiamo via &lt;strong&gt;mysqldump&lt;/strong&gt; alla nuova istanza e produciamo il dump del database che ci serve&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Farlo manualmente ogni volta, perÃ², lo trovo pallosetto, per cui ho cercato (grazie Google!) ed elaborato un metodo piÃ¹ furbo ed automatico di farlo&lt;/p&gt;
&lt;h2&gt;Alcune accortezze LIVE&lt;/h2&gt;
&lt;p&gt;Se per caso volete avere il dump di un database di produzione e volete evitare problemi, accontentandovi anche di dati non freschissimi, vi consiglio per cominciare di impostare i job di backup / creazione degli snapshot nella fascia dove avete meno accessi al vostro servzio, potrebbe essere in fascia notturna, ma sta a voi scoprirlo e, in ogni caso, se Ã¨ un servizio pubblico Google Analytics Ã¨ vostro amico, altrimenti buona ricerca nei log.&lt;/p&gt;
&lt;h2&gt;Il metodo Terraform + Python script&lt;/h2&gt;
&lt;p&gt;Premetto che trovate il codice di esempio di questo articolo sul mio profilo &lt;a href="https://github.com/simmessa/rds_snaptodump"&gt;github&lt;/a&gt;, e ora andiamo a vedere con ordine cosa dobbiamo fare per andare a creare il dump in questo modo.&lt;/p&gt;
&lt;p&gt;Prima di proseguire clonate il repo ed entrateci con:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$&lt;span class="w"&gt; &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;clone&lt;span class="w"&gt; &lt;/span&gt;https://github.com/simmessa/rds_snaptodump
&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;rds_snaptodump
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Prerequisiti vari&lt;/h3&gt;
&lt;p&gt;Per eseguire i file del repository vi serve:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;terraform (per l'installazione vedete qui sotto)&lt;/li&gt;
&lt;li&gt;mysqldump&lt;/li&gt;
&lt;li&gt;un account AWS con i privilegi necessari per interagire con RDS (lettura, list dei database, ecc) (altre informazioni qui sotto)&lt;/li&gt;
&lt;li&gt;python 2 (ho testato con la versione 2.7.12)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Installare Terraform&lt;/h3&gt;
&lt;p&gt;Per prima cosa vi consiglio di installare &lt;a href="https://www.terraform.io"&gt;Terraform&lt;/a&gt;, Ã¨ un tool fatto dai simpatici signori di &lt;a href="https://www.hashicorp.com/"&gt;Hashicorp&lt;/a&gt; che Ã¨ molto utile e vi aprirÃ  un mondo sul modo di creare infrastrutture in cloud da riga di comando, ma, ovviamente, lo scope di questo articolo non ci consente di approfondire l'argomento.&lt;/p&gt;
&lt;p&gt;Sappiate almeno che, con terraform, potrete lanciare comandi che andranno a definire, in base a degli script, ambienti in cloud su AWS, GKE o altro.&lt;/p&gt;
&lt;p&gt;Non ho idea se Terraform sia in bundle grazie al pkg manager della vostra distro Linux preferita (o magari su &lt;a href="https://medium.com/@simmessa/installare-un-ambiente-di-sviluppo-linux-su-windows-10-wsl-fc638bb4ff8e"&gt;WSL&lt;/a&gt; sotto windows 10), ma per installarlo da riga di comando la procedura Ã¨ molto semplice, andate &lt;a href="https://www.terraform.io/downloads.html"&gt;qui&lt;/a&gt;, scaricatevi il binario adeguato e poi unzippatelo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$&lt;span class="w"&gt; &lt;/span&gt;wget&lt;span class="w"&gt; &lt;/span&gt;https://releases.hashicorp.com/terraform/0.11.10/terraform_0.11.10_linux_amd64.zip&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;unzip&lt;span class="w"&gt; &lt;/span&gt;terraform_0.11.10_linux_amd64.zip
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ottimo a questo punto vi dovreste trovare con il binario di terraform dentro il repository github precedentemente clonato.&lt;/p&gt;
&lt;p&gt;Per verificare l'install di terraform non vi resta che provare ad eseguire terraform:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;./&lt;/span&gt;&lt;span class="n"&gt;terraform&lt;/span&gt;
&lt;span class="n"&gt;Usage&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;terraform&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;version&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;help&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;command&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;The&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;available&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;commands&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;execution&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;are&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;listed&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;below&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;span class="n"&gt;The&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;most&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;common&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;useful&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;commands&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;are&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;shown&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;first&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;followed&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;by&lt;/span&gt;
&lt;span class="n"&gt;less&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;common&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ow"&gt;or&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;more&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;advanced&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;commands&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;If&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;you&lt;/span&gt;&lt;span class="s1"&gt;'re just getting&lt;/span&gt;
&lt;span class="n"&gt;started&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;with&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Terraform&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;stick&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;with&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;common&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;commands&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;For&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;
&lt;span class="n"&gt;other&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;commands&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;please&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;help&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ow"&gt;and&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;docs&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;before&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;usage&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;span class="n"&gt;Common&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;commands&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Builds&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ow"&gt;or&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;changes&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;infrastructure&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;console&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Interactive&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;console&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Terraform&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;interpolations&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;destroy&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Destroy&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Terraform&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;managed&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;infrastructure&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;env&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Workspace&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;management&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;fmt&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Rewrites&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;canonical&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;format&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Download&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ow"&gt;and&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;install&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;modules&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;configuration&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;graph&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Create&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;visual&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;graph&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;of&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Terraform&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;resources&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;Import&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;existing&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;infrastructure&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;into&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Terraform&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;init&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Initialize&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Terraform&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;working&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;directory&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Read&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;an&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;state&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;plan&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Generate&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ow"&gt;and&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;an&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;execution&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;plan&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;providers&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Prints&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;tree&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;of&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;providers&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;used&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ow"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;configuration&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;push&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Upload&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Terraform&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;module&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Atlas&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;refresh&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Update&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;local&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;state&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;against&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;real&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;resources&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Inspect&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Terraform&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;state&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ow"&gt;or&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;plan&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;taint&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Manually&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;mark&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;resource&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;recreation&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;untaint&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Manually&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;unmark&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;resource&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;as&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;tainted&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;validate&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Validates&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Terraform&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;files&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;version&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Prints&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Terraform&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;version&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;workspace&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Workspace&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;management&lt;/span&gt;
&lt;span class="n"&gt;All&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;other&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;commands&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;debug&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Debug&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;management&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;experimental&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;force&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;unlock&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Manually&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;unlock&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;terraform&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;state&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;state&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Advanced&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;state&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;management&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Se l'output Ã¨ come quello che vedete qui sopra siete a posto, terraform Ã¨ pronto per essere usato.&lt;/p&gt;
&lt;h3&gt;Editare lo script main.tf&lt;/h3&gt;
&lt;p&gt;Ora che avete Terraform a disposizione dovrete editare lo script che useremo per creare l'istanza del nostro database di cui ottenere il dump.&lt;/p&gt;
&lt;p&gt;Si chiama main.tf e lo trovate qui sotto:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;provider&lt;span class="w"&gt; &lt;/span&gt;"aws"&lt;span class="w"&gt; &lt;/span&gt;{
&lt;span class="w"&gt; &lt;/span&gt;region&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;"eu-west-1"&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;put&lt;span class="w"&gt; &lt;/span&gt;your&lt;span class="w"&gt; &lt;/span&gt;AWS&lt;span class="w"&gt; &lt;/span&gt;region&lt;span class="w"&gt; &lt;/span&gt;here!
}

#&lt;span class="w"&gt; &lt;/span&gt;Get&lt;span class="w"&gt; &lt;/span&gt;latest&lt;span class="w"&gt; &lt;/span&gt;snapshot&lt;span class="w"&gt; &lt;/span&gt;from&lt;span class="w"&gt; &lt;/span&gt;production&lt;span class="w"&gt; &lt;/span&gt;DB
data&lt;span class="w"&gt; &lt;/span&gt;"aws_db_snapshot"&lt;span class="w"&gt; &lt;/span&gt;"latest_prod_snapshot"&lt;span class="w"&gt; &lt;/span&gt;{
&lt;span class="w"&gt; &lt;/span&gt;most_recent&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;true
&lt;span class="w"&gt; &lt;/span&gt;db_instance_identifier&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;"mydbname"&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;put&lt;span class="w"&gt; &lt;/span&gt;the&lt;span class="w"&gt; &lt;/span&gt;name&lt;span class="w"&gt; &lt;/span&gt;of&lt;span class="w"&gt; &lt;/span&gt;your&lt;span class="w"&gt; &lt;/span&gt;db&lt;span class="w"&gt; &lt;/span&gt;here!
}
#&lt;span class="w"&gt; &lt;/span&gt;Create&lt;span class="w"&gt; &lt;/span&gt;new&lt;span class="w"&gt; &lt;/span&gt;staging&lt;span class="w"&gt; &lt;/span&gt;DB
resource&lt;span class="w"&gt; &lt;/span&gt;"aws_db_instance"&lt;span class="w"&gt; &lt;/span&gt;"db_snapshot_dumper"&lt;span class="w"&gt; &lt;/span&gt;{
&lt;span class="w"&gt; &lt;/span&gt;instance_class&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;"db.t2.micro"
&lt;span class="w"&gt; &lt;/span&gt;identifier&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;"db-snapshot-dumper"
&lt;span class="w"&gt; &lt;/span&gt;username&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;"user"&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;necessary,&lt;span class="w"&gt; &lt;/span&gt;but&lt;span class="w"&gt; &lt;/span&gt;won't&lt;span class="w"&gt; &lt;/span&gt;be&lt;span class="w"&gt; &lt;/span&gt;used&lt;span class="w"&gt; &lt;/span&gt;since&lt;span class="w"&gt; &lt;/span&gt;a&lt;span class="w"&gt; &lt;/span&gt;snapshot&lt;span class="w"&gt; &lt;/span&gt;identifier&lt;span class="w"&gt; &lt;/span&gt;is&lt;span class="w"&gt; &lt;/span&gt;provided...
&lt;span class="w"&gt; &lt;/span&gt;password&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;"password"&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;necessary,&lt;span class="w"&gt; &lt;/span&gt;but&lt;span class="w"&gt; &lt;/span&gt;won't&lt;span class="w"&gt; &lt;/span&gt;be&lt;span class="w"&gt; &lt;/span&gt;used&lt;span class="w"&gt; &lt;/span&gt;since&lt;span class="w"&gt; &lt;/span&gt;a&lt;span class="w"&gt; &lt;/span&gt;snapshot&lt;span class="w"&gt; &lt;/span&gt;identifier&lt;span class="w"&gt; &lt;/span&gt;is&lt;span class="w"&gt; &lt;/span&gt;provided...
&lt;span class="w"&gt; &lt;/span&gt;snapshot_identifier&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;"&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;aws_db_snapshot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;latest_prod_snapshot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;"
&lt;span class="w"&gt; &lt;/span&gt;#vpc_security_group_ids&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;["sg-12345678"]&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;if&lt;span class="w"&gt; &lt;/span&gt;you&lt;span class="w"&gt; &lt;/span&gt;are&lt;span class="w"&gt; &lt;/span&gt;running&lt;span class="w"&gt; &lt;/span&gt;inside&lt;span class="w"&gt; &lt;/span&gt;a&lt;span class="w"&gt; &lt;/span&gt;VPC&lt;span class="w"&gt; &lt;/span&gt;uncomment&lt;span class="w"&gt; &lt;/span&gt;and&lt;span class="w"&gt; &lt;/span&gt;put&lt;span class="w"&gt; &lt;/span&gt;yours&lt;span class="w"&gt; &lt;/span&gt;here
&lt;span class="w"&gt; &lt;/span&gt;skip_final_snapshot&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;true&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;Won't&lt;span class="w"&gt; &lt;/span&gt;produce&lt;span class="w"&gt; &lt;/span&gt;a&lt;span class="w"&gt; &lt;/span&gt;final&lt;span class="w"&gt; &lt;/span&gt;snapshot&lt;span class="w"&gt; &lt;/span&gt;when&lt;span class="w"&gt; &lt;/span&gt;disposing&lt;span class="w"&gt; &lt;/span&gt;of&lt;span class="w"&gt; &lt;/span&gt;db
}

output&lt;span class="w"&gt; &lt;/span&gt;"address"&lt;span class="w"&gt; &lt;/span&gt;{
&lt;span class="w"&gt; &lt;/span&gt;value&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;"&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;aws_db_instance&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;db_snapshot_dumper&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;address&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;"
}

output&lt;span class="w"&gt; &lt;/span&gt;"snapshot"&lt;span class="w"&gt; &lt;/span&gt;{
&lt;span class="w"&gt; &lt;/span&gt;value&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;"&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;aws_db_instance&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;db_snapshot_dumper&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;snapshot_identifier&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;"
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ci sono varie cose che dovrete cambiare per adattarle al vostro caso specifico, come la regione AWS in cui usate il servizio RDS:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;provider&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"aws"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;region&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"eu-west-1"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;put&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;your&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;AWS&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;region&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;here&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;[...]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;e l'identificativo del vostro database, come risulta dal pannello di RDS:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;span class="c1"&gt;# Get latest snapshot from production DB&lt;/span&gt;
&lt;span class="na"&gt;data "aws_db_snapshot" "latest_prod_snapshot" {&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;most_recent&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;true&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;db_instance_identifier&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"mydbname"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# put the name of your db here!&lt;/span&gt;
&lt;span class="na"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Infine, se la vostra infrastruttura sul cloud prevede una vpc, vi consiglio di decommentare l'apposita riga e di inserire l'id della vostra vpc:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;#vpc_security_group_ids = ["sg-12345678"] # if you are running inside a VPC uncomment and put yours here&lt;/span&gt;
&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vorrei cogliere l'occasione per farvi notare che non abbiamo dovuto dare a Terraform l'id di uno snapshot specifico, al contrario, gli abbiamo chiesto di usare l'ultimo a disposizione (most_recent = true):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;span class="c1"&gt;# Get latest snapshot from production DB&lt;/span&gt;
&lt;span class="na"&gt;data "aws_db_snapshot" "latest_prod_snapshot" {&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;most_recent&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;true&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;db_instance_identifier&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"mydbname"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# put the name of your db here!&lt;/span&gt;
&lt;span class="na"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lo trovo fantastico, per i miei scopi, ma se per caso avete bisogno di uno snapshot specifico,  vi rimando all'ottima &lt;a href="https://www.terraform.io/docs/providers/aws/d/db_snapshot.html"&gt;documentazione di Terraform&lt;/a&gt; per i dettagli.&lt;/p&gt;
&lt;p&gt;Una volta fatte queste operazioni possiamo passare a modificare la parte Python del nostro dumper.&lt;/p&gt;
&lt;h3&gt;Editare lo script Python snaptodump.py&lt;/h3&gt;
&lt;p&gt;Lo script "snaptodump.py" nella sua forma "originale" lo trovate qui sotto:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;#Python&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;sys&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;argv&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;datetime&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;datetime&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;os&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;os.path&lt;/span&gt;
&lt;span class="n"&gt;start_time&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;now&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="c1"&gt;# MySQL setup: put the MySQL user with dump permission and database name here&lt;/span&gt;
&lt;span class="c1"&gt;# password will be asked interactively later: &lt;/span&gt;
&lt;span class="n"&gt;dbusr&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"your_mysql_username"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;dbname&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"your_mysql_database_name"&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"""&lt;/span&gt;
&lt;span class="s2"&gt;This script will launch Terraform to dump the latest snapshot of prod db&lt;/span&gt;
&lt;span class="s2"&gt;PREREQUISITES:&lt;/span&gt;
&lt;span class="s2"&gt;You need AWS tokens setup as ENV vars or Terraform won't work:&lt;/span&gt;
&lt;span class="s2"&gt;export AWS_ACCESS_KEY_ID="xxx"&lt;/span&gt;
&lt;span class="s2"&gt;export AWS_SECRET_ACCESS_KEY="yyy"&lt;/span&gt;
&lt;span class="s2"&gt;USAGE:&lt;/span&gt;
&lt;span class="s2"&gt;python snaptodump.py&lt;/span&gt;
&lt;span class="s2"&gt;*** WARNING ***&lt;/span&gt;
&lt;span class="s2"&gt;This tool requires the mysqldump binary installed on your system and the necessary free space on your local disk for dumping!&lt;/span&gt;
&lt;span class="s2"&gt;"""&lt;/span&gt;
&lt;span class="n"&gt;terraform_init_dir&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"./.terraform"&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exists&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;terraform_init_dir&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"terraform init already ran!&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;system&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"./terraform init"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;system&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"./terraform apply"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"*** ERROR while applying terraform config, dumping stopped! ***"&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;host&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;popen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'./terraform output address'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;popen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'./terraform output snapshot'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;".sql.gz"&lt;/span&gt;
&lt;span class="n"&gt;dumpcmd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"mysqldump -h &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt; -u &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt; --compress -p &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt; |gzip &amp;gt; &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;host&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;''&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;dbusr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;dbname&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;''&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"Next step is mysqldump, you will be asked for a MySQL password&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
&lt;span class="n"&gt;dbdump_start&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;now&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;system&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;dumpcmd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"An error occurred!"&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"command was: &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;dumpcmd&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"All done!"&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"Db dumped in &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;now&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;dbdump_start&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;#Now let's destroy our temp RDS instance&lt;/span&gt;
&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;system&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"./terraform destroy "&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;#Feeling bold? comment previous command and enable this!&lt;/span&gt;
&lt;span class="c1"&gt;#os.system( "./terraform destroy -auto-approve"&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"Total procedure completed in &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;now&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;start_time&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;#print dumpcmd&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dovrete modificare alcune variabili per farlo girare sulle vostre istanze di db, prima di tutto, Ã¨ necessario inserire user e nome del database mysql che volete dumpare:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;span class="na"&gt;dbusr&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"your_mysql_username"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="na"&gt;dbname&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"your_mysql_database_name"&lt;/span&gt;
&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;diventerÃ , ad esempio:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;span class="na"&gt;dbusr&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"pippo"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="na"&gt;dbname&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"dbproduzione"&lt;/span&gt;
&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A questo punto, se provate a lanciare lo script:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;snaptodump.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vi accorgerete che, per funzionare, necessita della parte di autenticazione AWS, senza di cui Terraform non puÃ² dialogare con AWS.&lt;/p&gt;
&lt;h3&gt;Autenticazione e chiavi di accesso AWS&lt;/h3&gt;
&lt;p&gt;Per poter interagire con il cloud AWS vi serve definire due variabili di sistema, contenenti le vostre credenziali con cui configurare RDS:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;export&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;AWS_ACCESS_KEY_ID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"xxx"&lt;/span&gt;
&lt;span class="k"&gt;export&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;AWS_SECRET_ACCESS_KEY&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"yyy"&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;ATTENZIONE: Non fate girare lo script utilizzando credenziali con tutti i permessi (come il root account) o comunque con credenziali superiori a quelle strettamente necessarie per fare il dump di database RDS&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Facendo girare Terraform con tutti i privilegi AWS potreste letteramente cancellarvi il vostro ambiente in cloud, per cui ho pensato di mettere l'avviso qui sopra.&lt;/p&gt;
&lt;p&gt;A questo titolo, visto che ci ho perso un po' di tempo, mi sembra opportuno definire quali siano questi permessi di AWS IAM necessari all'esecuzione del dump, vediamoli assieme.&lt;/p&gt;
&lt;p&gt;Prima di tutto ho creato un utente e un gruppo appositi, i permessi necessari sono ovviamente definiti all'interno del gruppo, per poterli applicare piÃ¹ velocemente ad un eventuale nuovo utente futuro.&lt;/p&gt;
&lt;p&gt;Definito il gruppo "db_dumpers", ho poi creato le policy necessarie ad interagire con RDS, e sono due.&lt;/p&gt;
&lt;p&gt;La prima, fa parte delle policy pre-configurate di AmazonRDS, e si chiama:&lt;/p&gt;
&lt;p&gt;"AmazonRDSReadOnlyAccess"&lt;/p&gt;
&lt;p&gt;in json, il contenuto Ã¨ questo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Action": [
        "rds:Describe*",
        "rds:ListTagsForResource",
        "ec2:DescribeAccountAttributes",
        "ec2:DescribeAvailabilityZones",
        "ec2:DescribeInternetGateways",
        "ec2:DescribeSecurityGroups",
        "ec2:DescribeSubnets",
        "ec2:DescribeVpcAttribute",
        "ec2:DescribeVpcs"
      ],
      "Effect": "Allow",
      "Resource": "*"
    },
    {
      "Action": [
        "cloudwatch:GetMetricStatistics",
        "logs:DescribeLogStreams",
        "logs:GetLogEvents"
      ],
      "Effect": "Allow",
      "Resource": "*"
    }
  ]
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Come potete vedere, oltre a RDS contiene alcuni privilegi utili per ec2, tra cui sottoreti, security group e VPC, a cui si aggiungono permessi per il logging cloudwatch. Il tutto, ovviamente, in sola lettura.&lt;/p&gt;
&lt;p&gt;Oltre a questa policy, ne ho dovuta creare una seconda, customizzata, per permettere di agire sul servizio RDS:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "VisualEditor0",
      "Effect": "Allow",
      "Action": [
        "rds:RestoreDBInstanceFromDBSnapshot",
        "rds:CreateDBInstance",
        "rds:ModifyDBInstance",
        "rds:DeleteDBInstance"
      ],
      "Resource": [
        "arn:aws:rds:*:*:snapshot:*",
        "arn:aws:rds:*:*:secgrp:*",
        "arn:aws:rds:*:*:subgrp:*",
        "arn:aws:rds:*:*:og:*",
        "arn:aws:rds:eu-west-1:123456789012:db:db-snapshot-dumper",
        "arn:aws:rds:*:*:pg:*"
      ]
    }
  ]
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Come vedete, qui dentro si ha la possibilitÃ  di andare a creare nuove istanze di RDS, modificarle, cancellarle e su cui poi ripristinare i dati degli snapshot.&lt;/p&gt;
&lt;p&gt;Per un'ulteriore sicurezza, ho limitato i permessi di RDS solo ad alcuni ARN (che sono identificatori di risorse Amazon) specifici dell'ambiente su cui sto operando, questo perchÃ© voglio far si che questa utenza non possa fare danni sul mio db principale.&lt;/p&gt;
&lt;p&gt;Se ci fate caso, c'Ã¨ una corrispondenza uno ad uno tra l'istanza che terraform crea per assegnargli lo snapshot e l'ARN che ho definito nella policy.&lt;/p&gt;
&lt;p&gt;Dallo script main.tf:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;span class="na"&gt;identifier&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"db-snapshot-dumper"&lt;/span&gt;
&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Mentre dalla policy AWS sopra definita:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;"Resource"&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;[&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;"arn&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="s"&gt;aws:rds:*:*:snapshot:*",&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;"arn&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="s"&gt;aws:rds:*:*:secgrp:*",&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;"arn&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="s"&gt;aws:rds:*:*:subgrp:*",&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;"arn&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="s"&gt;aws:rds:*:*:og:*",&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;"arn&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="s"&gt;aws:rds:eu-west-1:123456789012:db:db-snapshot-dumper",&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;"arn&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="s"&gt;aws:rds:*:*:pg:*"&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;]&lt;/span&gt;
&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Una volta create le due policy vi basterÃ  assegnarle al gruppo "db_dumpers" per poi farci rientrare il vostro utente, di cui avrete conservato le credenziali.&lt;/p&gt;
&lt;h3&gt;Lanciare lo script&lt;/h3&gt;
&lt;p&gt;A questo punto abbiamo preparato tutto e non ci resta che lanciare lo script:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;snaptodump.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dovreste trovarvi, nel giro di qualche oretta, ad avere, nella cartella in cui avete lanciato lo script, un file con il vostro dump del db, con il formato .sql.gz&lt;/p&gt;
&lt;p&gt;Se invece qualcosa dovesse essere andato storto, riceverete un messaggio d'errore dallo script o da terraform.&lt;/p&gt;
&lt;p&gt;Vi ringrazio dell'attenzione, ovviamente in caso di problemi o di possibili migliorie, non esitate a commentare qui sotto.&lt;/p&gt;
&lt;p&gt;p.s.: commenti disabilitati (n.d.a)&lt;/p&gt;</content><category term="Tech"/><category term="AWS Cloud"/><category term="RDS"/><category term="MySQL"/><category term="Terraform"/><category term="Python"/><category term="Howto"/></entry><entry><title>Dump your db from AWS RDS snapshot with Python and Terraform</title><link href="https://www.simonemessaggi.it/2018/10/en/dump-rds-snapshot-to-sql-python-terraform/" rel="alternate"/><published>2018-10-31T00:00:00+01:00</published><updated>2018-10-31T00:00:00+01:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2018-10-31:/2018/10/en/dump-rds-snapshot-to-sql-python-terraform/</id><summary type="html">&lt;p&gt;Okay, all of you already know about Amazon cloud prowess, so I won't bore you with the details. If your instances are on AWS it's very probable you're already using their &lt;em&gt;db engine as a service&lt;/em&gt;, or &lt;strong&gt;RDS&lt;/strong&gt;* (which stands for Relational Database Service).&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Repost of article first appeared on â€¦&lt;/em&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Okay, all of you already know about Amazon cloud prowess, so I won't bore you with the details. If your instances are on AWS it's very probable you're already using their &lt;em&gt;db engine as a service&lt;/em&gt;, or &lt;strong&gt;RDS&lt;/strong&gt;* (which stands for Relational Database Service).&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Repost of article first appeared on &lt;a href="https://medium.com/@simmessa/fare-un-dump-da-uno-snapshot-rds-con-python-e-terraform-7cbd0fa026fc"&gt;Medium&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Today we are talking about a useful hack for those who use this service, and specifically, we will go to see how to create a classic db dump ( .sql format) from a database instance.&lt;/p&gt;
&lt;h2&gt;But don't backups already exist?&lt;/h2&gt;
&lt;p&gt;RDS, among the many interesting things, offers the functionality of having automatic backups, and if you have tried it you already know it is really convenient. At any time you can restore an existing snapshot or even create a new instance of the database, of which to choose the size (understood as "power" of the server), going to fish from the snapshot data.&lt;/p&gt;
&lt;p&gt;&lt;img alt="RDS has good backups, but they are not the sql dumps that serve us..." src=". /images/webp/RDS_snapshot.webp"/&gt;
&lt;em&gt;RDS has good backups, but it's not the kind of sql dumps we need...&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I often thought that these backups were already what I needed, i.e. a way like another to dump the db in compressed sql file to duplicate a service, unfortunately I realized at my expense that is not so simple, especially if you want to automate the process and you want to find the way to risk as little as possible with a live db in production.&lt;/p&gt;
&lt;p&gt;The juice of the speech is that, on RDS, it is extremely easy to duplicate a database by snapshot and creating a new instance, but the portability level of this kind of "dump" is practically null, is only valid on RDS.&lt;/p&gt;
&lt;p&gt;On the contrary, if you want to get a dump is not so trivial.&lt;/p&gt;
&lt;h2&gt;The basic method&lt;/h2&gt;
&lt;p&gt;The process is quite simple:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;We create a snapshot&lt;/li&gt;
&lt;li&gt;We launch a new instance of "small" db (e.g. a db.t2.micro, with 1 vCPU and 1 Gb of RAM) by selecting as source the snapshot that interests us&lt;/li&gt;
&lt;li&gt;We connect &lt;strong&gt;mysqldump&lt;/strong&gt;* to the new instance and produce the database dump we need&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Do it manually every time, however, I find it palloetto, so I looked for (thank you Google!) and processed a more smart and automatic method of doing it&lt;/p&gt;
&lt;h2&gt;Some LIVE shortcomings&lt;/h2&gt;
&lt;p&gt;If by chance you want to have the dump of a production database and want to avoid problems, also satisfying you with not very fresh data, I recommend you to start setting up backup jobs/creation of snapshots in the band where you have fewer accesses to your service, it may be at night, but it is up to you to discover it and, in any case, if it is a public service Google Analytics is your friend, otherwise good search in logs.&lt;/p&gt;
&lt;h2&gt;The Terraform + Python script method&lt;/h2&gt;
&lt;p&gt;As a premise, please note you'll find the sample code of this article on my profile &lt;a href="https://github.com/simmessa/rds_snaptodump"&gt;github&lt;/a&gt;. Having sorted that out, let's now see together what we have to do to go to create the dump this way.&lt;/p&gt;
&lt;p&gt;Before continuing please clone the repo and enter with:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$&lt;span class="w"&gt; &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;clone&lt;span class="w"&gt; &lt;/span&gt;https://github.com/simmessa/rds_snaptodump
&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;rds_snaptodump
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Some prerequisites&lt;/h3&gt;
&lt;p&gt;To run the repository files you need:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;terraform (for installation see below)&lt;/li&gt;
&lt;li&gt;mysqldump&lt;/li&gt;
&lt;li&gt;an AWS account with the privileges needed to interact with RDS (reading, database lists, etc.) (motr information below)&lt;/li&gt;
&lt;li&gt;python 2 (I tested with version 2.7.12)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Install Terraform&lt;/h3&gt;
&lt;p&gt;First, I suggest you install &lt;a href="https://www.terraform.io"&gt;Terraform&lt;/a&gt;, it is a tool made by the sympathetic [Hashicorp] gentlemen (https://www.hashicorp.com/) who is very useful and will open a world about how to create command-line cloud infrastructure, but, of course, this article does not allow us to deepen the subject.&lt;/p&gt;
&lt;p&gt;Know at least that, with terraform, you can launch commands that will define, based on scripts, cloud environments on AWS, GKE or other environments.&lt;/p&gt;
&lt;p&gt;I have no idea if Terraform is bundled thanks to the pkg manager of your favorite Linux distro (or maybe on &lt;a href="https://medium.com/@simmessa/install-un-ambiente-di-sviluppo-linux-su-windows-10-wsl-fc638bb4ff8e"&gt;WSL&lt;/a&gt; under windows 10), but if you need to install it from the command line the procedure is very simple, go &lt;a href="https://www.terraform.io/downloads.html"&gt;here&lt;/a&gt;, download the right binary and then unzip it where you need it:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$&lt;span class="w"&gt; &lt;/span&gt;wget&lt;span class="w"&gt; &lt;/span&gt;https://releases.hashicorp.com/terraform/0.11.10/terraform_0.11.10_linux_amd64.zip&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;unzip&lt;span class="w"&gt; &lt;/span&gt;terraform_0.11.10_linux_amd64.zip
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Is that done? Great! At this point you should find yourself with the terraform binary available and inside the previously cloned github repository.&lt;/p&gt;
&lt;p&gt;To check the terraform install, just try to run terraform via cli:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;./&lt;/span&gt;&lt;span class="n"&gt;terraform&lt;/span&gt;
&lt;span class="n"&gt;Usage&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;terraform&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;version&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;help&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;command&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;The&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;available&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;commands&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;execution&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;are&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;listed&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;below&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;span class="n"&gt;The&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;most&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;common&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;useful&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;commands&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;are&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;shown&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;first&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;followed&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;by&lt;/span&gt;
&lt;span class="n"&gt;less&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;common&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ow"&gt;or&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;more&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;advanced&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;commands&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;If&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;you&lt;/span&gt;&lt;span class="s1"&gt;'re just getting&lt;/span&gt;
&lt;span class="n"&gt;started&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;with&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Terraform&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;stick&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;with&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;common&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;commands&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;For&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;
&lt;span class="n"&gt;other&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;commands&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;please&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;help&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ow"&gt;and&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;docs&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;before&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;usage&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;span class="n"&gt;Common&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;commands&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Builds&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ow"&gt;or&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;changes&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;infrastructure&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;console&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Interactive&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;console&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Terraform&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;interpolations&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;destroy&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Destroy&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Terraform&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;managed&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;infrastructure&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;env&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Workspace&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;management&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;fmt&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Rewrites&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;canonical&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;format&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Download&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ow"&gt;and&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;install&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;modules&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;configuration&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;graph&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Create&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;visual&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;graph&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;of&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Terraform&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;resources&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;Import&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;existing&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;infrastructure&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;into&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Terraform&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;init&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Initialize&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Terraform&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;working&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;directory&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Read&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;an&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;state&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;plan&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Generate&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ow"&gt;and&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;an&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;execution&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;plan&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;providers&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Prints&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;tree&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;of&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;providers&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;used&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ow"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;configuration&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;push&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Upload&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Terraform&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;module&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Atlas&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;refresh&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Update&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;local&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;state&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;against&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;real&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;resources&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Inspect&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Terraform&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;state&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ow"&gt;or&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;plan&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;taint&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Manually&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;mark&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;resource&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;recreation&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;untaint&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Manually&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;unmark&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;resource&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;as&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;tainted&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;validate&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Validates&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Terraform&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;files&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;version&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Prints&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Terraform&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;version&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;workspace&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Workspace&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;management&lt;/span&gt;
&lt;span class="n"&gt;All&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;other&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;commands&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;debug&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Debug&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;management&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;experimental&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;force&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;unlock&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Manually&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;unlock&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;terraform&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;state&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;state&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Advanced&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;state&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;management&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If your output is like what you see above you are fine, terraform should be ready to be used.&lt;/p&gt;
&lt;h3&gt;Editing the main.tf script&lt;/h3&gt;
&lt;p&gt;Now that you have Terraform available you will have to edit the script we will use to create the instance of our database to get the dump.&lt;/p&gt;
&lt;p&gt;It's called main.tf and you'll find it below:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;provider&lt;span class="w"&gt; &lt;/span&gt;"aws"&lt;span class="w"&gt; &lt;/span&gt;{
&lt;span class="w"&gt; &lt;/span&gt;region&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;"eu-west-1"&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;put&lt;span class="w"&gt; &lt;/span&gt;your&lt;span class="w"&gt; &lt;/span&gt;AWS&lt;span class="w"&gt; &lt;/span&gt;region&lt;span class="w"&gt; &lt;/span&gt;here!
}

#&lt;span class="w"&gt; &lt;/span&gt;Get&lt;span class="w"&gt; &lt;/span&gt;latest&lt;span class="w"&gt; &lt;/span&gt;snapshot&lt;span class="w"&gt; &lt;/span&gt;from&lt;span class="w"&gt; &lt;/span&gt;production&lt;span class="w"&gt; &lt;/span&gt;DB
data&lt;span class="w"&gt; &lt;/span&gt;"aws_db_snapshot"&lt;span class="w"&gt; &lt;/span&gt;"latest_prod_snapshot"&lt;span class="w"&gt; &lt;/span&gt;{
&lt;span class="w"&gt; &lt;/span&gt;most_recent&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;true
&lt;span class="w"&gt; &lt;/span&gt;db_instance_identifier&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;"mydbname"&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;put&lt;span class="w"&gt; &lt;/span&gt;the&lt;span class="w"&gt; &lt;/span&gt;name&lt;span class="w"&gt; &lt;/span&gt;of&lt;span class="w"&gt; &lt;/span&gt;your&lt;span class="w"&gt; &lt;/span&gt;db&lt;span class="w"&gt; &lt;/span&gt;here!
}
#&lt;span class="w"&gt; &lt;/span&gt;Create&lt;span class="w"&gt; &lt;/span&gt;new&lt;span class="w"&gt; &lt;/span&gt;staging&lt;span class="w"&gt; &lt;/span&gt;DB
resource&lt;span class="w"&gt; &lt;/span&gt;"aws_db_instance"&lt;span class="w"&gt; &lt;/span&gt;"db_snapshot_dumper"&lt;span class="w"&gt; &lt;/span&gt;{
&lt;span class="w"&gt; &lt;/span&gt;instance_class&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;"db.t2.micro"
&lt;span class="w"&gt; &lt;/span&gt;identifier&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;"db-snapshot-dumper"
&lt;span class="w"&gt; &lt;/span&gt;username&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;"user"&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;necessary,&lt;span class="w"&gt; &lt;/span&gt;but&lt;span class="w"&gt; &lt;/span&gt;won't&lt;span class="w"&gt; &lt;/span&gt;be&lt;span class="w"&gt; &lt;/span&gt;used&lt;span class="w"&gt; &lt;/span&gt;since&lt;span class="w"&gt; &lt;/span&gt;a&lt;span class="w"&gt; &lt;/span&gt;snapshot&lt;span class="w"&gt; &lt;/span&gt;identifier&lt;span class="w"&gt; &lt;/span&gt;is&lt;span class="w"&gt; &lt;/span&gt;provided...
&lt;span class="w"&gt; &lt;/span&gt;password&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;"password"&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;necessary,&lt;span class="w"&gt; &lt;/span&gt;but&lt;span class="w"&gt; &lt;/span&gt;won't&lt;span class="w"&gt; &lt;/span&gt;be&lt;span class="w"&gt; &lt;/span&gt;used&lt;span class="w"&gt; &lt;/span&gt;since&lt;span class="w"&gt; &lt;/span&gt;a&lt;span class="w"&gt; &lt;/span&gt;snapshot&lt;span class="w"&gt; &lt;/span&gt;identifier&lt;span class="w"&gt; &lt;/span&gt;is&lt;span class="w"&gt; &lt;/span&gt;provided...
&lt;span class="w"&gt; &lt;/span&gt;snapshot_identifier&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;"&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;aws_db_snapshot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;latest_prod_snapshot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;"
&lt;span class="w"&gt; &lt;/span&gt;#vpc_security_group_ids&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;["sg-12345678"]&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;if&lt;span class="w"&gt; &lt;/span&gt;you&lt;span class="w"&gt; &lt;/span&gt;are&lt;span class="w"&gt; &lt;/span&gt;running&lt;span class="w"&gt; &lt;/span&gt;inside&lt;span class="w"&gt; &lt;/span&gt;a&lt;span class="w"&gt; &lt;/span&gt;VPC&lt;span class="w"&gt; &lt;/span&gt;uncomment&lt;span class="w"&gt; &lt;/span&gt;and&lt;span class="w"&gt; &lt;/span&gt;put&lt;span class="w"&gt; &lt;/span&gt;yours&lt;span class="w"&gt; &lt;/span&gt;here
&lt;span class="w"&gt; &lt;/span&gt;skip_final_snapshot&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;true&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;Won't&lt;span class="w"&gt; &lt;/span&gt;produce&lt;span class="w"&gt; &lt;/span&gt;a&lt;span class="w"&gt; &lt;/span&gt;final&lt;span class="w"&gt; &lt;/span&gt;snapshot&lt;span class="w"&gt; &lt;/span&gt;when&lt;span class="w"&gt; &lt;/span&gt;disposing&lt;span class="w"&gt; &lt;/span&gt;of&lt;span class="w"&gt; &lt;/span&gt;db
}

output&lt;span class="w"&gt; &lt;/span&gt;"address"&lt;span class="w"&gt; &lt;/span&gt;{
&lt;span class="w"&gt; &lt;/span&gt;value&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;"&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;aws_db_instance&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;db_snapshot_dumper&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;address&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;"
}

output&lt;span class="w"&gt; &lt;/span&gt;"snapshot"&lt;span class="w"&gt; &lt;/span&gt;{
&lt;span class="w"&gt; &lt;/span&gt;value&lt;span class="w"&gt; &lt;/span&gt;=&lt;span class="w"&gt; &lt;/span&gt;"&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;aws_db_instance&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;db_snapshot_dumper&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;snapshot_identifier&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;"
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;There are various things you will need to change to suit your specific case, such as the AWS region where you're going to use the RDS service:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;provider&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"aws"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;region&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"eu-west-1"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;put&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;your&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;AWS&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;region&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;here&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;[...]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and the id of your database, as shown in the RDS panel:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;span class="c1"&gt;# Get latest snapshot from production DB&lt;/span&gt;
&lt;span class="na"&gt;data "aws_db_snapshot" "latest_prod_snapshot" {&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;most_recent&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;true&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;db_instance_identifier&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"mydbname"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# put the name of your db here!&lt;/span&gt;
&lt;span class="na"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Finally, if your cloud infrastructure provides a vpc, I recommend you to uncomment the appropriate line and enter the id of your vpc:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;#vpc_security_group_ids = ["sg-12345678"] # if you are running inside a VPC uncomment and put yours here&lt;/span&gt;
&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I would like to take this opportunity to point out that we did not have to give Terraform the id of a specific snapshot, on the contrary, we asked him to use the latest available snapshot (most_recent = true):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;span class="c1"&gt;# Get latest snapshot from production DB&lt;/span&gt;
&lt;span class="na"&gt;data "aws_db_snapshot" "latest_prod_snapshot" {&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;most_recent&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;true&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;db_instance_identifier&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"mydbname"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# put the name of your db here!&lt;/span&gt;
&lt;span class="na"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I find it wonderful, for my purposes, but if you need a specific snapshot, I refer you to the pretty decent &lt;a href="https://www.terraform.io/docs/providers/aws/db_snapshot.html"&gt;Terraform docs page&lt;/a&gt; for the fine details.&lt;/p&gt;
&lt;p&gt;Once we do this we can switch to the Python part of our dumper.&lt;/p&gt;
&lt;h3&gt;Edit the Python snaptodump.py script&lt;/h3&gt;
&lt;p&gt;The script "snaptodump.py" in its "original" form can be found below:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;#Python&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;sys&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;argv&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;datetime&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;datetime&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;os&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;os.path&lt;/span&gt;
&lt;span class="n"&gt;start_time&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;now&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="c1"&gt;# MySQL setup: put the MySQL user with dump permission and database name here&lt;/span&gt;
&lt;span class="c1"&gt;# password will be asked interactively later: &lt;/span&gt;
&lt;span class="n"&gt;dbusr&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"your_mysql_username"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;dbname&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"your_mysql_database_name"&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"""&lt;/span&gt;
&lt;span class="s2"&gt;This script will launch Terraform to dump the latest snapshot of prod db&lt;/span&gt;
&lt;span class="s2"&gt;PREREQUISITES:&lt;/span&gt;
&lt;span class="s2"&gt;You need AWS tokens setup as ENV vars or Terraform won't work:&lt;/span&gt;
&lt;span class="s2"&gt;export AWS_ACCESS_KEY_ID="xxx"&lt;/span&gt;
&lt;span class="s2"&gt;export AWS_SECRET_ACCESS_KEY="yyy"&lt;/span&gt;
&lt;span class="s2"&gt;USAGE:&lt;/span&gt;
&lt;span class="s2"&gt;python snaptodump.py&lt;/span&gt;
&lt;span class="s2"&gt;*** WARNING ***&lt;/span&gt;
&lt;span class="s2"&gt;This tool requires the mysqldump binary installed on your system and the necessary free space on your local disk for dumping!&lt;/span&gt;
&lt;span class="s2"&gt;"""&lt;/span&gt;
&lt;span class="n"&gt;terraform_init_dir&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"./.terraform"&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exists&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;terraform_init_dir&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"terraform init already ran!&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;system&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"./terraform init"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;system&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"./terraform apply"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"*** ERROR while applying terraform config, dumping stopped! ***"&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;host&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;popen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'./terraform output address'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;popen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'./terraform output snapshot'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;".sql.gz"&lt;/span&gt;
&lt;span class="n"&gt;dumpcmd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"mysqldump -h &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt; -u &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt; --compress -p &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt; |gzip &amp;gt; &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;host&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;''&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;dbusr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;dbname&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;''&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"Next step is mysqldump, you will be asked for a MySQL password&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
&lt;span class="n"&gt;dbdump_start&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;now&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;system&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;dumpcmd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"An error occurred!"&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"command was: &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;dumpcmd&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"All done!"&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"Db dumped in &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;now&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;dbdump_start&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;#Now let's destroy our temp RDS instance&lt;/span&gt;
&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;system&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"./terraform destroy "&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;#Feeling bold? comment previous command and enable this!&lt;/span&gt;
&lt;span class="c1"&gt;#os.system( "./terraform destroy -auto-approve"&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"Total procedure completed in &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;now&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;start_time&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;#print dumpcmd&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;[...]
dbusr = "your_mysql_username"
dbname = "your_mysql_database_name"
[...]
``&lt;/p&gt;
&lt;p&gt;will become, for example:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;[...]
dbusr = "pete"
dbname = "dbproduction"
[...]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;At this point, if you try to launch the script:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;snaptodump.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You will notice that, in order to work, it needs the AWS authentication part, without which Terraform cannot dialogue with AWS.&lt;/p&gt;
&lt;h3&gt;Authentication and AWS access keys&lt;/h3&gt;
&lt;p&gt;To interact with the AWS cloud, you need to define two system variables, containing your RDS credentials:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;export&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;AWS_ACCESS_KEY_ID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"xxx"&lt;/span&gt;
&lt;span class="k"&gt;export&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;AWS_SECRET_ACCESS_KEY&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"yyyy"&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;WARNING: Do not run the script using credentials with all permissions (such as root account) or in any case with credentials higher than those strictly necessary to dump RDS&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;By running Terraform with all AWS privileges you might literally erase your environment in the cloud, so I thought I'd put the notice above. You've been warned!&lt;/p&gt;
&lt;p&gt;In this respect, since I lost some time, it seems only appropriate to define what these AWS IAM permits are necessary for the execution of the dump, let's see them together.&lt;/p&gt;
&lt;p&gt;First of all, I created a user and a specific group, the necessary permissions are obviously defined within the group, so that they can be applied faster to a new future user.&lt;/p&gt;
&lt;p&gt;The group name is "db_dumpers". I then created the policies necessary to interact with RDS, specifically two of them.&lt;/p&gt;
&lt;p&gt;The first is part of AmazonRDS's pre-configured policies, and it's called:&lt;/p&gt;
&lt;p&gt;"AmazonRDSReadOnlyAccess"&lt;/p&gt;
&lt;p&gt;in json, the content looks like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Action": [
        "rds:Describe*",
        "rds:ListTagsForResource",
        "ec2:DescribeAccountAttributes",
        "ec2:DescribeAvailabilityZones",
        "ec2:DescribeInternetGateways",
        "ec2:DescribeSecurityGroups",
        "ec2:DescribeSubnets",
        "ec2:DescribeVpcAttribute",
        "ec2:DescribeVpcs"
      ],
      "Effect": "Allow",
      "Resource": "*"
    },
    {
      "Action": [
        "cloudwatch:GetMetricStatistics",
        "logs:DescribeLogStreams",
        "logs:GetLogEvents"
      ],
      "Effect": "Allow",
      "Resource": "*"
    }
  ]
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As you can see, in addition to RDS this policy contains some useful privileges for ec2, including sub-networks, security groups and VPC, which are also allowed for cloudwatch logging. All of it, of course, in read only mode.&lt;/p&gt;
&lt;p&gt;In addition to this policy, I had to create a second, custom policy, to allow action on the RDS service:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "VisualEditor0",
      "Effect": "Allow",
      "Action": [
        "rds:RestoreDBInstanceFromDBSnapshot",
        "rds:CreateDBInstance",
        "rds:ModifyDBInstance",
        "rds:DeleteDBInstance"
      ],
      "Resource": [
        "arn:aws:rds:*:*:snapshot:*",
        "arn:aws:rds:*:*:secgrp:*",
        "arn:aws:rds:*:*:subgrp:*",
        "arn:aws:rds:*:*:og:*",
        "arn:aws:rds:eu-west-1:123456789012:db:db-snapshot-dumper",
        "arn:aws:rds:*:*:pg:*"
      ]
    }
  ]
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As you can see, here we have the opportunity to create new instances of RDS, edit them, delete them and then restore snapshot data.&lt;/p&gt;
&lt;p&gt;For further safety, I have limited RDS permissions only to some ARN (which are Amazon resource identifiers) specific to the environment on which I am operating, because I want this user to not touch or harm my main db.&lt;/p&gt;
&lt;p&gt;If you do it, there is a match between the instance that terraform creates to assign the snapshot and the ARN that I defined in the policy.&lt;/p&gt;
&lt;p&gt;From the main.tf script:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;span class="na"&gt;identifier&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"db-snapshot-dumper"&lt;/span&gt;
&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;While from the above-defined AWS policy:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;"Resource"&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;[&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;"arn&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="s"&gt;aws:rds:*:*:snapshot:*",&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;"arn&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="s"&gt;aws:rds:*:*:secgrp:*",&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;"arn&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="s"&gt;aws:rds:*:*:subgrp:*",&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;"arn&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="s"&gt;aws:rds:*:*:og:*",&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;"arn&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="s"&gt;aws:rds:eu-west-1:123456789012:db:db-snapshot-dumper",&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;"arn&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="s"&gt;aws:rds:*:*:pg:*"&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;]&lt;/span&gt;
&lt;span class="k"&gt;[...]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once you create the two policies you will just assign them to the group "db_dumpers" and then return your user, of which you will have kept the credentials.&lt;/p&gt;
&lt;h3&gt;Launch the script&lt;/h3&gt;
&lt;p&gt;At this point we have prepared everything and we just have to launch the script:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;snaptodump.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You should find, within a few hours, in the same folder where you launched the script, a file with your db dump, with the desired .sql.gz format&lt;/p&gt;
&lt;p&gt;If something went wrong, you will receive an error message from the script or terraform instead.&lt;/p&gt;
&lt;p&gt;Thank you for your attention, of course in case of problems or possible improvements, do not hesitate to comment below.&lt;/p&gt;
&lt;p&gt;p.s.: sorry no more comments (editor note)&lt;/p&gt;</content><category term="Tech"/><category term="AWS Cloud"/><category term="RDS"/><category term="MySQL"/><category term="Terraform"/><category term="Python"/></entry><entry><title>Lo stato della fibra a Rivolta d'Adda</title><link href="https://www.simonemessaggi.it/2018/08/lo-stato-della-fibra-a-rivolta-dadda/" rel="alternate"/><published>2018-08-07T00:00:00+02:00</published><updated>2018-08-07T00:00:00+02:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2018-08-07:/2018/08/lo-stato-della-fibra-a-rivolta-dadda/</id><summary type="html">&lt;p&gt;Scrivo questo post per predirre il futuro, quindi probabilmente mi sbaglierÃ², ma tant'Ã¨.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;7 Agosto 2018&lt;/strong&gt;, e nel mio comune, in provincia di Cremona, ancora niente fibra.&lt;/p&gt;
&lt;p&gt;Non mi sto lamentando, non ancora.&lt;/p&gt;
&lt;p&gt;A dire il vero ci siamo mossi come gli altri, anzi meglio, andando addirittura verso una soluzione â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Scrivo questo post per predirre il futuro, quindi probabilmente mi sbaglierÃ², ma tant'Ã¨.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;7 Agosto 2018&lt;/strong&gt;, e nel mio comune, in provincia di Cremona, ancora niente fibra.&lt;/p&gt;
&lt;p&gt;Non mi sto lamentando, non ancora.&lt;/p&gt;
&lt;p&gt;A dire il vero ci siamo mossi come gli altri, anzi meglio, andando addirittura verso una soluzione tecnologicamente superiore, piÃ¹ all'avanguardia, peccato perÃ² che siamo ancora senza.&lt;/p&gt;
&lt;p&gt;Quello che segue Ã¨ quanto ho scoperto dopo varie ricerche, sul destino della fibra ottica a Rivolta d'Adda.&lt;/p&gt;
&lt;h2&gt;Gli altri si, noi no&lt;/h2&gt;
&lt;p&gt;Questa riflessione parte, prima di tutto da una constatazione, tutti (o quasi) i comuni che confinano con Rivolta d'Adda hanno giÃ  la connettivitÃ  in fibra ottica di TIM.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Rivolta d'Adda uno dei comuni in ritardo sulla fibra ottica" src="/images/webp/fibra_rivolta.webp"/&gt;
&lt;em&gt;I comuni limitrofi sono quasi tutti serviti dalla rete in fibra...&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Ecco una lista:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Truccazzano / Albignano:&lt;/strong&gt; fibra fttcab-vdsl da cabinet WHS dal 12-2-2018, profilo massimo da 100/20 MB&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Casirate d'Adda:&lt;/strong&gt; fibra fttcab-vdsl da cabinet WHS pianificata da ottobre 2018 profilo massimo da 100/20 MB&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Casirate d'Adda:&lt;/strong&gt; fibra fttcab-vdsl da cabinet WHS pianificata da ottobre 2018 profilo massimo da 100/20 MB&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Pandino:&lt;/strong&gt; fibra fttcab-vdsl da cabinet WHS dal 28-11-2016, profilo massimo da 100/20 MB&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Agnadello:&lt;/strong&gt; no fibra&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Spino d'adda:&lt;/strong&gt; fibra fttcab-vdsl da cabinet WHS dal 7-8-2017, profilo massimo da 100/20 MB&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Comazzo:&lt;/strong&gt; no fibra&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Cassano d'Adda:&lt;/strong&gt; fibra fttcab-vdsl da cabinet WHS dal 4-9-2017, profilo massimo da 100/20 MB&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Pozzuolo martesana:&lt;/strong&gt; fibra fttcab-vdsl da cabinet WHS dal 24-7-2017, profilo massimo da 100/20 MB&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Treviglio:&lt;/strong&gt; fibra fttcab-vdsl da cabinet WHS dal 15-7-2015, profilo massimo da 100/20 MB&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;come fonte di queste rilevazioni ho usato la pagina apposita di planetel:&lt;/p&gt;
&lt;p&gt;https://fibra.planetel.it/&lt;/p&gt;
&lt;p&gt;che vi consiglio perchÃ© Ã¨ comoda da usare e abbastanza leggibile, seppure a tratti un po' criptica.&lt;/p&gt;
&lt;p&gt;Come potete vedere molti comuni davvero vicini o confinanti con Rivolta d'Adda e confrontabili per dimensioni e numero di abitanti hanno la connettivitÃ  in fibra da qualche tempo.&lt;/p&gt;
&lt;p&gt;Per altri la copertura in fibra ottica perlomeno Ã¨ pianificata, con una data certa (ottobre 2018).&lt;/p&gt;
&lt;p&gt;Rivolta d'adda no, Ã¨ diversa, e come Agnadello e Comazzo niente Ã¨ dato sapere sulla situazione della fibra ottica.&lt;/p&gt;
&lt;p&gt;Fortunatamente ho scoperto che i piani esistono, anche se non sono troppo chiari.&lt;/p&gt;
&lt;h2&gt;La convenzione dei 48 comuni&lt;/h2&gt;
&lt;p&gt;Andando a spulciare qua e la, mi sono trovato davanti le liste che il portale wholesale di TIM e la pagina di analisi vendibilitÃ  (il link non e' piu' valido, 404) mettono a disposizione per la consultazione dei lavori. Su questi giganteschi fogli excel ho trovato parecchie informazioni, tra cui gli armadi pianificati e il calendario delle installazioni, ma purtroppo ho notato che alcuni comuni per telecom proprio NON ESISTONO.&lt;/p&gt;
&lt;p&gt;Ad esempio Rivolta d'Adda, che non Ã¨ pianificato, non Ã¨ giÃ  realizzato, proprio non Ã¨ compreso nelle liste.&lt;/p&gt;
&lt;p&gt;Queste liste vengono aggiornate mese per mese, per cui, mi sono detto, se l'informazione che cerco oggi non c'Ã¨ ci sarÃ  domani, quindi ho tenuto sotto controllo questa pagina per vari mesi, inutilmente.&lt;/p&gt;
&lt;p&gt;A quanto pare Rivolta d'Adda, ma anche Agnadello e forse Comazzo, appartengono per TIM alle cosiddette zone "a fallimento di mercato" per cui non conviene fare alcun lavoro di creazione di un'infrastruttura in fibra ottica perchÃ© il numero dei clienti che andranno a sottoscrivere l'offerta commerciale non andrÃ  a coprire i costi di investimento per il cablaggio in fibra.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Tutto questo alla faccia del digital divide.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Ovviamente non ho desistito, perchÃ© il problema mi colpisce direttamente, da buon smanettone ho concentrato le mie energie in ulteriori ricerche.&lt;/p&gt;
&lt;p&gt;Sono arrivato alla fine a &lt;a href="https://www.comune.madignano.cr.it/public/atti/allegato_181.pdf"&gt;questo documento&lt;/a&gt;, disponibile sul sito internet del comune di Madignano, che non fa nemmeno schifo, al contrario di quello di Rivolta d'Adda, ma questo Ã¨ un parere strettamente personale.&lt;/p&gt;
&lt;p&gt;Se leggete la carta, si tratta di un protocollo d'intesa tra 48 comuni della provincia di Cremona, tutti parte di una stessa area, il cremasco, che firmano e aderiscono ad una convenzione tra il comune capofila (Casaletto Ceredano) e Infratel S.p.A.&lt;/p&gt;
&lt;p&gt;La convenzione prevede per il comune capofila e per gli altri 47 di affidarsi ad Infratel Italia S.p.A. per &lt;em&gt;la posa di infrastrutture in fibra ottica per telecomunicazioni per la realizzazione di reti in fibra ottica per la banda ultra larga&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Un tantino ridondante si, ma &lt;strong&gt;Ã¨ tutto vero.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Il documento Ã¨ stato approvato dal Comune di Madignano il 7 febbraio 2017, non so se si puÃ² dire lo stesso per gli altri comuni, ma dubito ci siano sostanziali differenze.&lt;/p&gt;
&lt;h2&gt;Una buona notizia e una cattiva...&lt;/h2&gt;
&lt;p&gt;Beh, la buona notizia Ã¨ che per i 48 comuni la convenzione non porterÃ  soltanto alla banda larga, ma alla cosiddetta banda ultra larga, questo sostanzialmente significa che  dovremo avere un profilo non da 100/20 MB come quelli degli altri paesi, ma da 300 MB. Al momento non mi Ã¨ chiaro esattamente qual'Ã¨ la tecnologia impiegata, anche perchÃ© dalla convenzione non si capisce, ma dal &lt;a href="https://openfiber.it/it"&gt;sito di Openfiber&lt;/a&gt; (vedremo poi cosa centra con Infratel) si intuisce che dovrebbe essere connettivitÃ  FTTH, cioÃ¨ &lt;em&gt;Fiber To The Home&lt;/em&gt;, fibra ottica che arriva direttamente in casa.&lt;/p&gt;
&lt;p&gt;Dalla convenzione ho verificato che Rivolta d'Adda sia effettivamente parte della copertura in fibra, potete farlo anche voi se fate parte dei 48 comuni o di altre convenzioni simili, alla &lt;a href="https://openfiber.it/it/fibra-ottica/area-infratel/piano-copertura-infratel"&gt;pagina apposita&lt;/a&gt; di Openfiber.&lt;/p&gt;
&lt;h2&gt;E la cattiva notizia?&lt;/h2&gt;
&lt;p&gt;La cattiva notizia riguarda i tempi, purtroppo, ed Ã¨ la ragione per cui, ancora oggi molti comuni a fallimento di mercato sono in questa situazione di stallo.&lt;/p&gt;
&lt;p&gt;Per la copertura in fibra Infratel S.p.a. ha indetto due gare, entrambe aggiudicate da OpenFiber (che Ã¨ parte di Enel), la prima gara ha coinvolto 3000 comuni tra Abruzzo, Molise, Emilia Romagna, Toscana e Veneto, la seconda altri 3700 comuni in Basilicata, Campania, Friuli V.G. Lazio, Liguria, Marche, Piemonte, Provincia autonoma di Trento, Sicilia, Umbria e Valle d'Aosta.&lt;/p&gt;
&lt;p&gt;Considerato che i comuni italiani sono 7.982, in pratica mi viene da pensare che Telecom si sia interessata solo dei principali o comunque di quelli in cui poteva realizzare buoni profitti, visto i 6700 coperti da Infratel.&lt;/p&gt;
&lt;p&gt;Assurdo perÃ² pensare che il ragionamento fosse cosÃ¬ diverso ai tempi dell'ADSL, che il comune di Rivolta d'Adda l'ha coperto da tempo, come tutti gli altri, forse i costi erano diversi e non richiedevano chissÃ  quale investimento, se avete qualcosa da aggiungere vi prego di farmelo sapere qui nei commenti.&lt;/p&gt;
&lt;p&gt;Rivolta d'Adda, essendo uno dei 48 comuni che hanno sottoscritto la convenzione fa parte del primo bando, ma Ã¨ in fase 3.&lt;/p&gt;
&lt;p&gt;La brutta notizia Ã¨ che la fase 3 Ã¨ prevista a partire dal primo semestre 2019, quindi c'Ã¨ ancora da attendere...&lt;/p&gt;
&lt;h2&gt;Ma TIM non sta a guardare&lt;/h2&gt;
&lt;p&gt;Parte di questa ricerca Ã¨ nata dalla curiositÃ  che mi Ã¨ scattata nel vedere vari lavori stradali nel comune di Rivolta d'Adda.&lt;/p&gt;
&lt;p&gt;Da poco hanno sostituito i vecchi lampioni con quelli nuovi a LED, hanno creato nuove cabine elettriche (della socierÃ  Hera) e contemporaneamente qualcuno sostiene che TIM se ne sia avvalsa o abbia fatto lavori analoghi per la posa di fasci di fibre ottiche.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Le cabine Hera sembrano un po grandi per quello che fanno" src="/images/webp/hera.webp"/&gt;
&lt;em&gt;La speranza ha la forma di cabina elettrica&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Questo avveniva un anno fa, durante l'estate del 2017.&lt;/p&gt;
&lt;p&gt;Ai curiosi chi si occupava dei lavori di cablaggio rispondeva (a che titolo? non saprei, e potrei anche sbagliarmi) dicendo che:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;TIM sta arrivando, l'attivazione dell'offerta in fibra Ã¨ molto, molto vicina, non Ã¨ l'unica perÃ² arriva anche un'altra, una certa Infratel, o una roba cosÃ¬, ma ci vorranno anni...&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Qualcuno giura di aver visto i cavi posati e che si, sono fibre ottiche, io personalmente non posso confermare o smentire le cose che ho sentito dire, mi hanno mostrato addirittura delle foto ma preferisco prenderle con lo spirito di San Tommaso, &lt;strong&gt;finchÃ© non vedo non credo.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Ad ogni modo un altro anno Ã¨ passato e ho perso il conto delle volte che ho verificato la copertura in fibra sul sito di TIM, ma nulla, non sembra esistere niente di ufficiale.&lt;/p&gt;
&lt;p&gt;Quello che penso Ã¨ che TIM, vista l'opportunitÃ  commerciale, abbia preferito mettere le mani avanti e impostare un minimo di  infrastruttura sua.&lt;/p&gt;
&lt;h2&gt;Fibra TIM, forse si, forse no...&lt;/h2&gt;
&lt;p&gt;Preso dalla curiositÃ  contatto gli addetti TIM al telefono; mi dicono che la fibra arriverÃ  ma non si sa quando, e che dipende dal numero di richieste che riceveranno !?!&lt;/p&gt;
&lt;p&gt;Qui sta secondo me la loro pratica commerciale scorretta, invitano l'utente a diventare comunque cliente, offrendo entro 60gg il collegamento, ma evitando di sbilanciarsi sul fatto che sia effettivamente fibra ottica e magari attivando una vetusta ADSL (da 7 MB, sigh).&lt;/p&gt;
&lt;p&gt;Ed Ã¨ qui che si beccano il mio piÃ¹ sonoro "vaffanculo", sono stato cliente Telecom per tutta la vita, ma quando si tratta di prese per i fondelli ho giÃ  dato.&lt;/p&gt;
&lt;p&gt;Diventando clienti si acquisisce comunque questa sorta di "diritto al voto" che potrebbe velocizzare i loro tempi !@#$ ...se ci credete.&lt;/p&gt;
&lt;h2&gt;Previsione del furto&lt;/h2&gt;
&lt;p&gt;Personalmente mi immagino giÃ  quello che succederÃ , ad un paio di mesi dall'attivazione della fibra FTTH Openfiber penserÃ  mamma telecom, come sempre, ad attivare qualcosa per prima, Ã¨ facile a farsi se i cavi sono giÃ  posati, basta mettere gli apparati e il gioco Ã¨ fatto.&lt;/p&gt;
&lt;p&gt;Poi inizierÃ  a battere il mercato, con i suoi agenti, scatenando l'ira del call center, e cercherÃ  di piazzare quanti piÃ¹ contratti possibile.&lt;/p&gt;
&lt;p&gt;Chiameranno dicendo: &lt;em&gt;Lei lo sa che nel suo paese TIM attiverÃ  la rete super mega minchia ultra veloce in fibra ottica?? c'Ã¨ anche la super offerta mina ballerina di flamenco da 29â‚¬ al mese per il primo anno&lt;/em&gt; (* poi 59â‚¬ al mese...li mortacci...)&lt;/p&gt;
&lt;p&gt;E molti cittadini secondo me ci cadranno, perchÃ© non avranno letto questo post e penseranno solo &lt;strong&gt;FINALMENTE&lt;/strong&gt; arriva sta ca**o di fibra.&lt;/p&gt;
&lt;p&gt;E sarÃ  FTTC, mezza fibra, ma meglio di niente, poi, silenziosamente, verranno a sapere che c'era anche quella vera, la FTTH, che ce la poteva portare Enel oppure uno dei suoi partner (Vodafone, Wind, Tiscali, Fastweb e vari altri piÃ¹ o meno sconosciuti...), ma sarÃ  troppo tardi, perchÃ© si saranno giÃ  invischiati in un &lt;a href="https://www.aranzulla.it/disdetta-telecom-41813.html"&gt;contratto&lt;/a&gt; di 24 mesi con penale sul recesso...&lt;/p&gt;
&lt;h2&gt;Hera + Openfiber&lt;/h2&gt;
&lt;p&gt;Questa Ã¨ la parte in cui ufficialmente non capisco piÃ¹ un beneamato cz.&lt;/p&gt;
&lt;p&gt;Pare che in alcune cittÃ  italiane, tra cui ad esempio &lt;a href="http://www.gruppohera.it/gruppo/com_media/news/pagina655.html"&gt;Imola e Modena&lt;/a&gt;, Hera e Openfiber abbiano fatto squadra cablando reti in fibra FTTH da 1 GB.&lt;/p&gt;
&lt;p&gt;Non penso che questa cosa avverrÃ  a Rivolta d'Adda, ma Ã¨ lecito avere dei sogni, e comunque ora mi spiego la dimensione spropositata dei cabinet Hera che ho visto in giro per il paese...che siano giÃ  pronte ad ospitare switch router e altri apparati vari?&lt;/p&gt;
&lt;p&gt;La speranza Ã¨ l'ultima a morire, penso che nel peggiore dei casi verremo a saperlo con il nuovo anno.&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;~~2018~~ 2019, l'anno della fibra a Rivolta d'Adda&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;Almeno spero.&lt;/p&gt;</content><category term="Rants"/><category term="Fibra ottica"/><category term="Digital divide"/></entry><entry><title>PerchÃ© Wordpress non Ã¨ adatto ai siti di grosse dimensioni</title><link href="https://www.simonemessaggi.it/2018/06/perche-wordpress-non-e-adatto-ai-siti-di-grosse-dimensioni/" rel="alternate"/><published>2018-06-13T00:00:00+02:00</published><updated>2018-06-13T00:00:00+02:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2018-06-13:/2018/06/perche-wordpress-non-e-adatto-ai-siti-di-grosse-dimensioni/</id><summary type="html">&lt;p&gt;Era un po' che volevo scrivere questo articolo, per varie ragioni, ma soprattutto per chiarire alcuni concetti che spesso mi trovo a ribadire in ambito professionale.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Repost di articolo apparso per la prima volta su &lt;a href="https://medium.com/@simmessa/perch%C3%A9-wordpress-non-%C3%A8-adatto-ai-siti-di-grosse-dimensioni-890be4e320a8"&gt;Medium&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h2&gt;Wordpress Ã¨ un cesso&lt;/h2&gt;
&lt;p&gt;Ma come?! Il CMS del popolo, il piÃ¹ usato (secondo â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Era un po' che volevo scrivere questo articolo, per varie ragioni, ma soprattutto per chiarire alcuni concetti che spesso mi trovo a ribadire in ambito professionale.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Repost di articolo apparso per la prima volta su &lt;a href="https://medium.com/@simmessa/perch%C3%A9-wordpress-non-%C3%A8-adatto-ai-siti-di-grosse-dimensioni-890be4e320a8"&gt;Medium&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h2&gt;Wordpress Ã¨ un cesso&lt;/h2&gt;
&lt;p&gt;Ma come?! Il CMS del popolo, il piÃ¹ usato (secondo &lt;a href="https://thenextweb.com/dd/2018/03/05/30-of-the-web-now-runs-on-wordpress/"&gt;una ricerca&lt;/a&gt; a Marzo 2018 il 30% dei siti di Internet utilizza Wordpress), il piÃ¹ sviluppato e quello con il maggior numero di plugin di successo, come puÃ² essere un bidone? Sicuramente ti stai sbagliando.&lt;/p&gt;
&lt;p&gt;Non vorrei essere fraintesto, lavoro dal 2005 nel Web e dall'inizio della mia attivitÃ  ho realizzato, gestito e mantenuto online centinaia di siti Wordpress, tanto per darvi un'idea la prima versione io abbia mai installato Ã¨ stata la 1.5, 13 anni fa.&lt;/p&gt;
&lt;p&gt;Ho scritto temi, plugin, ne ho installati varie centinaia di giÃ  fatti, free e a pagamento, quindi penso di poter tranquillamente smentire chi crede che questa mia critica nasca dall'ignoranza di questo CMS.&lt;/p&gt;
&lt;p&gt;Ma allora, qual'Ã¨ il vero problema di Wordpress?&lt;/p&gt;
&lt;p&gt;Il piÃ¹ grave difetto di Wordpress, che lo rende di fatto inutilizzabile per siti di dimensioni "importanti" sono le performance, e il problema nasce dal modello che gli sviluppatori hanno utilizzato per salvare i dati nel database relazionale (in genere MySQl).&lt;/p&gt;
&lt;h3&gt;La maledizione dell'EAV&lt;/h3&gt;
&lt;p&gt;Non Ã¨ possibile valutare le performance di un CMS nel vuoto assoluto, perchÃ© trattandosi, appunto, di un problema di risorse, per farlo Ã¨ necessario considerare un sistema fatto da:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Il CMS usato, nel nostro caso Wordpress ([latest] (https://wordpress.org/latest.zip), nel momento in cui scrivo Ã¨ la versione 4.9.6)&lt;/li&gt;
&lt;li&gt;l'hardware su cui questo CMS gira&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ora, qualsiasi sia l'hardware preso in esame, Wordpress Ã¨ un CMS estremamente affamato in termini di memoria e CPU, questo Ã¨ un dato di fatto, il problema puÃ² sembrare meno grave impiegando un server piÃ¹ potente ma, in ultima analisi, il vero problema di Wordpress &lt;strong&gt;sta nel modo in cui usa il database.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Wordpress, infatti, impiega per i suoi dati un modello detto EAV, ovvero Entity Attribute Value, la forza di questo modello Ã¨ sicuramente la flessibilitÃ , la debolezza, senza dubbio sono le scarse performance.&lt;/p&gt;
&lt;p&gt;In cosa consiste EAV? Vediamolo.&lt;/p&gt;
&lt;p&gt;In condizioni normali, una tabella su un database SQL segue una struttura di questo tipo:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;workers table, non EAV&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;id&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;nome&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;cognome&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;lavoro&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;etÃ &lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;--&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="o"&gt;:-&lt;/span&gt;&lt;span class="s s-Atom"&gt;-------&lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="o"&gt;:-&lt;/span&gt;&lt;span class="s s-Atom"&gt;-------&lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;---------:&lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;---:&lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Simone&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Messaggi&lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Ops&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;39&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Mario&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Rossi&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Dev&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;23&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Zio&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Ntunello&lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Dev&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;45&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Questo Ã¨ lo standard, e, se volete, il modello per cui i database relazionali sono stati creati ed ottimizzati nel tempo.&lt;/p&gt;
&lt;p&gt;Al contrario, in EAV, ogni colonna viene salvata in una riga:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;workersmeta table, EAV&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;pseudo_id&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;id&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;chiave&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nb"&gt;val&lt;/span&gt;&lt;span class="s s-Atom"&gt;ore&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;---------&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="o"&gt;:-&lt;/span&gt;&lt;span class="s s-Atom"&gt;-:&lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="o"&gt;:-&lt;/span&gt;&lt;span class="s s-Atom"&gt;-------&lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;--------:&lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;nome&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Simone&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;cognome&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Messaggi&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;lavoro&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Devops&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;etÃ &lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;39&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;nome&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Mario&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;cognome&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Rossi&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;lavoro&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Soubrette&lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;etÃ &lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;23&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;9&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;nome&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Zio&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;cognome&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Ntunello&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;11&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;lavoro&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nv"&gt;Baguette&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;12&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;etÃ &lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;45&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Questo approccio, come dicevo, di esprimere le colonne come righe, ha il vantaggio di permettere facilmente la rimozione o l'inserimento di nuove "colonne" senza dover stravolgere la struttura delle tabelle. Inoltre, modificare le colonne Ã¨ un'operazione costosa, a livello di performance, mentre i cambiamenti nelle righe sono il pane quotidiano di SQL e molto piÃ¹ veloci da effettuare.&lt;/p&gt;
&lt;p&gt;Nel caso di Wordpress, questo approccio EAV Ã¨ stato scelto proprio perchÃ© Ã¨ un CMS dinamico e deve modificarsi nella struttura e nelle funzionalitÃ  costantemente, quindi il fatto di non aver particolari vincoli sulle colonne Ã¨ abbastanza strategico.&lt;/p&gt;
&lt;p&gt;Peccato perÃ² che questo approccio sia un totale disastro in termini di performance, per vedere la differenza immaginiamoci di fare una semplice query che trovi tutti i Dev che hanno piÃ¹ di 30 anni,&lt;/p&gt;
&lt;p&gt;con la tabella normale, la query sarebbe:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;select * from lavoratori where 'etÃ ' &amp;gt; 30 and 'lavoro'='Dev'&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;mentre, in caso di tabella con struttura EAV avremmo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;select etÃ .id, nome.valore as nome, etÃ .valore as etÃ 
from workersmeta etÃ , workersmeta nome, workersmeta lavoro
where etÃ .chiave='etÃ ' and etÃ .valore&amp;gt;'50'
and etÃ .id=nome.id
and lavoro.id=etÃ .id
and lavoro.chiave='lavoro' and lavoro.valore='Dev'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;E questa query ricostruisce una tabella con piÃ¹ colonne creando &lt;strong&gt;varie tabelle temporanee&lt;/strong&gt; che poi vengono "joinate" tramite un valore "id" comune.&lt;/p&gt;
&lt;p&gt;Ora, piÃ¹ operazioni si fanno sul DB e piÃ¹ una query diventa costosa, ma il vero problema Ã¨ che ci sono alzune operazioni su DB che sono ben piÃ¹ costose di altre, e in questo caso ne abbiamo due:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;creazione di tabelle (temporanee)&lt;/li&gt;
&lt;li&gt;join di tabelle&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Parametrizzando il costo computazionale possiamo dire che, se una tabella come quella vista ha N righe, la query EAV ha un costo di NxN, questo significa che al crescere del numero di dati nel nostro database il costo computazionale, quindi la lentezza delle query, cresce a dismisura.&lt;/p&gt;
&lt;p&gt;MySQL fornisce parecchie ottimizzazioni per le performance, ma nel caso del modella EAV stiamo avvicinandoci parecchio al "caso peggiore" dal punto di vista del costo computazionale.&lt;/p&gt;
&lt;p&gt;Se ci addentriamo in una classica query di join, le cose si fanno anche peggiori.&lt;/p&gt;
&lt;p&gt;Ad esempio, se prendiamo questa struttura del DB con i dati dei turni dei nostri lavoratori:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Turns table, non EAV:&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;worker_id&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;turn_date&lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="s s-Atom"&gt;---------&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="o"&gt;:-&lt;/span&gt;&lt;span class="s s-Atom"&gt;--------&lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;2018&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;2018&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;2018&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="p"&gt;...&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="p"&gt;...&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;e facciamo la query per trovare i lavoratori di turno il giorno 2 giugno 2018:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;select * from turns, workers where turns.worker_id=workers.id and turn_date='2018-6-2'&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;con la tabella in forma EAV, le cose si fanno ancora piÃ¹ complesse:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;select * from workersmeta,
(select worker_id,
from turnsmeta o1, turnsmeta o2, workers
where o1.worker_id=o2.worker_id
and o1.worker_id=workers.ID
and o2.turn_date='2018-6-2') t
where workersmeta.worker_id=t.ID 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;CioÃ¨ la &lt;em&gt;join&lt;/em&gt; vista sopra diventa una &lt;em&gt;self-inner join&lt;/em&gt; piÃ¹ una &lt;em&gt;table join&lt;/em&gt; annidata.&lt;/p&gt;
&lt;p&gt;Nel caso di M turni su N lavoratori avremo una complessitÃ  di &lt;strong&gt;MxNxN&lt;/strong&gt;, che Ã¨ davvero mostruosa.&lt;/p&gt;
&lt;h2&gt;Wordpress e tipi di record MySQL&lt;/h2&gt;
&lt;p&gt;Un altro problemino di Wordpress nella struttura del DB consiste nell'uso spregiudicato che fa del tipo &lt;em&gt;Longtext&lt;/em&gt;, che Ã¨ tra i piÃ¹ generici.&lt;/p&gt;
&lt;p&gt;Wordpress salva numeri, date, stringhe e oggetti serializzati in questo tipo di record, andando di fatto ad annullare alcune delle ottimizzazioni che MySQL fa sulle query, senza avere nemmeno una buona ragione per farlo!&lt;/p&gt;
&lt;p&gt;A causa di questa &lt;em&gt;bad practice&lt;/em&gt; di Wordpress tutta una serie di query MySQL di filtraggio, range, ordinamento per data, ricerca full text diventano &lt;strong&gt;mortalmente lente&lt;/strong&gt;.&lt;/p&gt;
&lt;h2&gt;Non Ã¨ solo colpa di EAV&lt;/h2&gt;
&lt;p&gt;Al di la della scelta di usare il modello EAV, che ha qualche pregio importante in termini di flessibilitÃ , Wordpress riesce ad utilizzare questo modello (EAV) in modo &lt;strong&gt;piuttosto scadente.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;La ragione di questo ulteriore problema va, secondo me, ricercata nel fatto che i &lt;a href="https://automattic.com/"&gt;developer di Wordpress&lt;/a&gt; avessero nei piani di creare una semplice piattaforma di blogging, poi evolutasi in modo caotico e imprevedibile nel corso degli anni (Worpress nasce, ve lo ricordo, nell 2003). Quello con cui si sono ritrovati poi Ã¨ un CMS, certamente di successo inaudito, ma che, per ragioni di &lt;em&gt;marketing&lt;/em&gt; hanno deciso di bloccare dal punto di vista filosofico su un &lt;strong&gt;blog engine&lt;/strong&gt; con feature aggiuntive, perchÃ©, si sa, &lt;em&gt;squadra che vince non si cambia&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Purtroppo il mondo ha deciso diversamente, e, va riconosciuto, attraverso una community infinita di designer, developer e smanettoni vari, oltre che di aziende innovative, Wordpress da blog Ã¨ stato trasformato in un CMS tuttofare.&lt;/p&gt;
&lt;p&gt;I risultati della trasformazione sono, com'Ã¨ facile intuire, una serie imbarazzante di compromessi... ad esempio:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;La tabella dei post contiene anche immagini, attachment, record vari creati dai plugin&lt;/li&gt;
&lt;li&gt;qualsiasi entitÃ  Ã¨ praticamente un post, usi Woocommerce? Un ordine Ã¨ un post!&lt;/li&gt;
&lt;li&gt;La tabella dei post, con questo approccio, Ã¨ destinata ad esplodere nel tempo, rendendo qualsiasi operazione su DB un'agonia&lt;/li&gt;
&lt;li&gt;Le operazioni sulla tabella dei post soffriranno di problemi di concorrenza, e i lock che ne conseguono rendono le operazioni ancora piÃ¹ lente&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;D'accordo, come spesso accade oggi non Ã¨ difficile trovare &lt;em&gt;hosting&lt;/em&gt; specializzati in Wordpress con la loro bella serie di ottimizzazioni, ma perchÃ© scegliere di andare su una 500 elaborata a livelli impensabili invece di scegliere una Lamborghini spendendo poco di piÃ¹?&lt;/p&gt;
&lt;h2&gt;Si, ma io uso la cache di Wordpress!&lt;/h2&gt;
&lt;p&gt;Questa Ã¨ la prima obiezione sensata che di solito mi sento rifilare quando cerco di spiegare che Wordpress Ã¨ si bello, ma non Ã¨ perfetto per qualsiasi caso d'uso.&lt;/p&gt;
&lt;p&gt;I contributor / creatori di plugin Wordpress hanno velocemente capito che un sito su questa piattaforma, all'aumentare delle dimensioni diventa via via sempre meno veloce e gestibile.&lt;/p&gt;
&lt;p&gt;Sono quindi corsi ai ripari andando ad integrare il modello di dati con una serie di funzionalitÃ  di caching piÃ¹ o meno avanzate.&lt;/p&gt;
&lt;p&gt;Quello che oggi abbiamo per mantenere decente il livello di &lt;strong&gt;performance di Wordpress&lt;/strong&gt; sono una serie di &lt;em&gt;caching plugin&lt;/em&gt;, tra cui cito i piÃ¹ noti:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;W3 Total Cache&lt;/li&gt;
&lt;li&gt;WP Super Cache&lt;/li&gt;
&lt;li&gt;WP Rocket&lt;/li&gt;
&lt;li&gt;ecc...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Alcuni di questi sono veramente ben fatti, ad esempio W3 Total Cache (quello che conosco meglio) Ã¨ fantastico per chi si occupa di ops.&lt;/p&gt;
&lt;p&gt;Quasi qualsiasi parte di Wordpress infatti si riesce a velocizzare con le cache, abbiamo a disposisizione:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Cache delle pagine (Server)&lt;/li&gt;
&lt;li&gt;Cache degli oggetti (Server)&lt;/li&gt;
&lt;li&gt;Cache delle query sul DB (Server)&lt;/li&gt;
&lt;li&gt;Cache delle immagini (Server e Client)&lt;/li&gt;
&lt;li&gt;Cache asset statici (Client)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Il risultato Ã¨ che molte pagine smettono di essere calcolate dinamicamente da PHP ma vengono staticizzate, con benefici di performance enormi.&lt;/p&gt;
&lt;p&gt;Purtroppo, anche in questo caso si evidenziano alcuni limiti di Wordpress.&lt;/p&gt;
&lt;h2&gt;Wordpress Ã¨ fantastico, in qualche caso&lt;/h2&gt;
&lt;p&gt;Se avete un blog o un sito in cui la funzionalitÃ  principale Ã¨ la &lt;strong&gt;lettura di contenuti&lt;/strong&gt;, nessun problema, il caching diventerÃ  il vostro miglior alleato per avere un sito performante.&lt;/p&gt;
&lt;p&gt;Questo perchÃ© il caching Ã¨ tanto piÃ¹ efficace quanto meno i contenuti all'interno del sito cambiano, quindi in un sito dove, idealmente, un contenuto viene creato e non piÃ¹ toccato, poi letto migliaia o milioni di volte dagli utenti, il caching va alla grande.&lt;/p&gt;
&lt;p&gt;Ovviamente al crescere del numero di contenuti diventa piÃ¹ difficile mantenere una cache veloce che abbia al suo interno tutto il contenuto del sito.&lt;/p&gt;
&lt;p&gt;Se vi Ã¨ capitato di attendere qualche minuto per leggere qualche vecchio articolo su qualsiasi sito sapete giÃ  di cosa sto parlando.&lt;/p&gt;
&lt;p&gt;E' inevitabile che, quei contenuti che vengono letti raramente, come ad esempio i contenuti piÃ¹ vecchi, siano quelli che hanno &lt;strong&gt;la minor probabilitÃ  di trovarsi in cache&lt;/strong&gt;, quindi questi contenuti verranno caricati solo al momento della richiesta, con performance spesso scandalose su Wordpress.&lt;/p&gt;
&lt;p&gt;Se invece il vostro modello si discosta da quello del blog o del sito di News &lt;strong&gt;la situazione peggiora notevolmente.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Prendete ad esempio uno store online o &lt;em&gt;Ecommerce&lt;/em&gt;, qui in ogni momento avrete aggiornamenti, ai prodotti, agli ordini, alle quantitÃ  in magazzino, alla scontistica, offerte speciali e cosÃ¬ via.&lt;/p&gt;
&lt;p&gt;In un caso come questo, l'efficacia della cache va a farsi benedire, ecco una delle tante ragioni per cui Wordpress non ha mai veramente preso piede nell'ecommerce di un certo livello (dove troneggiano Magento, Zencart, Prestashop &amp;amp; co) nonostante la disponibilitÃ  di buoni plugin tra cui &lt;em&gt;Woocommerce&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;In generale, &lt;strong&gt;il caching Ã¨ una soluzione parziale al problema delle performance,&lt;/strong&gt; quindi migliora decisamente la situazione, ma se avete un collo di bottiglia delle dimensioni di uno spillo sul DB MySQL difficilmente questa tecnica rappresenterÃ  la soluzione definitiva.&lt;/p&gt;
&lt;h2&gt;Alternative a Wordpress&lt;/h2&gt;
&lt;p&gt;Se i limiti di Wordpress non fanno per voi, non vi resta che andare a caccia di alternative, ma, ve lo anticipo, non sarÃ  facile trovare qualcosa di analogo, e a ragion veduta.&lt;/p&gt;
&lt;p&gt;Il vero problema di Wordpress secondo me sta nel fatto che questa piattaforma negli anni ha cercato di essere tutto, e quando vuoi essere un tuttofare Ã¨ facile che tu non sia davvero bravo in niente... &lt;em&gt;Jack of all trades, master of none&lt;/em&gt; dicono gli inglesi, e hanno ragione.&lt;/p&gt;
&lt;p&gt;Se sapete giÃ  di cosa vi occuperete, e siete sicuri di non dover fare altro, vi conviene orientarvi verso piattaforme meno flessibili ma piÃ¹ ottimizzate, per gli ecommerce abbiamo giÃ  visto che esistono varie alternative, se dovete scrivere una webapp specifica per la prenotazione di viaggi ad esempio, difficilmente troverete qualcosa di giÃ  fatto, e &lt;strong&gt;dovrete svilupparvela voi&lt;/strong&gt; o farlo fare ad una software house.&lt;/p&gt;
&lt;p&gt;In questi ultimi tempi stanno nascendo molti nuovi progetti che presentano un approccio alternativo a Wordpress, ad esempio ci sono i Flat CMS, dove non esiste un DB ma tutti i contenuti stanno su disco, gli headless CMS, che forniscono un backoffice e una collezione di API (solitamente REST), ma non hanno un frontend e quindi lasciano la massima libertÃ  in questo senso.&lt;/p&gt;
&lt;p&gt;Illustrare tutte le possibili alternative va al di la dello scopo di questo articolo, quindi non mi dilungherÃ² oltre, sappiate che ci sono &lt;a href="https://en.wikipedia.org/wiki/List_of_content_management_systems"&gt;migliaia di piattaforme&lt;/a&gt; in base al linguaggio utilizzato, ecco qualcuna di quelle che ho sentito nominare:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.cmsmadesimple.org/"&gt;CMS Made Simple&lt;/a&gt; in PHP&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.django-cms.org"&gt;Django CMS&lt;/a&gt; in Python / Django&lt;/li&gt;
&lt;li&gt;&lt;a href="http://mezzanine.jupo.org/"&gt;Mezzanine&lt;/a&gt; in Python / Django&lt;/li&gt;
&lt;li&gt;&lt;a href="https://sulu.io/en"&gt;Sulu&lt;/a&gt; ih PHP / Symfony&lt;/li&gt;
&lt;li&gt;&lt;a href="https://craftcms.com/"&gt;Craft&lt;/a&gt; in PHP&lt;/li&gt;
&lt;li&gt;&lt;a href="https://ghost.org/"&gt;Ghost&lt;/a&gt; in NodeJS&lt;/li&gt;
&lt;li&gt;&lt;a href="http://keystonejs.com/"&gt;Keystone&lt;/a&gt; in NodeJS&lt;/li&gt;
&lt;li&gt;&lt;a href="https://getgrav.org/"&gt;Gravity&lt;/a&gt; flat CMS in PHP&lt;/li&gt;
&lt;li&gt;&lt;a href="https://graphcms.com/"&gt;GraphCMS&lt;/a&gt; headless CMS as a Service, graphQL API&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.gatsbyjs.com/"&gt;GatsbyJS&lt;/a&gt; static site generator in NodeJS&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;EDIT&lt;/strong&gt;
&lt;em&gt;Sarei totalmente ipocrita se non annoverassi, tra i CMS e site generators menzionati qui sopra quello che ho deciso di usare per questo sito, ovvero &lt;a href="https://www.gatsbyjs.com/"&gt;GatsbyJS&lt;/a&gt;, provatelo!&lt;/em&gt;&lt;/p&gt;
&lt;h2&gt;Bibliografia&lt;/h2&gt;
&lt;p&gt;Tiro queste conclusioni dopo anni di esperienze personali, ma non Ã¨ tutta farina del mio sacco, molte delle cose che scrivo le ho imparate a mia volta leggendo su internet, tra cui &lt;a href="http://www.antradar.com/blog-wordpress-and-the-curse-of-eav"&gt;questo eccellente articolo&lt;/a&gt;&lt;/p&gt;</content><category term="Tech"/><category term="Wordpress"/><category term="Trends"/><category term="Performance"/></entry><entry><title>Per chi cerca di forzarvi il server SSH</title><link href="https://www.simonemessaggi.it/2016/02/bruteforce-ssh-server/" rel="alternate"/><published>2016-02-06T00:00:00+01:00</published><updated>2016-02-06T00:00:00+01:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2016-02-06:/2016/02/bruteforce-ssh-server/</id><summary type="html">&lt;p&gt;Oggi una ricettina veloce per evitare gli accessi non autorizzati al vostro server SSH preferito.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Articolo originariamente pubblicato il 6 febbraio 2016 su Simmessa.com&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Se avete server pubblici su internet, con la porta 22 aperta (e se leggete questo blog mi auguro che ne abbiate...), forse Ã¨ il momento â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Oggi una ricettina veloce per evitare gli accessi non autorizzati al vostro server SSH preferito.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Articolo originariamente pubblicato il 6 febbraio 2016 su Simmessa.com&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Se avete server pubblici su internet, con la porta 22 aperta (e se leggete questo blog mi auguro che ne abbiate...), forse Ã¨ il momento di dare un occhio ai log di autenticazione del vostro server:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;tail -f /var/log/auth.log&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Fatto? Beh, se siete fortunati noterete tanti \"simpatici\" tentativi di accesso non autorizzati, giusto?&lt;/p&gt;
&lt;p&gt;Di default, il PAM del vostro server Linux non fa altro che stare li ad attendere tentativi di connessione, se avvengono pÃ¹ di 3 errori di login chiude la prompt e attende un nuovo tentativo, ma Ã¨ giusto, secondo voi, dare agli scripter tutti questi infiniti tentativi di brute force su SSH?&lt;/p&gt;
&lt;p&gt;Secondo me no,  e allora tiriamo in ballo un alleato:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Fail2ban&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Questo il sito del tool &lt;a href="http://www.fail2ban.org/"&gt;Fail2ban&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Il concetto dietro questo utile demone Ã¨ semplice, se sbagli piÃ¹ di tot tentativi di login ti banno!&lt;/p&gt;
&lt;p&gt;Il ban di solito Ã¨ temporaneo, ma puÃ² servire a dissuadere gli scocciatori abbastanza da fargli distogliere l'attenzione dal nostro server e dedicarsi ad altro, magari di piÃ¹ produttivo.&lt;/p&gt;
&lt;h2&gt;Come si installa Fail2ban? (su Debian)&lt;/h2&gt;
&lt;p&gt;Semplice, basta un apt-get:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ sudo apt-get install fail2ban&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;A questo punto personalizziamo la configurazione del demone copiandoci il file .conf:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Bene, ora possiamo passare alla personalizzazione della config:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo vi /etc/fail2ban/jail.conf&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Le linee piÃ¹ importanti da modificare determinano il comportamento di fail2ban, ad esempio vogliaom essere tranquilli di non tagliarci fuori da soli un giorno in cui verremo inevitabilmente colpiti da un attacco di babbeite!&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;\"&lt;/span&gt;&lt;span class="nx"&gt;ignoreip&lt;/span&gt;&lt;span class="err"&gt;\"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;can&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;be&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;an&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;IP&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;address&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;CIDR&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;mask&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;or&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;DNS&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;host&lt;/span&gt;
&lt;span class="nx"&gt;ignoreip&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m m-Double"&gt;127.0.0.1&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m m-Double"&gt;192.168.1.0&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;24&lt;/span&gt;
&lt;span class="nx"&gt;bantime&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;600&lt;/span&gt;
&lt;span class="nx"&gt;maxretry&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Suggerisco anche di mantenere alto il numero di maxretry, 3 sono pochi certi giorni e possono darci una mano a non fare danni.&lt;/p&gt;
&lt;p&gt;Il bantime Ã¨ il tempo (in secondi) per cui vogliamo bannare i \"cattivoni\", 10 minuti potrebbero giÃ  far desistere gli scripter (se sono capaci di scriversi gli script, perlomeno).&lt;/p&gt;
&lt;p&gt;Altro aspetto che merita menzione Ã¨ l'invio automatico di email qualora venisse intercettato un tentativo di accesso non autorizzato:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;Destination&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;email&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;address&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;used&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;solely&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="nx"&gt;interpolations&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;jail&lt;/span&gt;&lt;span class="p"&gt;.{&lt;/span&gt;&lt;span class="nx"&gt;conf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nx"&gt;local&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;configuration&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;files&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
&lt;span class="nx"&gt;destemail&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;mail&lt;/span&gt;&lt;span class="err"&gt;@&lt;/span&gt;&lt;span class="nx"&gt;nonesiste&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;caz&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ma occhio, il vostro server deve essere in grado di inviare mail perchÃ© funzioni, in alternativa potete fare delivery verso un account locale...fate voi!&lt;/p&gt;
&lt;p&gt;L'ultima parte di &lt;strong&gt;Fail2ban&lt;/strong&gt; Ã¨ quella delle azioni, che determina cosa succede quando un client oltrepassa la soglia di Maxretry.&lt;/p&gt;
&lt;p&gt;Prima di tutto, il ban, che avviene come configurazione temporanea di iptables:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;banaction = iptables-multiport&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;e quindi, il tipo di trasporto usato per l'invio della mail:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mta = sendmail&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Con questo Ã¨ tutto, mi raccomando, se avete delle box ssh in giro, proteggetevi...!&lt;/p&gt;</content><category term="Tech"/><category term="SSH"/><category term="Fail2ban"/><category term="Security"/><category term="Howto"/></entry><entry><title>For those seeking to bruteforce your SSH server</title><link href="https://www.simonemessaggi.it/2016/02/en/bruteforce-ssh-server/" rel="alternate"/><published>2016-02-06T00:00:00+01:00</published><updated>2016-02-06T00:00:00+01:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2016-02-06:/2016/02/en/bruteforce-ssh-server/</id><summary type="html">&lt;p&gt;Today a quick recipe to avoid unauthorized access to your favorite SSH server.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Article originally published on 6 February 2016 at Simmessa.com&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;If you have public servers on the internet, with door 22 open (and if you read this blog I hope you have...), maybe it's time to give â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Today a quick recipe to avoid unauthorized access to your favorite SSH server.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Article originally published on 6 February 2016 at Simmessa.com&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;If you have public servers on the internet, with door 22 open (and if you read this blog I hope you have...), maybe it's time to give an eye to the authentication logs of your server:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;tail -f /var/log/auth.log&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Got it? Well, if you're lucky you'll notice a lot of unauthorized access attempts, right?&lt;/p&gt;
&lt;p&gt;By default, the PAM of your Linux server does nothing but wait for connection attempts, if more than 3 login errors close the prompt and wait for a new attempt, but is it right, according to you, to give scripters all these endless brute force attempts on SSH?&lt;/p&gt;
&lt;p&gt;I don't think so, and then we're throwing an ally.&lt;/p&gt;
&lt;p&gt;** Fail2ban **&lt;/p&gt;
&lt;p&gt;&lt;em&gt;This is the site of the tool &lt;a href="http://www.fail2ban.org/"&gt;Fail2ban&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;The concept behind this useful demon is simple, if you miss more than tot login attempts ban!&lt;/p&gt;
&lt;p&gt;The ban is usually temporary, but it can serve to dissuade the reapers enough to let them divert attention from our server and devote themselves to other, perhaps more productive.&lt;/p&gt;
&lt;h2&gt;How do you install Fail2ban? (on Debian)&lt;/h2&gt;
&lt;p&gt;Simple, just apt-get:&lt;/p&gt;
&lt;p&gt;$ sudo apt-get install fail2ban&lt;/p&gt;
&lt;p&gt;At this point we customize the configuration of the demon by copying the .conf file:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Well, now we can switch to customization of the config:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo vi /etc/fail2ban/jail.conf&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The most important lines to change determine the behavior of fail2ban, for example wantom be quiet not to cut us out alone a day when we will inevitably get hit by a babbeite attack!&lt;/p&gt;
&lt;p&gt;``&lt;/p&gt;
&lt;h1&gt;\"ignoreip\" can be an IP address, a CIDR mask or a DNS host&lt;/h1&gt;
&lt;p&gt;127.0.0.1/8 192.168.1.0/24
bantime = 600
maxretry = 6
``&lt;/p&gt;
&lt;p&gt;I also suggest to keep the number of maxretry high, 3 are a few days and can help us not to harm.&lt;/p&gt;
&lt;p&gt;The bantime is time (in seconds) so we want to ban \"badans\", 10 minutes could already make the scripters dexist (if they are able to write scripts, at least).&lt;/p&gt;
&lt;p&gt;Another aspect that deserves mention is the automatic sending of emails if an unauthorized access attempt is intercepted:&lt;/p&gt;
&lt;p&gt;``&lt;/p&gt;
&lt;h1&gt;Destination email address used solely for the&lt;/h1&gt;
&lt;p&gt;interpolations in jail.{conf,local} configuration files.
destemail = mail@nonexist.caz
``&lt;/p&gt;
&lt;p&gt;But eye, your server must be able to send mail because it works, alternatively you can deliver to a local account... do you!&lt;/p&gt;
&lt;p&gt;The last part of &lt;strong&gt;Fail2ban&lt;/strong&gt;* is that of the actions, which determines what happens when a client crosses the Maxretry threshold.&lt;/p&gt;
&lt;p&gt;First of all, the ban, which happens as a temporary configuration of iptables:&lt;/p&gt;
&lt;p&gt;`banaction' = iptables-multiport'&lt;/p&gt;
&lt;p&gt;and therefore, the type of transport used to send the mail:&lt;/p&gt;
&lt;p&gt;'mta = sendmail'&lt;/p&gt;
&lt;p&gt;This is all, I recommend, if you have ssh boxes around, protect yourself. . . !&lt;/p&gt;</content><category term="Tech"/><category term="SSH"/><category term="Fail2ban"/><category term="Security"/></entry><entry><title>Guida al protocollo KNXnet/IP cioÃ¨ KNX over IP</title><link href="https://www.simonemessaggi.it/2015/12/guide-knxnet-over-ip-protocol/" rel="alternate"/><published>2015-12-31T00:00:00+01:00</published><updated>2015-12-31T00:00:00+01:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2015-12-31:/2015/12/guide-knxnet-over-ip-protocol/</id><summary type="html">&lt;p&gt;&lt;em&gt;Oggi (articolo originale pubblicato il 31 dicembre 2015 su Simmessa.com) mi sono imbattuto in un utile tutorial in inglese che spiega come funziona il protocollo KNX IP ovvero KNX over IP, per chi di voi non lo conoscesse, stiamo parlando di Konnex, ovvero uno dei piÃ¹ diffusi protocolli per â€¦&lt;/em&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;em&gt;Oggi (articolo originale pubblicato il 31 dicembre 2015 su Simmessa.com) mi sono imbattuto in un utile tutorial in inglese che spiega come funziona il protocollo KNX IP ovvero KNX over IP, per chi di voi non lo conoscesse, stiamo parlando di Konnex, ovvero uno dei piÃ¹ diffusi protocolli per la domotica e la home automation, trovate piÃ¹ info su http://knx.org comunque l'articolo che ho letto mi sembrava interessante ed ho pensato di riscriverlo qui in italiano per chi fosse curioso! Trovate l'originale su http://knxtoday.com/2014/01/3056/solutions-ip-and-knx-bringing-you-up-to-speed.html&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Mi chiedono spesso quali siano le limitazioni di KNX e se si tratta realmente di un sistema poco aggiornato, anche considerando che Ã¨ stato pensato quasi 20 anni fa.
Uno dei dati piÃ¹ usati in questo dibattito Ã¨ la velocitÃ  relativamente bassa del bus KNX, con un baud rate di 9600bps, e il fatto che moltissimi sistemi moderni possono comunicare a velocitÃ  migliaia di volte superiosi.&lt;/p&gt;
&lt;p&gt;Quello che perÃ² a volte non viene considerato Ã¨ che a 9600bps il bus puÃ² arrivare ad essere molto lungo con una topologia libera e un basso consumo dei dispositivi collegati.&lt;/p&gt;
&lt;p&gt;Anche a questo baud rate, inoltre, il bus puÃ² supportare fino a 50 telegrammi al secondo!&lt;/p&gt;
&lt;p&gt;Ad ogni modo, con i progressi nellâ€™uso di KNX câ€™Ã¨ certamente un bisogno di velocitÃ  maggiori, specialmente a livello di backbone.&lt;/p&gt;
&lt;p&gt;Con i dispositivi di video sorveglianza e monitoring centralizzato che stanno diventando molto comuni, câ€™Ã¨ spesso un requisito per tutti i telegrammi di essere disponibili al livello topologico piÃ¹ alto.&lt;/p&gt;
&lt;p&gt;Con il cavo di bus KNX TP1, ci troviamo quindi in presenza di un collo di bottiglia, che IP puÃ² risolvere.&lt;/p&gt;
&lt;p&gt;Per supportare questo protocollo (IP) il gruppo KNX ha sviluppato il telegramma KNX/IP, ora parte ufficiale delle specifiche KNX. Questo ci permette di usare Ethernet come unâ€™alternativa a basso costo e banda larga al vecchio bus. Inoltre abbiamo il vantaggio che Ethernet Ã¨ giÃ  presente in molti edifici residanziali e commerciali.&lt;/p&gt;
&lt;p&gt;Eâ€™ importante capire perÃ² che se anche le reti LAN hanno molti benefici, i requisiti di avere unâ€™infrastruttura controllata e definita necessitano di mantenere KNX TP1 come base.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Il cavo KNX TP1" src="/images/webp/KNX-cable.webp"/&gt;
&lt;em&gt;fig.1 - Il cavo KNX TP1&lt;/em&gt;&lt;/p&gt;
&lt;h2&gt;Il telegramma KNX/IP&lt;/h2&gt;
&lt;p&gt;Per permettere lâ€™inclusione del protocollo IP come mezzo di comunicazione, il gruppo KNX ha creato un telegramma standard KNX/IP.&lt;/p&gt;
&lt;p&gt;Questo Ã¨ basato sul modello di riferimento OSI che definisce i livelli di trasporto, rete e fisico.&lt;/p&gt;
&lt;p&gt;Per semplificare questo ci permette di definire come distribuire i telegrammi TP1 in presenza di reti IP.&lt;/p&gt;
&lt;p&gt;Il telegramma  TP1 infatti si mantiene, ma viene usato un field aggiuntivo per definire lâ€™azione KNXnet/IP, che puÃ² implementare uno dei seguenti servizi:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;KNXnet/IP Core&lt;/li&gt;
&lt;li&gt;KNXnet/IP Device Management&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;KNXnet/IP Tunnelling&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;KNXnet/IP Routing&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;KNXnet/IP Remote Logging&lt;/li&gt;
&lt;li&gt;KNXnet/IP Remote Configuration and Diagnosis&lt;/li&gt;
&lt;li&gt;KNXnet/IP Object Server&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;La maggior parte di questi servizi sono auto mantenuti e non necessitano del nostro intervento, quindi per noi sarÃ  importante concentrarci sui due evidenziati sopra, &lt;strong&gt;il tunnelling e il routing.&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;KNXnet/IP Tunnelling&lt;/h2&gt;
&lt;p&gt;La modalitÃ  piÃ¹ semplice, nonchÃ© la principale per interfacciarsi con un sistema KNX, e permette la comunicazione punto a punto (unicast) tra un singolo device esterno e il sistema KNX, il funzionamento Ã¨ del tutto analogo allâ€™usare USB o unâ€™interfaccia seriale!&lt;/p&gt;
&lt;p&gt;Eâ€™ la forma di comunicazione piÃ¹ semplice per KNX over IP ed Ã¨ facile capire perchÃ©, visto che basta puntare un device al suo indirizzo IP della scheda KNX IP.&lt;/p&gt;
&lt;p&gt;Questo ci permette di vedere tutto il traffico del bus e comunicare direttamente con ciascun device ad esempio per la programmazione ETS.
Si usa inoltre comunemente per far dialogare i sistemi esterni con KNX.&lt;/p&gt;
&lt;p&gt;Nota: In ETS questo metodo si definisce semplicemente come KNX/net IP&lt;/p&gt;
&lt;h2&gt;KNXnet/IP Routing&lt;/h2&gt;
&lt;p&gt;Qui abbiamo invece un telegram basato su multicast, in questo modo un router KNX IP funzionerÃ  da line o area coupler. CosÃ¬ facendo rendiamo il backbone di un sistema KNX basato su ethernet, con maggiore velocitÃ  di trasmissione e flessibilitÃ  in installazione!&lt;/p&gt;
&lt;p&gt;Il router IP gestirÃ  anche la tabella dei filtri per gestire il traffico (congestione, ecc) laddove necessario.&lt;/p&gt;
&lt;p&gt;Chiaramente, trattandosi di multicast, abbiamo che per contattare piÃ¹ dispositivi punteremo ad un indirizzo multicast standard, in qusto modo abbiamo una comunicazione uno a molti, la KNX association ha riservato lâ€™indirizzo di multicast 224.0.23.12 per comoditÃ  ma qualsiasi altro indirizzo puÃ² essere impiegato, basta che sia lo steso su tutti i dispositivi.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Usiamo un router IP come backbone e line coupler" src="/images/KNX-IP-network.webp"/&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;fig.2 - Usiamo un router IP come backbone e line coupler&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Con il routing KNXnet/IP abbiamo un metodo di comunicazione che permette a tutto il traffico sul bus di venir monitorato, questo Ã¨ molto utile in tutti i casi in cui i dispositivi richiedano accesso ad esempio ai sistemi di visualizzazione, perÃ² lo svantaggio Ã¨ che non permette di svolgere funzioni ETS come bus monitor o il download sui device.&lt;/p&gt;
&lt;h2&gt;Quale Hardware mi serve?&lt;/h2&gt;
&lt;p&gt;Visti i principali metodi di comunicazione, diamo uno sguardo ai prodotti che ci servono per realizzare un sistema KNX su IP.&lt;/p&gt;
&lt;p&gt;I principali dispositivi che ci serviranno saranno le interfacce (schede di rete IP) e i router.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Le interfacce KNX IP&lt;/strong&gt; supportano soltanto il metodo di comunicazione KNXnet/IP tunnelling, ciÃ² nonostante una singola interfaccia, come la Weinzierl 730, puÃ² supportare connessioni multiple.&lt;/p&gt;
&lt;p&gt;Proprio questa scheda infatti gestisce fino a 5 connessioni simultanee che si ottengono definendo piÃ¹ indirizzi fisici KNX sul device.&lt;/p&gt;
&lt;p&gt;Ovviamente questa tecnica Ã¨ molto utile quanto abbiamo istanze multiple di ETS che accedono allo stesso sistema KNX o se vogliamo usare lâ€™interfaccia sia per una connessione ETS sia per una scheda esterna per un sistema Audio/Video, ad esempio.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;I router KNX IP&lt;/strong&gt;, al contrario, supportano entrambi i metodi del tunnelling e del KNXnet/IP routing, oltre a gestire le tabelle dei filtri che permettono al device di funzionare da coupler.&lt;/p&gt;
&lt;p&gt;Di fatto alcuni router IP, come ad esempio il Gira 216700, permettono connessioni di tunnelling multiple (come le interfacce).&lt;/p&gt;
&lt;p&gt;Il routing invece, per sua stessa natura, non ha limiti al numero di connessioni che Ã¨ in grado di stabilire per via del protocollo multicast.&lt;/p&gt;
&lt;p&gt;Alcuni device hanno inoltre time server e schede di memoria per registrare il bus.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Questo Ã¨ il router KNXnet / IP Gira 2167 00" src="/images/webp/Gira-KNX-IP-router.webp"/&gt;
&lt;em&gt;fig.3 - Questo Ã¨ il router KNXnet / IP Gira 2167 00&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Nota Bene:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Eâ€™ molto importante che ci ricordiamo di trattare questo device come line coupler, dovrÃ  essere indirizzato correttamente nella nostra topologia di rete, e i Medium types di tutti i segmenti devono essere assegnati correttamente in ETS.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Entrambi i device che abbiamo visto, schede e router generalmente richiedono un voltaggio superiore al (24V) bus KNX. questo di solito puÃ² essere fornito dal voltaggio aux di molte PSU KNX, ma ricordiamo che generalmente una PSU KNX offre al massimo un output di 640mA.&lt;/p&gt;
&lt;p&gt;Per non correre rischi Ã¨ meglio far funzionare ciascun device con la sua PSU dedicata, o, in alternativa, usare il protocollo Power over Ethernet (PoE) se il nostro switch lo consente, il costo dello switch potrebbe aumentare, ma lâ€™installazione si semplifica notevolmente!&lt;/p&gt;
&lt;h2&gt;Sicurezza e accesso remoto&lt;/h2&gt;
&lt;p&gt;Una volta che abbiamo implementato una soluzione IP Ã¨ possibile configurare uno dei tipi di collegamento descritti sopra per lâ€™accesso remoto.&lt;/p&gt;
&lt;p&gt;Usando unâ€™interfaccia tunnelling, possiamo stabilire una connessione diretta esterna se conosciamo lâ€™indirizzo di WAN. ServirÃ  una port redirection sul router per attraversare il firewall, comunque, visto che il sistema KNX non richiede una password per essere utilizzato, non Ã¨ il metodo piÃ¹ sicuro. Questa considerazione Ã¨ importante se un sistema KNX controlla un intero edificio, per evidenti ragioni di sicurezza!&lt;/p&gt;
&lt;p&gt;Se avessimo bisogno di collegare tra loro due sistemi KNX tramite routing KNXnet/IP la VPN DEVE obbligatoriamente supportare il traffico multicast e avere questa grant dallâ€™amministratore di sistema.&lt;/p&gt;
&lt;h2&gt;Conclusione&lt;/h2&gt;
&lt;p&gt;Considerato tutto, non Ã¨ affatto strano per noi ricevere un sacco di domande su KNX IP, anche perchÃ© non se ne parla molto nel corso di certificatione KNX.&lt;/p&gt;
&lt;p&gt;Una volta che i termini descritti sopra sono compresi, comunque, diventa molto piÃ¹ facile specificare e installare i prodotti corretti. Combinando la velocitÃ  e la flessibilitÃ  del protocollo IP con lâ€™affidabilitÃ  e semplicitÃ  del bus KNX otteniamo un sistema molto potente, flessibile e pronto al futuro.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Articolo originale inglese scritto da Mark Warburton e disponibile allâ€™indirizzo:
http://knxtoday.com/2014/01/3056/solutions-ip-and-knx-bringing-you-up-to-speed.html&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Tradotto da Simone Messaggi.&lt;/strong&gt;&lt;/p&gt;</content><category term="Tech"/><category term="IOT"/><category term="Home automation"/><category term="KNX"/></entry><entry><title>Guide to the KNXnet/IP protocol i.e. KNX over IP</title><link href="https://www.simonemessaggi.it/2015/12/en/guide-knxnet-over-ip-protocol/" rel="alternate"/><published>2015-12-31T00:00:00+01:00</published><updated>2015-12-31T00:00:00+01:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2015-12-31:/2015/12/en/guide-knxnet-over-ip-protocol/</id><summary type="html">&lt;p&gt;&lt;em&gt;Today (original article published on 31 December 2015 at Simmessa.com) I came across a useful English tutorial explaining how the KNX protocol works IP or KNX over IP, for those of you who did not know it, we are talking about Konnex, that is one of the most popular â€¦&lt;/em&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;em&gt;Today (original article published on 31 December 2015 at Simmessa.com) I came across a useful English tutorial explaining how the KNX protocol works IP or KNX over IP, for those of you who did not know it, we are talking about Konnex, that is one of the most popular protocols for home automation and home automation, find more info about http://knx.org however the article I read seemed interesting to me and I thought to rewrite it here in Italian for those who were curious! Find the original on http://knxtoday.com/2014/01/3056/solutions-ip-and-knx-bringing-you-up-to-speed.html&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;People often ask me what the limitations of KNX are and whether it is really an ancient system, even considering that it was thought almost 20 years ago.
One of the most used data in this debate is the relatively low speed of the KNX bus, with a baud rate of 9600bps, and the fact that many modern systems can communicate at speeds thousands of times faster.&lt;/p&gt;
&lt;p&gt;But what is sometimes not considered is that at 9600bps the bus can get very long with a free topology and low consumption of connected devices.&lt;/p&gt;
&lt;p&gt;At this baud rate, let's not forget that our bus can support up to 50 telegrams per second!&lt;/p&gt;
&lt;p&gt;However, with the progress in using KNX there is certainly a need for greater speed, especially at the backbone level.&lt;/p&gt;
&lt;p&gt;With centralized video surveillance and monitoring devices that are becoming very common, there is often a requirement for all telegrams to be available at the highest topological level.&lt;/p&gt;
&lt;p&gt;With the KNX TP1 bus cable, we are therefore in the presence of a bottleneck, which IP can solve.&lt;/p&gt;
&lt;p&gt;To support this protocol (IP) the KNX group has developed the KNX/IP telegram, now an official part of the KNX specifications. This allows us to use Ethernet as a cheap alternative and broadband to the old bus. We also have the advantage that Ethernet is already present in many residential and commercial buildings.&lt;/p&gt;
&lt;p&gt;But it is important to understand that if LAN networks also have many benefits, the requirements of having a controlled and defined infrastructure need to maintain KNX TP1 as a basis.&lt;/p&gt;
&lt;p&gt;&lt;img alt="The KNX TP1 cable" src="/images/webp/KNX-cable.wbp"/&gt;
&lt;em&gt;fig.1 - The KNX TP1 cable&lt;/em&gt;&lt;/p&gt;
&lt;h2&gt;The KNX/IP telegram&lt;/h2&gt;
&lt;p&gt;To allow the inclusion of the IP protocol as a means of communication, the KNX group has created a standard KNX/IP telegram.&lt;/p&gt;
&lt;p&gt;This is based on the OSI reference model that defines transport, network and physical levels.&lt;/p&gt;
&lt;p&gt;To simplify this allows us to define how to distribute TP1 telegrams in the presence of IP networks.&lt;/p&gt;
&lt;p&gt;The TP1 telegram is maintained, but an additional field is used to define the KNXnet/IP action, which can implement one of the following services:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;KNXnet/IP Core&lt;/li&gt;
&lt;li&gt;KNXnet/IP Device Management&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;KNXnet/IP Tunnelling&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;KNXnet/IP Routing&lt;/strong&gt;*&lt;/li&gt;
&lt;li&gt;KNXnet/IP Remote Logging&lt;/li&gt;
&lt;li&gt;KNXnet/IP Remote Configuration and Diagnosis&lt;/li&gt;
&lt;li&gt;KNXnet/IP Object Server&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Most of these services are self-maintained and do not require our intervention, so it will be important for us to focus on the two highlighted above, &lt;strong&gt;tunnelling and routing.&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;KNXnet/IP Tunnelling&lt;/h2&gt;
&lt;p&gt;The simplest mode, as well as the main one to interface with a KNX system, and allows point-to-point communication (unicast) between a single external device and the KNX system, the operation is completely analogous to using USB or a serial interface!&lt;/p&gt;
&lt;p&gt;Itâ€™s the simplest form of communication for KNX over IP and itâ€™s easy to understand why, as itâ€™s enough to point a device to its IP address of the KNX IP card.&lt;/p&gt;
&lt;p&gt;This allows us to see all bus traffic and communicate directly with each device for example for ETS programming.
It is also commonly used to communicate external systems with KNX.&lt;/p&gt;
&lt;p&gt;Note: In ETS this method is simply defined as KNX/net IP&lt;/p&gt;
&lt;h2&gt;KNXnet/IP Routing&lt;/h2&gt;
&lt;p&gt;Here we have a multicast-based telegram, so a KNX IP router will work from line or coupler area. By doing so we make the backbone of an ethernet-based KNX system, with higher transmission speed and installation flexibility!&lt;/p&gt;
&lt;p&gt;The IP router will also manage the filter table to manage traffic ( congestion, etc.) where necessary.&lt;/p&gt;
&lt;p&gt;Clearly, being multicasts, we have that to contact multiple devices we will aim at a standard multicast address, in which way we have a communication one to many, the KNX association has reserved the address of multicast 224.0.23.12 for convenience but any other address can be used, as long as it is laid on all devices.&lt;/p&gt;
&lt;p&gt;&lt;img alt="We use an IP router like backbone and line coupler" src="/images/webp/KNX-IP-network.webp"/&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;fig.2 - We use an IP router like backbone and line coupler&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;With the KNXnet/IP routing we have a communication method that allows all traffic on the bus to be monitored, this is very useful in all cases where the devices require access for example to the display systems, but the disadvantage is that it does not allow to perform ETS functions as a bus monitor or download on the devices.&lt;/p&gt;
&lt;h2&gt;What hardware do I need?&lt;/h2&gt;
&lt;p&gt;Given the main communication methods, let's take a look at the products we need to make a KNX system on IP.&lt;/p&gt;
&lt;p&gt;The main devices we need will be interfaces (IP network cards) and routers.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The KNX interfaces IP&lt;/strong&gt;* only support the KNXnet/IP tunnelling communication method, despite a single interface, such as the Weinzierl 730, can support multiple connections.&lt;/p&gt;
&lt;p&gt;This card in fact manages up to 5 simultaneous connections that are obtained by defining multiple KNX physical addresses on the device.&lt;/p&gt;
&lt;p&gt;Obviously this technique is very useful as we have multiple instances of ETS accessing the same KNX system or if we want to use the interface for both an ETS connection and an external board for an Audio/Video system, for example.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The KNX IP&lt;/strong&gt; routers, on the contrary, support both methods of tunnelling and KNXnet/IP routing, as well as manage the filter tables that allow the device to function as coupler.&lt;/p&gt;
&lt;p&gt;In fact, some IP routers, such as the Gira 216700, allow multiple tunnelling connections (such as interfaces).&lt;/p&gt;
&lt;p&gt;The routing, however, by its very nature, has no limits to the number of connections that it is able to establish through the multicast protocol.&lt;/p&gt;
&lt;p&gt;Some devices also have time servers and memory cards to record the bus.&lt;/p&gt;
&lt;p&gt;&lt;img alt="This is the router KNXnet / IP Gira 2167 00" src="/images/webp/Gira-KNX-IP-router.webp"/&gt;
&lt;em&gt;fig.3 - This is the router KNXnet / IP Gira 2167 00&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Please note:&lt;/strong&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;It is very important that we remember to treat this device as a line coupler, it must be addressed correctly in our network topology, and the Medium types of all segments must be properly assigned to ETS.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Both devices we have seen, tabs and routers generally require a voltage higher than (24V) KNX bus. This can usually be provided by the aux voltage of many PSU KNX, but we remember that generally a PSU KNX offers a maximum output of 640mA.&lt;/p&gt;
&lt;p&gt;To avoid risk, it is better to run each device with its dedicated PSU, or, alternatively, use the Power over Ethernet (PoE) protocol if our switch allows it, the cost of the switch could increase, but the installation simplifies considerably!&lt;/p&gt;
&lt;h2&gt;Security and remote access&lt;/h2&gt;
&lt;p&gt;Once we have implemented an IP solution, you can configure one of the above types of connection for remote access.&lt;/p&gt;
&lt;p&gt;Using a tunnelling interface, we can establish an external direct connection if we know the WAN address. It will need a port redirection on the router to cross the firewall, however, since the KNX system does not require a password to be used, it is not the safest method. This consideration is important if a KNX system controls an entire building, for obvious security reasons!&lt;/p&gt;
&lt;p&gt;If we needed to connect two KNX systems with KNXnet/IP routing, the VPN must necessarily support multicast traffic and have this grant from the system administrator.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Considered everything, it is not strange at all for us to receive a lot of questions about KNX IP, also because it does not talk much about it during the certification KNX.&lt;/p&gt;
&lt;p&gt;Once the above terms are understood, however, it becomes much easier to specify and install the correct products. By combining the speed and flexibility of the IP protocol with the reliability and simplicity of the KNX bus we get a very powerful, flexible and ready-to-wear system.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;The original English article written by Mark Warburton is available at:
http://knxtoday.com/2014/01/3056/solutions-ip-and-knx-bringing-you-up-to-speed.html&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Translated by yours truly, Simone Messaggi.&lt;/strong&gt;&lt;/p&gt;</content><category term="Tech"/><category term="IOT"/><category term="Home automation"/><category term="KNX"/></entry><entry><title>Viviamo nell'era post Wordpress?</title><link href="https://www.simonemessaggi.it/2014/08/post-wordpress-cms-era/" rel="alternate"/><published>2014-08-21T00:00:00+02:00</published><updated>2014-08-21T00:00:00+02:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2014-08-21:/2014/08/post-wordpress-cms-era/</id><summary type="html">&lt;p&gt;&lt;em&gt;Ovviamente, come Ã¨ sacrosanto, la mia previsione si Ã¨ tutt'altro che avverata, a distanza di anni Ghost sembra piÃ¹ morto che vivo, l'articolo originario Ã¨ datato 21 agosto 2014 quando Ã¨ comparso su &lt;a href="Simmessa.com"&gt;Simmessa.com&lt;/a&gt;. Detto questo, siamo ormai nel 2025 e mi sento come se questa mia "profezia" stia â€¦&lt;/em&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;em&gt;Ovviamente, come Ã¨ sacrosanto, la mia previsione si Ã¨ tutt'altro che avverata, a distanza di anni Ghost sembra piÃ¹ morto che vivo, l'articolo originario Ã¨ datato 21 agosto 2014 quando Ã¨ comparso su &lt;a href="Simmessa.com"&gt;Simmessa.com&lt;/a&gt;. Detto questo, siamo ormai nel 2025 e mi sento come se questa mia "profezia" stia ufficialmente diventando molto piu' vicina alla realta'...&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Sto scrivendo questo post dal letto di una mansarda di montagna. Non ho rimorsi. Non mi serve un'app, solo il browser di uno smartphone. Certo le mie conoscenze di &lt;strong&gt;markdown&lt;/strong&gt; sono piuttosto limitate al momento, non sarÃ  troppo bello da vedere come post.&lt;/p&gt;
&lt;p&gt;La cosa incredibile Ã¨ poterlo fare con questa facilitÃ , svaccati.&lt;/p&gt;
&lt;p&gt;Niente opzioni, &lt;em&gt;write &amp;gt; save &amp;gt; publish&lt;/em&gt; purtroppo vorrei che tante cose fossero automatiche, tipo il &lt;em&gt;publicize&lt;/em&gt; con autopost su twitter e facebook. Ma Ã¨ troppo presto, e dicono che chi si accontenta goda parecchio.&lt;/p&gt;
&lt;p&gt;Penso che &lt;a href="https://ghost.org/"&gt;ghost&lt;/a&gt; possa essere la piattaforma giusta per fare da ponte tra il blogging tradizionale e il microblogging.&lt;/p&gt;
&lt;p&gt;La facilitÃ  d'uso certamente gioca a suo favore, staremo a vedere.&lt;/p&gt;
&lt;p&gt;Scusatemi il post non tecnico, non Ã¨ facile codificare da una mansarda in montagna :)&lt;/p&gt;
&lt;p&gt;A presto.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Nota dal futuro: Ghost Ã¨ praticamente morto, nel corso degli anni ho migrato questo blog a Gatsby, che Ã¨ stato acquistato da Netlify nel 2023, quindi dichiarato morto a sua volta... CosÃ¬ nel 2025 finalmente sono passato a Pelican, che si basa su Python piuttosto che su NodeJS, e questo Ã¨ per il meglio. Ovviamente vi faro' sapere se questa tecnologia durera' piu' di qualche anno...&lt;/em&gt;&lt;/p&gt;</content><category term="Rants"/><category term="CMS"/><category term="Wordpress"/></entry><entry><title>Do we live in a post Wordpress era?</title><link href="https://www.simonemessaggi.it/2014/08/en/post-wordpress-cms-era/" rel="alternate"/><published>2014-08-21T00:00:00+02:00</published><updated>2014-08-21T00:00:00+02:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2014-08-21:/2014/08/en/post-wordpress-cms-era/</id><summary type="html">&lt;p&gt;&lt;em&gt;Of course, as is appropriate, my prediction is far from true, and after a number of years Ghost seems more dead than alive, the original article was dated August 21, 2014 when it appeared on &lt;a href="http://www.simmessa.com"&gt;Simmessa.com&lt;/a&gt;, yet, in 2025 I feel like the "omen" is actually becoming a lot â€¦&lt;/em&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;em&gt;Of course, as is appropriate, my prediction is far from true, and after a number of years Ghost seems more dead than alive, the original article was dated August 21, 2014 when it appeared on &lt;a href="http://www.simmessa.com"&gt;Simmessa.com&lt;/a&gt;, yet, in 2025 I feel like the "omen" is actually becoming a lot closer to reality...&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I'm writing this post from the bed of a mountain attic. I don't feel no remorse. I don't need an app, just a smartphone browser. Of course my knowledge of &lt;strong&gt;markdown&lt;/strong&gt; is quite limited at the moment, so I don't expect this to become my greatest looking post to date.&lt;/p&gt;
&lt;p&gt;The incredible thing is to be able to do it with this ease, while totally on the loose.&lt;/p&gt;
&lt;p&gt;No options, &lt;em&gt;write &amp;gt; save &amp;gt; publish&lt;/em&gt; unfortunately I would like so many things to be automatic, like &lt;em&gt;publicize&lt;/em&gt; with autopost on twitter and facebook. But it's too early, and they say that those who are satisfied enjoy a lot more.&lt;/p&gt;
&lt;p&gt;I think &lt;a href="https://ghost.org/"&gt;ghost&lt;/a&gt; can be the right platform to bridge between traditional blogging and microblogging.&lt;/p&gt;
&lt;p&gt;The ease of use certainly plays in its favor, I guess we will be seeing in the coming years.&lt;/p&gt;
&lt;p&gt;Sorry about the non-technical post, it's not easy to write markdown from a mountain attic :)&lt;/p&gt;
&lt;p&gt;See you soon.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;A Note from future self: Ghost is soooo dead, over the years I switched this blog over to Gatsby, which was acquired by Netlify in 2023, therefore declared dead in its own regard...So in 2025 I finally switched to Pelican, which is based on Python rather than NodeJS, and that's for the better. I will let you know if this is meant to last more than a few years...&lt;/em&gt;&lt;/p&gt;</content><category term="Rants"/><category term="CMS"/><category term="Wordpress"/></entry><entry><title>In Italia siamo indietro</title><link href="https://www.simonemessaggi.it/2014/08/italy-so-behind-in-tech/" rel="alternate"/><published>2014-08-12T00:00:00+02:00</published><updated>2014-08-12T00:00:00+02:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2014-08-12:/2014/08/italy-so-behind-in-tech/</id><summary type="html">&lt;p&gt;&lt;em&gt;Fa specie constatare che, questo post, scritto nel lontano 12 agosto 2014 sia, per certi versi, ancora cosÃ¬ attuale... Cio' nonostante, ci sono parti veramente inaccurate, per esempio ho migrato il sito gia' altre due volte verso tecnologie piu' recenti. In ogni caso ve lo lascio e tirate voi le â€¦&lt;/em&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;em&gt;Fa specie constatare che, questo post, scritto nel lontano 12 agosto 2014 sia, per certi versi, ancora cosÃ¬ attuale... Cio' nonostante, ci sono parti veramente inaccurate, per esempio ho migrato il sito gia' altre due volte verso tecnologie piu' recenti. In ogni caso ve lo lascio e tirate voi le conclusioni!&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Il web si sta evolvendo, quello che sappiamo fare, per il momento, Ã¨ copiare, e anche male, dai nostri amici smanettoni USA.Quindi, ci accontentiamo di tecnologie obsolete.Quali tecnologie obsolete? direte voi.Praticamente tutto quello che vedete sul web italiano in questo momento lo Ã¨, centinaia di migliaia di siti che utilizzando come &lt;strong&gt;database MySQL,&lt;/strong&gt; come linguaggio di programmazione il &lt;strong&gt;PHP o ASP.&lt;/strong&gt;Nel web italiano, &lt;strong&gt;HTML5&lt;/strong&gt; di solito Ã¨ un banner che compare a fondo pagina, come a dire: &lt;strong&gt;Ehi ma quanto siamo fighi!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;In realtÃ  convertire un sito in HTML5 per molti developer significa questo modificare il codice da:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;
&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;a:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;&lt;!DOCTYPE html&gt;
&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;cioÃ¨, figo, &lt;strong&gt;cosÃ¬ siamo bravi tutti.&lt;/strong&gt;E poi? CMS, piattaforme, l'open source che ha assolutamente spopolato negli ultimi anni ha prodotto piattaforme come &lt;strong&gt;Wordpress&lt;/strong&gt; e &lt;strong&gt;Drupal&lt;/strong&gt;, &lt;strong&gt;MediaWiki&lt;/strong&gt; e &lt;strong&gt;vBulletin&lt;/strong&gt; che ancora oggi coprono una percentuale impressionante delle installazioni totali della internet nostrana.&lt;/p&gt;
&lt;h2&gt;Quanto obsolete?&lt;/h2&gt;
&lt;p&gt;Tanto, mi spiace dirvelo... Ã¨ vero che si aggiornano ogni anno, ma questo Ã¨ il periodo a cui risalgono le principali tecnologie menzionate sopra:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;PHP&lt;/strong&gt; - nato nel 1994 &lt;a href="http://en.wikipedia.org/wiki/PHP"&gt;link wikipedia&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;MySQL&lt;/strong&gt; - nato nel 1995 &lt;a href="http://en.wikipedia.org/wiki/MySQL"&gt;link wikipedia&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Drupal&lt;/strong&gt; - nato nel 2001 &lt;a href="http://en.wikipedia.org/wiki/Drupal"&gt;link wikipedia&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Wordpress&lt;/strong&gt; - nato nel 2003 &lt;a href="http://en.wikipedia.org/wiki/WordPress"&gt;link wikipedia&lt;/a&gt; wow, non male... il piÃ¹ giovane ha &lt;strong&gt;solo 11 anni!&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;E domani?&lt;/h2&gt;
&lt;p&gt;Domani forse avremo qualcosa di meglio, i piÃ¹ avventurosi si sono buttati a pesce su &lt;strong&gt;jQuery&lt;/strong&gt; e &lt;strong&gt;Ruby on Rails,&lt;/strong&gt; qualcuno ci prova con &lt;strong&gt;nodejs&lt;/strong&gt;, e intanto i "grandi" siti e i network continuano a campare di codice decrepito e template rinnovati.
Oggi per questa ragione ho aperto un blog su &lt;a href="Ghost"&gt;https://www.kickstarter.com/projects/johnonolan/ghost-just-a-blogging-platform&lt;/a&gt;, un progetto nato da un kickstarter del 2013.&lt;/p&gt;
&lt;p&gt;Mi servirÃ  a studiare questa tecnologia e a capirne le potenzialitÃ , non voglio rimanere indietro e invecchiare con web italiano, spero che capirete...&lt;/p&gt;
&lt;p&gt;Seguiranno, tempo permettendo, alcune elucubrazioni sul mondo della tecnologia del web italiano, le scoperte che faccio e farÃ² investigando &lt;strong&gt;nuove tecnologie,&lt;/strong&gt; siano esse reali miglioramenti o semplici mode del momento...&lt;/p&gt;
&lt;p&gt;Per il momento Ã¨ tutto, preparare una piattaforma con nodejs mi ha impegnato parecchio, e ho altro lavoro da fare, ma ci sentiamo presto...&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Simone Messaggi&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;originariamente pubblicato il 12 agosto 2014 su simmessa.com e riproposto su &lt;a href="https://medium.com/@simmessa/in-italia-siamo-indietro-d32fdc126713"&gt;medium.com&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;</content><category term="Rants"/><category term="Legacy"/><category term="Ghost"/><category term="NodeJS"/></entry><entry><title>Here in Italy we are so behind</title><link href="https://www.simonemessaggi.it/2014/08/en/italy-so-behind-in-tech/" rel="alternate"/><published>2014-08-12T00:00:00+02:00</published><updated>2014-08-12T00:00:00+02:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2014-08-12:/2014/08/en/italy-so-behind-in-tech/</id><summary type="html">&lt;p&gt;&lt;em&gt;It is especially true that, this post, written in 12 August 2014 is, in some ways, still so relevant today... Altought parts of it are badly inaccurate, for example I migrated these very pages to 2 newer technology since then...Anyway, I'll leave you to it so please draw your â€¦&lt;/em&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;em&gt;It is especially true that, this post, written in 12 August 2014 is, in some ways, still so relevant today... Altought parts of it are badly inaccurate, for example I migrated these very pages to 2 newer technology since then...Anyway, I'll leave you to it so please draw your own conclusions!&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;The web is evolving, what we know to do, for the moment, is to copy, and also evil, from our USA slender friends.So, we are satisfied with obsolete technologies. What obsolete technologies? You will say. Practically everything you see on the Italian web right now is, hundreds of thousands of sites using as &lt;strong&gt;database MySQL,&lt;/strong&gt; as a programming language &lt;strong&gt;PHP or ASP.&lt;/strong&gt; In the Italian web landscape, &lt;strong&gt;HTML5&lt;/strong&gt; is usually embodied by some banner that appears at the bottom of the page, as to say: *&lt;em&gt;Hey, we're so cool!&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Actually converting a site to HTML5 for many developers means this change the code from:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;
&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;a:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;&lt;!DOCTYPE html&gt;
&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I mean, that's cool, so we're &lt;strong&gt;all exceptionally good at this!&lt;/strong&gt;. But then? the CMS, platforms, open source that has absolutely killed it in recent years and has produced platforms such as &lt;strong&gt;Wordpress&lt;/strong&gt; and &lt;strong&gt;Drupal&lt;/strong&gt;, &lt;strong&gt;MediaWiki&lt;/strong&gt; and &lt;strong&gt;vBulletin&lt;/strong&gt; which today still cover an impressive percentage of the total installations of the italian internet.&lt;/p&gt;
&lt;h2&gt;How obsolete?&lt;/h2&gt;
&lt;p&gt;I'm sorry to tell you... It is true that they update each year, but this is the period at which the main technologies mentioned above date:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;PHP&lt;/strong&gt; - born in 1994 &lt;a href="http://en.wikipedia.org/wiki/PHP"&gt;link wikipedia&lt;/a&gt;
&lt;strong&gt;MySQL&lt;/strong&gt; - born in 1995 &lt;a href="http://en.wikipedia.org/wiki/MySQL"&gt;link wikipedia&lt;/a&gt;
* &lt;strong&gt;Drupal&lt;/strong&gt; - born in 2001 &lt;a href="http://en.wikipedia.org/wiki/Drupal"&gt;link wikipedia&lt;/a&gt;
&lt;strong&gt;Wordpress&lt;/strong&gt; - born in 2003 &lt;a href="http://en.wikipedia.org/wiki/WordPress"&gt;link wikipedia&lt;/a&gt; wow, not bad... The youngest is only &lt;strong&gt;11 years old!&lt;/strong&gt;&lt;/p&gt;
&lt;h1&gt;So, what about tomorrow?&lt;/h1&gt;
&lt;p&gt;Tomorrow perhaps we will have something better, the most adventurous have jumped to fish on &lt;strong&gt;jQuery&lt;/strong&gt; and &lt;strong&gt;Ruby on Rails,&lt;/strong&gt; while someone else tries his luck with &lt;strong&gt;nodejs&lt;/strong&gt;, and in the meantime the "big" sites and networks continue to grow decrepit code and renewed templates.
Today for this reason I opened a blog on &lt;a href="https://www.kickstarter.com/projects/johnolan/ghost-just-a-blogging-platform"&gt;Ghost&lt;/a&gt;, a project born from a 2013 kickstarter.&lt;/p&gt;
&lt;p&gt;I will need to study this technology and understand its potential, I do not want to stay back and age with Italian web, I hope you will understand my motivations...&lt;/p&gt;
&lt;p&gt;More thoughts will follow, if time allows, with elucubrations on the world of Italian web technology, the discoveries I make and of course I will investigate &lt;strong&gt;new technologies,&lt;/strong&gt; some of which might be real improvements or simple thecn trends of the moment...&lt;/p&gt;
&lt;p&gt;For now that's all, preparing a platform with nodejs took quite the toll on my free time, and I have other work to do, but expect to hear from me pretty soon...&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Simone Messaggi&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;originally published on August 12, 2014 at simmessa.com and reprinted on &lt;a href="https://medium.com/@simmessa/in-italia-siamo-back-d32fdc126713"&gt;medium.com&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;</content><category term="Rants"/><category term="Legacy"/><category term="Ghost"/><category term="NodeJS"/></entry><entry><title>Email usa e getta sul tuo server di posta</title><link href="https://www.simonemessaggi.it/2008/03/throwaway-emails-for-dummies/" rel="alternate"/><published>2008-03-12T00:00:00+01:00</published><updated>2008-03-12T00:00:00+01:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2008-03-12:/2008/03/throwaway-emails-for-dummies/</id><summary type="html">&lt;p&gt;Hai un server email privato? Bene! Vuoi avere un'email che puoi dare via per le registrazioni senza preoccuparti della quantitÃ  infinita di spam che finirai per ricevere?&lt;/p&gt;
&lt;p&gt;Allora continua a leggere, forse questo articolo e' per te...&lt;/p&gt;
&lt;p&gt;Uno dei modi semplici in cui molti, se non tutti, dei punti sopra â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Hai un server email privato? Bene! Vuoi avere un'email che puoi dare via per le registrazioni senza preoccuparti della quantitÃ  infinita di spam che finirai per ricevere?&lt;/p&gt;
&lt;p&gt;Allora continua a leggere, forse questo articolo e' per te...&lt;/p&gt;
&lt;p&gt;Uno dei modi semplici in cui molti, se non tutti, dei punti sopra possono essere realizzati Ã¨ un hack molto semplice della vostra configurazione *nix.&lt;/p&gt;
&lt;h1&gt;Divertiamoci con /etc/aliases&lt;/h1&gt;
&lt;p&gt;Cos'Ã¨ un file /etc/aliases sui sistemi *nix? Ã¨ un repository centrale per i nomi utente locali sul server utilizzato quando si tratta di consegna e-mail.&lt;/p&gt;
&lt;p&gt;Non ho molto da dire sugli alias che non si poteva trovare su migliori risorse online, quindi non vi so dare grandi spiegazioni qui.&lt;/p&gt;
&lt;p&gt;Uso postfix sul mio server, e lo adoro, rende l'impostazione e-mail molto facile mentre sotto il cofano Ã¨ parecchio potente.&lt;/p&gt;
&lt;p&gt;Cosa c'Ã¨ in un file di alias? Scopriamolo.&lt;/p&gt;
&lt;p&gt;Ecco un esempio rapido di /etc/aliases:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;    # See man 5 aliases for format

    some_alias: some_unix_username
    some_other_alias: some_other_username
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;E' piuttosto semplice, giusto?&lt;/p&gt;
&lt;p&gt;Ora, la grande domanda e': cosa possiamo fare attraverso una manipolazione degli alias?&lt;/p&gt;
&lt;p&gt;Molto, Ã¨ un file di testo dopotutto ;)&lt;/p&gt;
&lt;p&gt;Ecco cosa troverai alla fine del mio alias attuale:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;    cut...
    #weekmail_start
    this_alias_changes_every_day: my_linux_username
    #weekmail_end
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Il concetto qui Ã¨ piuttosto semplice, stiamo per creare una nuova e-mail diversa ogni giorno, utilizzando alcuni parametri che cambiano ogni giorno, in modo che non sarÃ  disponibile per spamming in tempi successivi. Il punto Ã¨ quello di inventare una regola con cui siamo in grado di calcolare l'indirizzo e-mail esatto ogni giorno.&lt;/p&gt;
&lt;p&gt;Ecco come usiamo alcuni comandi disponibili su bash in linux:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;#!/bin/bash&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;#need day of the week&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;dotw&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;date&lt;span class="w"&gt; &lt;/span&gt;+%A&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;number&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;date&lt;span class="w"&gt; &lt;/span&gt;+%d&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;month&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;date&lt;span class="w"&gt; &lt;/span&gt;+%m&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;alias&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$dotw$number$month&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;alias&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$alias&lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;tr&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"[:upper:]"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"[:lower:]"&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-z&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;then&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"Needs filename as argument."&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;exit&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;elif&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-f&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;then&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;fname&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;cat&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$fname&lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;sed&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'/weekmail_start/,/weekmail_end/d'&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="nv"&gt;$fname&lt;/span&gt;.weekmail

&lt;span class="w"&gt; &lt;/span&gt;cat&lt;span class="w"&gt; &lt;/span&gt;/sbin/weekmail&lt;span class="p"&gt;|&lt;/span&gt;sed&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'s/replaceme/'&lt;/span&gt;&lt;span class="nv"&gt;$alias&lt;/span&gt;&lt;span class="s1"&gt;'/'&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;/sbin/weekmail_changed

&lt;span class="w"&gt; &lt;/span&gt;cat&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$fname&lt;/span&gt;.weekmail&lt;span class="w"&gt; &lt;/span&gt;/sbin/weekmail_changed&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="nv"&gt;$fname&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;newaliases
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Logica degli alias usa e getta&lt;/h2&gt;
&lt;p&gt;Ok, i passi qui sono abbastanza lineari, ma controlliamoli assieme:&lt;/p&gt;
&lt;p&gt;1) riempire alcune varsiabili con cose che cambiano ogni giorno, prese tramite il comando "date" per creare degli alias usa e getta.
2) tagliare la parte "weekmail" dal file /etc/aliases (questo passaggio coinvolge l'editor sed) e salvare il risultato in un file temporaneo.
3) prendere una nuova porzione di weekmail da un altro file statico (/sbin/weekmail in questo esempio) e sostituire una stringa conosciuta con l'alias appena calcolato, quindi memorizzarlo da qualche parte.
4) creare un nuovo /etc/aliases unendo i due file precedentemente creati
5) invocare &lt;code&gt;newaliases&lt;/code&gt; per assicurarsi che il vostro nuovo alias sia attivato&lt;/p&gt;
&lt;p&gt;Ora basta metterlo nel crontab con "crontab -e":&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;    10 0 &lt;span class="gs"&gt;* *&lt;/span&gt; * /path_to/your_weekmail_script /etc/aliases
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et Voila'! Questo Ã¨ un bel indirizzo email spazzatura che hai appena creato, fresco ogni giorno!&lt;/p&gt;
&lt;p&gt;Sono abbastanza sicuro che i vantaggi di questo approccio dopo aver impostato delle wildcard pigliatutto (*@yourdomain.com) sono evidenti...&lt;/p&gt;
&lt;p&gt;Assicurati di inviarmi il tuo feedback se usi anche tu questo hack... il mio script Ã¨ stato buttato giu' velocemente (circa 10 minuti) e quindi dovrebbe essere il minimo sindacale...migliorabile.&lt;/p&gt;
&lt;p&gt;Spero che vi sia utile, ragazzi. Vi faccio i migliori auguri!&lt;/p&gt;
&lt;p&gt;&lt;em&gt;p.s.: Riporto qui un articolo davvero vecchio (2008) comparso sul mio primo blog, ma che suona stranamente attuale, dato che il problema dello SPAM e' esploso in questi quasi 20 anni&lt;/em&gt;&lt;/p&gt;</content><category term="Tech"/><category term="Tutorial"/><category term="Email"/><category term="Hack"/><category term="Howto"/></entry><entry><title>Self hosted throwaway emails for dummies</title><link href="https://www.simonemessaggi.it/2008/03/en/throwaway-emails-for-dummies/" rel="alternate"/><published>2008-03-12T00:00:00+01:00</published><updated>2008-03-12T00:00:00+01:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2008-03-12:/2008/03/en/throwaway-emails-for-dummies/</id><summary type="html">&lt;p&gt;Do you host email on your own server? Good! Do you wanna have an email that you can give away for registrations without worrying about the endless amount of spam you'll end up getting?&lt;/p&gt;
&lt;p&gt;Then read on, maybe this stuff is for you...&lt;/p&gt;
&lt;p&gt;One of the simple ways in which â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Do you host email on your own server? Good! Do you wanna have an email that you can give away for registrations without worrying about the endless amount of spam you'll end up getting?&lt;/p&gt;
&lt;p&gt;Then read on, maybe this stuff is for you...&lt;/p&gt;
&lt;p&gt;One of the simple ways in which many, if not all, of the above points can be accomplished is a very simple hack of your linux/unix config.&lt;/p&gt;
&lt;h2&gt;Having fun with your /etc/aliases&lt;/h2&gt;
&lt;p&gt;What is an /etc/aliases file on *nix systems? it's a central repository for local usernames on your server used when dealing with email delivery.&lt;/p&gt;
&lt;p&gt;I don't really have much to say about aliases that you couldn't find on better online resources, therefore I won't provide much explanation here.&lt;/p&gt;
&lt;p&gt;I use postfix on my server, and I frickin' love it, it makes email setup a breeze while being very powerful.&lt;/p&gt;
&lt;p&gt;So what's there in an aliases file? Let's find out.&lt;/p&gt;
&lt;p&gt;Here's an exempt of an actual cat of /etc/aliases:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;    # See man 5 aliases for format

    some_alias: some_unix_username
    some_other_alias: some_other_username
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That's pretty simple uh?&lt;/p&gt;
&lt;p&gt;Now the big question is, what can we accomplish through some aliases manipulation?&lt;/p&gt;
&lt;p&gt;A lot, it's a text file after all ;)&lt;/p&gt;
&lt;p&gt;Here's what you'll find at the end of my current alias:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;    cut...
    #weekmail_start
    this_alias_changes_every_day: my_linux_username
    #weekmail_end
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The concept here's pretty simple, we're going to create a different, new email every day, using some parameters that change daily, so that it won't be available for spamming at later times. The point is to make up some rule with which we are able to compute the exact email address every day.&lt;/p&gt;
&lt;p&gt;That's when some bash scripting + linux readily available commands come into play:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;#!/bin/bash&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;#need day of the week&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;dotw&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;date&lt;span class="w"&gt; &lt;/span&gt;+%A&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;number&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;date&lt;span class="w"&gt; &lt;/span&gt;+%d&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;month&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;date&lt;span class="w"&gt; &lt;/span&gt;+%m&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;alias&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$dotw$number$month&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;alias&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$alias&lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;tr&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"[:upper:]"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"[:lower:]"&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-z&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;then&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"Needs filename as argument."&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;exit&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;elif&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-f&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;then&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;fname&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;cat&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$fname&lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;sed&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'/weekmail_start/,/weekmail_end/d'&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="nv"&gt;$fname&lt;/span&gt;.weekmail

&lt;span class="w"&gt; &lt;/span&gt;cat&lt;span class="w"&gt; &lt;/span&gt;/sbin/weekmail&lt;span class="p"&gt;|&lt;/span&gt;sed&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'s/replaceme/'&lt;/span&gt;&lt;span class="nv"&gt;$alias&lt;/span&gt;&lt;span class="s1"&gt;'/'&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;/sbin/weekmail_changed

&lt;span class="w"&gt; &lt;/span&gt;cat&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$fname&lt;/span&gt;.weekmail&lt;span class="w"&gt; &lt;/span&gt;/sbin/weekmail_changed&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="nv"&gt;$fname&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;newaliases
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Throwaway alias logic&lt;/h2&gt;
&lt;p&gt;Ok, the steps here are pretty straightforward, but let's check'em out:&lt;/p&gt;
&lt;p&gt;1) fill some vars with stuff that is different every day, taken from the "date" command invocation and craft your throwaway alias.
2) cut away the "weekmail" part from the current /etc/aliases (this step involves the sed editor) and save the result in a temp file.
3) take a new weekmail portion from another, static file (/sbin/weekmail in this example) and replace a known string with the freshly computed alias, then store it somewhere.
4) craft a new /etc/aliases by joining the two previously created files
5) invoke "newaliases" to make sure your new alias is activated&lt;/p&gt;
&lt;p&gt;Now you just have to put it in your crontab with "crontab -e":&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;    10 0 &lt;span class="gs"&gt;* *&lt;/span&gt; * /path_to/your_weekmail_script /etc/aliases
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et Voila' ! That's some nice junk email address you have there, fresh every day!&lt;/p&gt;
&lt;p&gt;I'm pretty sure the pros of this approach after the * wildcard catchall approach (*@yourdomain.com) are self evident...&lt;/p&gt;
&lt;p&gt;Be sure to send me some feedback if you elaborate over this hack... my script was scratched down with fingernails on a blackboard in a hurry (took me about 10 mins) and so it oughta be the bare minimum...&lt;/p&gt;
&lt;p&gt;Hope it turns out useful for you guys, Wish you all the best!&lt;/p&gt;
&lt;p&gt;&lt;em&gt;p.s.: I'm republishing this ancient article (2008) from my first blog. The thing is I found it still rather enjoyable today as it was when originally published. Due to the fact that email SPAM has exploded in the last 20 years&lt;/em&gt;&lt;/p&gt;</content><category term="Tech"/><category term="Tutorial"/><category term="Email"/><category term="Hack"/></entry><entry><title>Album review: Wim Roelants - Burn</title><link href="https://www.simonemessaggi.it/2007/06/en/album-review-wim-roelants-burn/" rel="alternate"/><published>2007-06-27T00:00:00+02:00</published><updated>2007-06-27T00:00:00+02:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2007-06-27:/2007/06/en/album-review-wim-roelants-burn/</id><summary type="html">&lt;p&gt;&lt;em&gt;This is an ancient album review I wrote in 2007: Wim Roelants - Burn&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Wim is an established sessionman / studio guitar player in Belgium. Apart from being a performer, endorser, guitar instructor and clinician for many years, Wim is also a composer and songwriter, and "Burn" is his first solo CD â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;em&gt;This is an ancient album review I wrote in 2007: Wim Roelants - Burn&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Wim is an established sessionman / studio guitar player in Belgium. Apart from being a performer, endorser, guitar instructor and clinician for many years, Wim is also a composer and songwriter, and "Burn" is his first solo CD.&lt;/p&gt;
&lt;p&gt;The album is composed of 10 original tracks, the genre is instrumental guitar rock, with some blues/fusion accents and also a little bit of funkiness, which never hurts, if you ask me.&lt;/p&gt;
&lt;p&gt;The first track, with its meditative tones, is quite an unusual way to start such a record, but the phrasing is interesting, as the jazzy chord progression drives its way to the end about 6 minutes later, with the help of a tight rythm section. I think it's a good resume of Wim's musical taste, but I found it a little unfocused, to say the least.&lt;/p&gt;
&lt;p&gt;The title track, one of the album's best moments, has a catchy melody, and is a nice showcase of Wim's guitaristic prowess. the guitar works are well executed and overall solid. Wim sure is a talented guitar player and he's capable of many different styles. His soloing is pretty conventional though, it shows good feeling but it gets somewhat repetitive after some listening.&lt;/p&gt;
&lt;p&gt;The work of the other musicians involved in this project is truly first class, as it sounds inspired, like if the four have been playing together for a long time.&lt;/p&gt;
&lt;p&gt;Shades, the 3rd track, with its slower pace and bluesy roots, is also quite enjoyable. I found that it benefits quite a lot by the inclusion of background acoustic guitars and the occasional funky rythm guitar.&lt;/p&gt;
&lt;p&gt;The Quickening 2 intro brought to memory some of Steve Morse works with his band, the four musicians play tightly and there's room for some harmonic exploration as well as some true shredding moments.&lt;/p&gt;
&lt;p&gt;That said, I'm pleased to say that Wim is the kind of guitarist which is more after good melodies rather than the showcase of mad guitar skills. I personally like his kind of approach, cause the world's full of soulless notes-per-second machines and awful songs, and this is not the case with Wim.&lt;/p&gt;
&lt;p&gt;All in all, the impression I received after repeated listenings of Burn is of a quite traditional guitar record. The production is about average, the kind of stuff you would expect from other guitar "solo" albums, and I guess this doesn't help much the "novelty factor". Maybe a less conventional approach could have made this record more enjoyable.&lt;/p&gt;
&lt;p&gt;Bronze is another delicate, acoustic rock/fusion ballad, and like "in your eyes" it doesn't hurt, but it doesn't either add much to the overall character of the record.&lt;/p&gt;
&lt;p&gt;The Kickstart 2 oriental feeling is welcomed as a good change to the record's uniformity of style. The guitar's heavier sound leave a distinct mark but I found the bass the most convincing trait of this track. The soloing is, again, good but didn't strike me as particuarly original or new.&lt;/p&gt;
&lt;p&gt;Karnak Karma, on the other hand, is maybe the most original of all the included tracks, with its ethnic character and the 2/4 drumming, I would say it's refreshing and therefore, a good variation of Wim's musical tone.&lt;/p&gt;
&lt;p&gt;To resume this album in a sentence, I would say "Burn" is a solid instrumental record with the predominance of softer, more melodic tracks. Even without truly excelling at anything in particular it's surely worth listening, especially if you're into melodic guitar works.&lt;/p&gt;
&lt;p&gt;Wim cites Satriani, Steve Vai and John Petrucci as his main influences, but I found his style also very close to that of guitarist Andy Timmons.&lt;/p&gt;
&lt;p&gt;I you like this records I suggest that you check out also:&lt;/p&gt;
&lt;p&gt;"Tricot no pais das maravilhas" by Goncalo Pereira
Any record by Andy Timmons (Andy Timmons Band)&lt;/p&gt;
&lt;p&gt;You can check out Wim and his works &lt;a href="http://www.wimroelants.com/"&gt;here&lt;/a&gt;&lt;/p&gt;</content><category term="Music"/><category term="Review"/><category term="Album"/></entry><entry><title>The Manowar 'epic' years</title><link href="https://www.simonemessaggi.it/2007/05/en/manowar-the-epic-years/" rel="alternate"/><published>2007-05-23T00:00:00+02:00</published><updated>2007-05-23T00:00:00+02:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2007-05-23:/2007/05/en/manowar-the-epic-years/</id><summary type="html">&lt;p&gt;When I was a kid I used to be a huge Manowar fan for maybe 1 or two years.&lt;/p&gt;
&lt;p&gt;One of my best friend got this Manowar double cd + videotape set which was very epic and fun (Hey Ace, how's it going?)&lt;/p&gt;
&lt;p&gt;I remember listening to "Hail to England" &amp;amp; "Into â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;When I was a kid I used to be a huge Manowar fan for maybe 1 or two years.&lt;/p&gt;
&lt;p&gt;One of my best friend got this Manowar double cd + videotape set which was very epic and fun (Hey Ace, how's it going?)&lt;/p&gt;
&lt;p&gt;I remember listening to "Hail to England" &amp;amp; "Into glory ride" at least a thousand times. And I'm still doing so once in a while, with a different spirit.&lt;/p&gt;
&lt;p&gt;But the very best part was the videotape, containing a sort of documentary of all things Manowar.&lt;/p&gt;
&lt;p&gt;I've seen it many times and I used to remember all the hymns and slogans it contained, something very close to a religious cult.&lt;/p&gt;
&lt;p&gt;I admit this "True Metal" thing is mostly bullshit but I recognize it was very fun at the time and I don't regret being a Manowar zealot, it didn't last much though.&lt;/p&gt;
&lt;p&gt;If you feel nostalgic you can always chek the videotape I'm talking about, as some pious soul finally put it up on YouTube, the internet pulsating collective Memory / Soul.&lt;/p&gt;
&lt;p&gt;It's called &lt;strong&gt;Secret of Steel&lt;/strong&gt;, and it brought back so many memories!&lt;/p&gt;
&lt;iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="" frameborder="0" height="315" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube-nocookie.com/embed/1JPfQd4Ap8A?si=8_Xvo-kntTZHWfCv" title="YouTube video player" width="560"&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;em&gt;Note from the future: This was some of the worst rock'n'roll sexist macho male stuff out there, totally unconceivable today, but it was so funny, I don't believe in these valors honestly, but please don't stigmatize / cancel this and learn from the past to make sense of the present and future times! Also, the youtube video might be gone or could be seen only on their damn platform, I didn't upload it and honestly I can't control it in any way, sorry.&lt;/em&gt;&lt;/p&gt;</content><category term="Music"/><category term="Tutorial"/><category term="Email"/><category term="Hack"/></entry></feed>