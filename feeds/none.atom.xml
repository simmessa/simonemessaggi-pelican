<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>SimoneMessaggi.it - none</title><link href="https://www.simonemessaggi.it/" rel="alternate"/><link href="https://www.simonemessaggi.it/feeds/none.atom.xml" rel="self"/><id>https://www.simonemessaggi.it/</id><updated>2025-09-20T00:00:00+02:00</updated><subtitle>Learn the most from the worst</subtitle><entry><title>Controlling Govee lights from your LAN in Home Assistant</title><link href="https://www.simonemessaggi.it/2025/09/en/control-govee-lights-local-lan-home-assistant/" rel="alternate"/><published>2025-09-20T00:00:00+02:00</published><updated>2025-09-20T00:00:00+02:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2025-09-20:/2025/09/en/control-govee-lights-local-lan-home-assistant/</id><summary type="html">&lt;p&gt;I'm a big fan of Govee lights (&lt;a href="https://amzn.to/3KcybEE"&gt;this&lt;/a&gt; is the latest I've bought, and it's excellent), they're cheap, work well and you can also integrate them with your home automation.&lt;/p&gt;
&lt;p&gt;By the way, I'm using home assistant to control my smart home.&lt;/p&gt;
&lt;h2&gt;API key from China?&lt;/h2&gt;
&lt;p&gt;I used to apply â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;I'm a big fan of Govee lights (&lt;a href="https://amzn.to/3KcybEE"&gt;this&lt;/a&gt; is the latest I've bought, and it's excellent), they're cheap, work well and you can also integrate them with your home automation.&lt;/p&gt;
&lt;p&gt;By the way, I'm using home assistant to control my smart home.&lt;/p&gt;
&lt;h2&gt;API key from China?&lt;/h2&gt;
&lt;p&gt;I used to apply for an API key in order to interact with the Govee ecosystem, Govee are more than happy to hand out API keys to interact with their cloud services but in my experience they sometimes fail or the Home Assistant extensions stop working and in that case, it's a mess.&lt;/p&gt;
&lt;p&gt;Finally someone at Govee understood this and decided to enable a feature on some of their products (the most recent ones, to be fair) that would make life slightly easier for the smart home owners: &lt;strong&gt;local LAN control&lt;/strong&gt; of Govee lights!&lt;/p&gt;
&lt;h2&gt;What extension in Home Assistant?&lt;/h2&gt;
&lt;p&gt;There are many integrations for Govee light control, and I found this pretty confusing at first, so here's a list:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Govee on HACS &lt;a href="https://www.home-assistant.io/integrations/govee_light_local"&gt;link&lt;/a&gt; now discontinued :(&lt;/li&gt;
&lt;li&gt;GoveeLife &lt;a href="https://github.com/disforw/goveelife"&gt;link&lt;/a&gt; which seems more of a &lt;em&gt;work in progress&lt;/em&gt; at the moment&lt;/li&gt;
&lt;li&gt;Govee LAN control &lt;a href="https://www.home-assistant.io/integrations/govee_light_local"&gt;link&lt;/a&gt; / &lt;a href="https://github.com/home-assistant/core/tree/dev/homeassistant/components/govee_light_local"&gt;link&lt;/a&gt; last commit about 1 year ago :(&lt;/li&gt;
&lt;li&gt;Govee MQTT &lt;a href="https://github.com/wez/govee2mqtt"&gt;link&lt;/a&gt; last commit about 5 months ago :S&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It's quite messy, I know, and if you care about integrations that are properly maintained, the situation looks a bit dire I'm afraid.&lt;/p&gt;
&lt;p&gt;After a bit of struggle I decided to go with GoveeMQTT which should be preferable to Govee LAN control (both from the same author). At the same time I stopped using the original Govee integration found on HACS, which had issues from time to time. Smart life is complicated, you know :|
This choice also appeared as the best one since Govee LAN control doesn't even work with recent home assistant versions (the issue is very similar to this one here: &lt;a href="https://github.com/LaggAt/hacs-govee/issues/234"&gt;issue&lt;/a&gt;)&lt;/p&gt;
&lt;h2&gt;Docker install&lt;/h2&gt;
&lt;p&gt;I run everything on Docker in my home lab, so I started from this guide:
&lt;a href="https://github.com/wez/govee2mqtt/blob/main/docs/DOCKER.md"&gt;Docker.md&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;version&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;'3.8'&lt;/span&gt;
&lt;span class="nt"&gt;services&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;pv2mqtt&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;ghcr.io/wez/govee2mqtt:latest&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;govee2mqtt&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;env_file&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;.env&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# Host networking is required&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;network_mode&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;host&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And converted to something that would run on k8s, for my convenience.&lt;/p&gt;
&lt;p&gt;Keep in mind an .env file is required to set a bunch of env variables, older versions also used a &lt;em&gt;config.yaml&lt;/em&gt; file but recent ones don't need it so don't bother.&lt;/p&gt;
&lt;p&gt;Is this able to control from LAN? Well, let me cite the project developer, when he speaks about the project features:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Robust LAN-first design. Not all of Govee's devices support LAN control, but for those that do, you'll have the lowest latency and ability to control them even when your primary internet connection is offline.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;So, that's basically what we're looking for, great news!&lt;/p&gt;
&lt;p&gt;After you have installed and run the docker container and you're sure it's up and running with the config.yaml you just created, you can install the Govee2Mqtt Add-on, here's a guide:
&lt;a href="https://github.com/wez/govee2mqtt/blob/main/docs/ADDON.md"&gt;Link&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This works only if you're on HAOS or HA supervised, since I don't do that, I need to use the alternative way, described here:
&lt;a href="https://github.com/wez/govee2mqtt/blob/main/docs/DOCKER.md"&gt;Link&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Oh, if I had a dime for every time somebody created HA integrations via Add-ons and forget to give other users a way to make'em work... but this is an example of how this can usually be figured out.&lt;/p&gt;
&lt;p&gt;Ok, we need to add those env vars, use a .env file if that suits you, while I put them in the k8s yaml manifest, details are irrelevant here.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# Optional, but strongly recommended&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;GOVEE_EMAIL=user@example.com&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# DON'T PUT THIS!!!&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;GOVEE_PASSWORD=secret&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# DON'T PUT THIS!!!&lt;/span&gt;
&lt;span class="c1"&gt;# Optional, but recommended&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;GOVEE_API_KEY=UUID&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;GOVEE_MQTT_HOST=mqtt&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;GOVEE_MQTT_PORT=1883&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;# Uncomment if your mqtt broker requires authentication&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;#GOVEE_MQTT_USER=user&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;#GOVEE_MQTT_PASSWORD=password&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;# Specify the temperature scale to use, either C for Celsius&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;# or F for Fahrenheit&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;GOVEE_TEMPERATURE_SCALE=C&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;# Always use colorized output&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;RUST_LOG_STYLE=always&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;# If you are asked to set the debug level, uncomment the next line&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;#RUST_LOG=govee=trace&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;# Set the timezone for timestamps in the log&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;TZ=America/Phoenix&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You should absolutely avoid putting your govee credentials in the env, or it might not even work (see &lt;a href="https://github.com/wez/govee2mqtt/issues/141#issuecomment-1957655671"&gt;issue&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Come on this addon has pretty bad issues with docs... well I guess we can't complain given it's free and it works in the end, we're almost there!&lt;/p&gt;
&lt;p&gt;One of the good news is that the MQTT devices will be auto discovered on Home Assistant, provided that you have the MQTT integration installed, that is. If you don't already have it you really should, trust me.&lt;/p&gt;
&lt;p&gt;Ok, it's not really well documented but the docker container will also expose a decent enough HTTP interface, here's an example:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Govee MQTT gui" src="/images/govee_lan_gui.png"/&gt;&lt;/p&gt;
&lt;p&gt;I especially like the fact that you can check what's being controlled via LAN API vs Govee (somewhat unreliable) cloud.&lt;/p&gt;
&lt;p&gt;That's all, I hope your govee experience will be smooth as mine (or even smoother :) )&lt;/p&gt;</content><category term="none"/><category term="Govee"/><category term="Led lights"/><category term="Home Assistant"/><category term="DIY"/><category term="Home automation"/><category term="Tech"/></entry><entry><title>Just your title</title><link href="https://www.simonemessaggi.it/2025/08/en/your-slug-here/" rel="alternate"/><published>2025-08-19T00:00:00+02:00</published><updated>2025-08-19T00:00:00+02:00</updated><author><name>simmessa</name></author><id>tag:www.simonemessaggi.it,2025-08-19:/2025/08/en/your-slug-here/</id><content type="html">&lt;p&gt;&lt;em&gt;Just an empty template!&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Your text&lt;/p&gt;
&lt;p&gt;&lt;img alt="ALT text" src="./images/coverimage.jpg"/&gt;&lt;/p&gt;
&lt;h2&gt;Title&lt;/h2&gt;
&lt;h3&gt;Subtitle&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;One:&lt;/strong&gt; One thing&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Two:&lt;/strong&gt; Another&lt;/li&gt;
&lt;/ul&gt;</content><category term="none"/><category term="tag1"/><category term="tag2"/></entry></feed>